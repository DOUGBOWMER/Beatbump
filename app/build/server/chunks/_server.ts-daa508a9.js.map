{"version":3,"file":"_server.ts-daa508a9.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/v1/next.json/_server.ts.js"],"sourcesContent":["import{P as y}from\"../../../../../chunks/playlistPanelVideoRenderer.js\";import{f as m}from\"../../../../../chunks/utils.js\";import{e as p,j as R}from\"../../../../../chunks/index2.js\";import{b as x}from\"../../../../../chunks/request.js\";function C(t){if(\"playlistPanelVideoRenderer\"in t)return y(t.playlistPanelVideoRenderer)}function P(t){return!!t}function g(t=[],e,r,n,o){return{currentMixId:n.playlistId,continuation:e,clickTrackingParams:r,visitorData:o,results:m(t,C,P)}}const A=async({url:t})=>{const e=t.searchParams,r=e.get(\"params\")||void 0,n=e.get(\"visitorData\")||\"CgtlV0xyWk92dWZ5Zyilgu6ZBg%3D%3D\",o=e.get(\"loggingContext\")||\"\",i=e.get(\"videoId\")||\"\",s=e.get(\"playlistId\")||\"RDAMVM\"+(i??\"\"),a=e.has(\"ctoken\")?decodeURIComponent(decodeURIComponent(e.get(\"ctoken\"))):void 0,c=parseInt(e.get(\"index\"))||void 0,l=e.get(\"clickTracking\")||void 0,b=e.get(\"playlistSetVideoId\")||void 0,u=await x(\"next\",{context:{clickTracking:{clickTrackingParams:l?decodeURIComponent(decodeURIComponent(l)):void 0},client:{clientName:\"WEB_REMIX\",clientVersion:\"1.20220404.01.00\",visitorData:n}},params:{loggingContext:{vssLogingContext:{serializedContextData:o??void 0}},enablePersistentPlaylistPanel:!0,isAudioOnly:!0,tunerSettingValue:\"AUTOMIX_SETTING_NORMAL\",continuation:a,videoId:i,index:c,playlistSetVideoId:b,playlistId:s,params:r??\"\"},headers:{}}).then(d=>{if(!d.ok)throw p(500,d.statusText);return d.json()});if(!a){const d=k(u);return R(Object.assign({},d,{response:u}))}return R(Object.assign({},I(u),{response:u}))};function k(t){try{const e=t?.contents?.singleColumnMusicWatchNextResultsRenderer?.tabbedRenderer?.watchNextTabbedResultsRenderer?.tabs||[],r=Array.isArray(e)&&e[2]?.tabRenderer?.endpoint?.browseEndpoint,n=Array.isArray(e[0]?.tabRenderer?.content?.musicQueueRenderer?.content?.playlistPanelRenderer?.contents)&&e[0]?.tabRenderer?.content?.musicQueueRenderer?.content?.playlistPanelRenderer?.contents,o=Array.isArray(n)&&n[n.length-1]?.playlistPanelVideoRenderer?.navigationEndpoint?.clickTrackingParams||null,i=Array.isArray(t?.contents?.singleColumnMusicWatchNextResultsRenderer?.tabbedRenderer?.watchNextTabbedResultsRenderer?.tabs[0]?.tabRenderer?.content?.musicQueueRenderer?.content?.playlistPanelRenderer?.continuations)&&t?.contents?.singleColumnMusicWatchNextResultsRenderer?.tabbedRenderer?.watchNextTabbedResultsRenderer?.tabs[0]?.tabRenderer?.content?.musicQueueRenderer?.content?.playlistPanelRenderer?.continuations[0]?.nextRadioContinuationData?.continuation||null,s=t?.currentVideoEndpoint?.watchEndpoint,a=t?.responseContext?.visitorData,c=g(n,i,o,s||\"\",a);return Object.assign(c,{related:r})}catch(e){throw console.error(e),p(500,e)}}function I(t){const{responseContext:e={},continuationContents:{playlistPanelContinuation:{contents:r=[],continuations:[{nextRadioContinuationData:{continuation:n=\"\"}={}}={}]=[],...o}={}}={}}=t,i=r.at(-1)?.playlistPanelVideoRenderer?.navigationEndpoint?.clickTrackingParams,s=e?.visitorData,a=g(r,n,i,o,s),c=t?.contents?.singleColumnMusicWatchNextResultsRenderer?.tabbedRenderer?.watchNextTabbedResultsRenderer?.tabs||[],l=Array.isArray(c)&&c[2]?.tabRenderer?.endpoint?.browseEndpoint;return Object.assign(a,{related:l})}export{A as GET};\n"],"names":["y","m","o","c","x","p","R"],"mappings":"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"}