import { c as ct, A, W as W$1, n as nt, e as et, u as ut, j as j$1, o as ot, r as rt } from './index-02d8ed20.js';
import { c as ce, a as he, l, u, o as oe, k as f, w as F } from './utils-c5816fb5.js';
import { y, _ } from './PopperButton-4deb1702.js';
import { e } from './url-764d83e3.js';

const j={code:'.menu.svelte-16qu9ay.svelte-16qu9ay{padding-right:.6em}.hidden.svelte-16qu9ay.svelte-16qu9ay{display:none!important;visibility:hidden!important}.artist-stats.svelte-16qu9ay.svelte-16qu9ay{align-items:center;display:inline-flex;font-size:.9em;font-weight:400;pointer-events:auto}.itemWrapper.svelte-16qu9ay.svelte-16qu9ay{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;margin:0;padding:.3em .3em .3em .6em;width:100%}p.svelte-16qu9ay.svelte-16qu9ay{margin:.2rem 0}.container.svelte-16qu9ay.svelte-16qu9ay:not(.menu){background:transparent;contain:paint;cursor:pointer;display:flex;flex:1 1 auto;flex-direction:row;flex-wrap:nowrap;max-width:unset!important;transition:background .125s cubic-bezier(.25,.46,.45,.94);width:100%}.container.svelte-16qu9ay.svelte-16qu9ay:not(.menu):active,.container.svelte-16qu9ay.svelte-16qu9ay:not(.menu):hover{background:rgba(67,68,73,.349)}.text-artist.svelte-16qu9ay.svelte-16qu9ay{--line-height:1.4;-webkit-line-clamp:2;-webkit-box-orient:vertical;--lines:2;--max-lines:var(--lines);-webkit-line-clamp:var(--max-lines);display:-webkit-box;font-size:.925em;margin-top:0;max-height:2rem;max-height:calc(var(--max-lines)*1rem*var(--line-height));overflow:hidden}.text-title.svelte-16qu9ay.svelte-16qu9ay{display:block;font-size:1em;font-weight:400;max-width:calc(100% - 2ch)!important;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-title.svelte-16qu9ay.svelte-16qu9ay:hover{cursor:pointer;-webkit-text-decoration:underline solid currentColor .0714rem;text-decoration:underline solid currentColor .0714rem}img.svelte-16qu9ay.svelte-16qu9ay{height:auto;width:auto}img.svelte-16qu9ay.svelte-16qu9ay:before{content:"";display:block;padding-top:66.6666666667%}.innercard.svelte-16qu9ay.svelte-16qu9ay{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;padding:.4rem 0;position:relative;width:100%}@media screen and (min-width:640px){.innercard.svelte-16qu9ay.svelte-16qu9ay{padding:.2rem 0}}.title.svelte-16qu9ay.svelte-16qu9ay{align-self:center;display:inline-flex;flex-direction:column;font-size:100%;margin-left:1rem;width:50vmin}.img-container.svelte-16qu9ay.svelte-16qu9ay{border-radius:.5263157895em;display:block;height:5rem;max-width:5rem;min-width:5rem;position:relative;width:100%}.img-container.svelte-16qu9ay .thumbnail.svelte-16qu9ay{background:rgba(13,13,15,.192);border-radius:inherit;height:100%;width:100%}.img-container.svelte-16qu9ay .thumbnail img.svelte-16qu9ay{border-radius:inherit;height:100%;object-fit:contain;width:100%}.artist-img.svelte-16qu9ay.svelte-16qu9ay{border-radius:99999em}a.svelte-16qu9ay.svelte-16qu9ay{color:inherit}@media(min-width:640px){.container.svelte-16qu9ay.svelte-16qu9ay:active:not(.menu){background:rgba(99,102,113,.349)}}',map:null},z=/=w\d+-h\d+-/gm,W=ct((y$1,v,m,D)=>{let h,b,n,q,o,g;b=A(e,t=>h=t),q=A(ce,t=>n=t),g=A(he,t=>o=t);let{data:e$1}=v;W$1();let w=!!nt("library"),u$1=Array.isArray(e$1?.subtitle)&&e$1.subtitle[0]?.text==="Artist",i=[{text:"View Artist",icon:"artist",action:async()=>{window.scrollTo({behavior:"smooth",top:0,left:0}),await et(),y(`/artist/${e$1?.subtitle.find(t=>t?.pageType?.includes("ARTIST"))?.browseId??e$1.artistInfo.artist[0].browseId}`);}},{text:"Go to Album",icon:"album",action:()=>{window.scrollTo({behavior:"smooth",top:0,left:0}),y(`/release?id=${e$1?.album?.browseId}`);}},{text:"Play Next",icon:"queue",action:()=>l.hasActiveSession?l.addToQueue(e$1,o):u.setTrackWillPlayNext(e$1,o)},{text:"Add to Queue",icon:"queue",action:()=>l.hasActiveSession?l.addToQueue(e$1,n.length):u.setTrackWillPlayNext(e$1,n.length)},{text:"Add to Playlist",icon:"list-plus",action:async()=>{if(e$1?.endpoint?.pageType.match(/PLAYLIST|ALBUM|SINGLE/)){const T=await(await fetch("/api/v1/get_queue.json?playlistId="+e$1?.playlistId)).json();oe.set({state:!0,item:[...T]});}else oe.set({state:!0,item:e$1});}},{text:w?"Remove From Favorites":"Favorite",icon:w?"x":"heart",action:async()=>{}},l.hasActiveSession?{text:"Invite Group Session",icon:"send",action:async()=>{}}:{text:"Start Group Session",icon:"users",action:async()=>{}},{text:"Share",icon:"share",action:async()=>{const t={title:e$1.title,url:`${h}/listen?id=${e$1.videoId}`};try{navigator.canShare?(await navigator.share(t),f("Shared successfully","success")):(await navigator.clipboard.writeText(t.url),f("Link copied successfully","success"));}catch(x){f("Error: "+x,"error");}}}];u$1&&(i=i.filter(t=>!t.text?.includes("Add to Playlist"))),e$1.type?.includes("playlist")&&(i.splice(1,1,{text:"View Playlist",icon:"list",action:()=>{window.scrollTo({behavior:"smooth",top:0,left:0}),y(`/playlist/${e$1?.endpoint?.browseId}`);}}),i.shift(),i.pop(),i=i.filter(t=>!t.text.includes("Favorite"))),e$1.type==="videos"&&(i=i.filter(t=>{t.text;})),e$1?.album?.browseId===void 0&&(i=F(i,t=>t.text!=="Go to Album")),u$1&&(i=F(i,t=>t.text!=="View Artist"));let a=Array.isArray(e$1?.thumbnails)?e$1?.thumbnails.at(0):{width:0,height:0,url:"",placeholder:""};return v.data===void 0&&m.data&&e$1!==void 0&&m.data(e$1),y$1.css.add(j),a.url=a.width<100?a.url.replace(z,"=w240-h240-"):a.url,b(),q(),g(),`





<div class="container svelte-16qu9ay"><div class="innercard svelte-16qu9ay"><div class="itemWrapper svelte-16qu9ay"><div class="${["img-container svelte-16qu9ay",u$1?"artist-img":""].join(" ").trim()}">
				<div class="thumbnail svelte-16qu9ay"><img alt="thumbnail"${ut("loading","lazy",0)}${ut("width",a.width,0)}${ut("height",a.height,0)}${ut("src",a.url,0)} class="svelte-16qu9ay"></div></div>
			<div class="title svelte-16qu9ay"><p class="text-title svelte-16qu9ay">${j$1(e$1.title)}
					<span class="${["explicit svelte-16qu9ay",e$1.explicit?"":"hidden"].join(" ").trim()}"><span class="sr-only">Explicit</span></span></p>
				${e$1.type==="artists"?`<p class="artist-stats svelte-16qu9ay">${ot(e$1.subtitle,t=>`${j$1(t.text)}`)}</p>`:`${e$1.type==="playlist"?`<p class="text-artist svelte-16qu9ay">${j$1(e$1.type==="playlist"&&"metaData"in e$1?`${e$1.metaData}`:"")}</p>`:`<p class="text-artist secondary svelte-16qu9ay">${ot(e$1?.subtitle,t=>`${t.pageType?`${t.pageType.includes("ALBUM")?`<a${ut("href",`/release?id=${t?.browseId}`,0)} class="svelte-16qu9ay">${j$1(t.text)}</a>`:`<a${ut("href",`/artist/${t?.browseId}`,0)} class="svelte-16qu9ay">${j$1(t.text)}</a>`}`:`${j$1(t.text)}`}`)}</p>`}`}</div></div>

		<div class="menu svelte-16qu9ay">${rt(_,"PopperButton").$$render(y$1,{metadata:{artist:e$1.type!=="playlist"&&Array.isArray(e$1?.subtitle)&&[e$1.subtitle.find(t=>t?.pageType?.includes("ARTIST"))??e$1.artistInfo?.artist[0]],thumbnail:e$1.thumbnails,title:e$1.title,length:e$1.type!=="artist"&&e$1.type!=="playlist"?e$1?.length?.text:""},type:"search",items:i},{},{})}</div></div>
</div>`});

export { W };
//# sourceMappingURL=Listing-e2741ab7.js.map
