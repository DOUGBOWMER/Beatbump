import { c as ct, A, W, i as it, r as rt, j, u as ut, o as ot, e as et } from './index-02d8ed20.js';
import { c as ce, u, b as ue$1, a as he, j as ae, p as pe, o as oe, k as f } from './utils-c5816fb5.js';
import { v } from './stores-1766503b.js';
import { k } from './Icon-04791803.js';
import { _, y } from './PopperButton-4deb1702.js';
import { o } from './service-b8fe1ba8.js';
import { c } from './contexts-b32c3976.js';
import { e } from './url-764d83e3.js';

const J={"View Artist":()=>({text:"View Artist",icon:"artist"}),"Add to Queue":()=>({text:"Add to Queue",icon:"queue"}),"Play Next":()=>({text:"Play Next",icon:"queue"}),Favorite:()=>({text:"Favorite",icon:"heart"}),"Start Group Session":()=>({text:"Start Group Session",icon:"users"}),Share:()=>({text:"Share",icon:"share"}),"Go to Album":()=>({text:"Go to Album",icon:"album"}),"Invite Group Session":()=>({text:"Invite Group Session",icon:"send"}),"View Playlist":()=>({text:"View Playlist",icon:"list"}),"Play Song Radio":()=>({text:"Play Song Radio",icon:"radio"}),"Remove From Playlist":()=>({text:"Remove From Playlist",icon:"x"}),"Add to Playlist":()=>({text:"Add to Playlist",icon:"list-plus"}),"Add to Favorites":()=>({text:"Add to Favorites",icon:"heart"}),"Share Group Session":()=>({text:"Share Group Session",icon:"share"}),Shuffle:()=>({text:"Shuffle",icon:"shuffle"}),"Shuffle Playlist":()=>({text:"Shuffle Playlist",icon:"shuffle"}),"Album Radio":()=>({text:"Album Radio",icon:"album"}),"Edit Playlist":()=>({icon:"edit",text:"Edit Playlist"}),"Remove from Queue":()=>({icon:"x",text:"Remove from Queue"})};function K(){const e=[];return {add:function(...n){const[s,d]=n;if(!s&&!d)return this;const a=J[s]();return a.action=d,e.push(a),this},build:function(){return e}}}const Z={code:'.m-item.svelte-56ewkd.svelte-56ewkd{align-content:center;cursor:pointer;display:flex;height:5.25em;justify-content:space-between;line-height:1.5;padding:0 1em;touch-action:auto}@media screen and (min-width:720px){.m-item.svelte-56ewkd.svelte-56ewkd{align-content:center;display:grid;flex:none;grid-template-areas:"left middle right";grid-template-columns:2.25em calc(100% - 4.8em) 2.45em}}@supports (content-visibility:auto){.m-item.svelte-56ewkd.svelte-56ewkd{content-visibility:auto}}.isPlaying.svelte-56ewkd.svelte-56ewkd{background:hsla(240,0%,57%,.192)}.index.svelte-56ewkd.svelte-56ewkd{display:none;visibility:none}@media screen and (min-width:720px){.index.svelte-56ewkd.svelte-56ewkd{display:grid;font-weight:600;grid-area:left;justify-items:center;opacity:1;place-self:center;pointer-events:none;text-align:center;visibility:visible;white-space:nowrap;width:1.5em}}.title.svelte-56ewkd.svelte-56ewkd{display:block;font-weight:400;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media screen and (min-width:720px){.title.svelte-56ewkd.svelte-56ewkd{max-width:calc(100% - .2em)}}.metadata.svelte-56ewkd.svelte-56ewkd{align-items:center;align-self:center;flex-direction:row;gap:.875em;grid-area:middle;max-width:calc(100% - 3em)}.column.svelte-56ewkd.svelte-56ewkd,.metadata.svelte-56ewkd.svelte-56ewkd{display:flex;width:100%}.column.svelte-56ewkd.svelte-56ewkd{flex-direction:column;justify-content:center;max-width:calc(100% - 4.45em)}.artists.svelte-56ewkd.svelte-56ewkd{-webkit-line-clamp:2;-webkit-box-orient:vertical;line-clamp:2;display:-webkit-box;font-family:CommissionerVariable,sans-serif;overflow:hidden}.artists.svelte-56ewkd span.svelte-56ewkd,.artists.svelte-56ewkd>a.svelte-56ewkd{color:#d4d4d4}.length.svelte-56ewkd.svelte-56ewkd{align-self:center;grid-area:right;width:2.45em}.thumbnail.svelte-56ewkd.svelte-56ewkd{aspect-ratio:1/1;border-radius:var(--xs-radius);max-height:4.25em;max-width:4.25em;min-height:4.25em;min-width:4.25em}@media screen and (min-width:720px){.thumbnail.svelte-56ewkd.svelte-56ewkd{margin-left:1em}}img.svelte-56ewkd.svelte-56ewkd{aspect-ratio:1/1;border-radius:var(--xs-radius);height:100%;object-fit:contain;position:relative;width:100%}img.svelte-56ewkd.svelte-56ewkd:before{content:"";display:block;padding-top:66.6666666667%}',map:null},ee=({item:e,idx:n,SITE_ORIGIN_URL:s,dispatch:d,page:a})=>K().add("View Artist",async()=>{y(`/artist/${e?.artistInfo?e.artistInfo.artist[0].browseId:e?.subtitle[0].browseId}`),await et(),window.scrollTo({behavior:"smooth",top:0,left:0});}).add("Play Song Radio",async()=>{console.log(e),u.initAutoMixSession({videoId:e.videoId,loggingContext:e?.loggingContext});}).add("Add to Playlist",async()=>{if(e.endpoint?.pageType.match(/PLAYLIST|ALBUM|SINGLE/)){const v=await(await fetch("/api/v1/get_queue.json?playlistId="+e.playlistId)).json();oe.set({state:!0,item:[...v]});}else oe.set({state:!0,item:e});d("change");}).add("Favorite",()=>{o.sendMessage("create","favorite",e);}).add(a==="queue"?"Remove from Queue":null,a==="queue"?()=>{u.removeTrack(n);}:null).add("Share",async()=>{let l={title:e.title,url:`${s}/listen?id=${e.videoId}`};e.endpoint?.pageType?.includes("MUSIC_PAGE_TYPE_PLAYLIST")&&(l={title:e.title,url:`${s}/playlist/${e.endpoint?.browseId}`}),e.endpoint?.pageType?.includes("MUSIC_PAGE_TYPE_ALBUM")&&(l={title:e.title,url:`${s}/release?id=${e.endpoint?.browseId}`}),e.endpoint?.pageType?.includes("MUSIC_PAGE_TYPE_ARTIST")&&(l={title:e.title,text:`${e.title} on AlphaTrack`,url:`${s}/artist/${e.endpoint?.browseId}`});try{navigator.canShare?(await navigator.share(l),f("Shared successfully","success")):(await navigator.clipboard.writeText(l.url),f("Link copied successfully","success"));}catch(r){f("Error: "+r,"error");}}).build(),ue=ct((e$1,n,s,d)=>{let a,l,r,v$1,f,b,x,k$1,y,$,P,I,S,_$1,A$1,T;r=A(ce,t=>l=t),v$1=A(u,t=>t),b=A(e,t=>f=t),k$1=A(ue$1,t=>x=t),$=A(he,t=>y=t),I=A(v,t=>P=t),_$1=A(ae,t=>S=t),T=A(pe,t=>A$1=t);let{item:i}=n,{idx:c$1}=n;const G=W(),{page:m,parentPlaylistId:te=null,visitorData:ie}=c.get();let w=!1;const L=ee({item:i,idx:c$1,SITE_ORIGIN_URL:f,dispatch:G,page:m});return n.item===void 0&&s.item&&i!==void 0&&s.item(i),n.idx===void 0&&s.idx&&c$1!==void 0&&s.idx(c$1),e$1.css.add(Z),a=(m!=="queue"&&m!=="release"?S.has(P.params.slug):!0)&&l.length>0&&y===c$1&&x.videoId===i.videoId,r(),v$1(),b(),k$1(),$(),I(),_$1(),T(),`





<article class="${["m-item svelte-56ewkd",a?"isPlaying":""].join(" ").trim()}" tabindex="0"><div class="index svelte-56ewkd"><span${it((a!==!0&&w!==!0?"hidden":"").trim())}>
			${rt(k,"Icon").$$render(e$1,{name:"play",color:"inherit",size:"1.5em"},{},{})}</span>
		<span${it((a!==!1||w!==!1?"hidden":"").trim())}>${j(c$1+1)}</span></div>
	<div class="metadata svelte-56ewkd">${i.thumbnails.length!==0?`<div class="thumbnail svelte-56ewkd"><img decoding="async" loading="lazy"${ut("src",i.thumbnails[0]?.url,0)}${ut("width",i.thumbnails[0]?.width,0)}${ut("height",i.thumbnails[0]?.height,0)} alt="thumbnail" class="svelte-56ewkd"></div>`:""}
		<div class="column svelte-56ewkd"><span class="title svelte-56ewkd">${j(i.title)}
				${i?.explicit?'<span class="explicit"><span class="sr-only">Explicit</span></span>':""}</span>
			<div class="artists secondary svelte-56ewkd">${Array.isArray(i.subtitle)?`${ot(i.subtitle,t=>`${t?.browseId?`<a class="artist secondary svelte-56ewkd"${ut("href",`/artist/${t.browseId}`,0)}>${j(t.text)}</a>`:`<span class="svelte-56ewkd">${j(t.text)} </span>`}`)}`:""}</div></div></div>
	${A$1||w?`<div class="length svelte-56ewkd" tabindex="0">${rt(_,"PopperButton").$$render(e$1,{tabindex:0,items:L},{},{})}</div>`:`<span class="${["length svelte-56ewkd",i?.length?"":"hidden"].join(" ").trim()}">${j((i?.length?.text??i.length)||"")}</span>`}
</article>`});

export { K, ue as u };
//# sourceMappingURL=ListItem-17989d74.js.map
