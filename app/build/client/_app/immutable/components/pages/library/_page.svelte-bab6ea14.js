import{S as Se,i as qe,s as Ve,k as v,a as q,q as T,au as mt,l as _,m,h as u,c as V,r as C,av as gt,n as f,$ as Xe,b as G,I as n,L as ae,u as _e,B as H,_ as yt,a6 as bt,w as ie,x as ne,y as re,a7 as It,a8 as kt,a9 as $t,f as B,g as ye,t as z,d as be,z as oe,P as dt,e as ke,N as Et,at as Dt,F as We,Y as Ne,D as Me,o as wt,A as Nt,aw as Pt,a1 as ft,J as je,M as St,ax as ht,p as vt,ay as _t,ao as qt}from"../../../chunks/index-02d4e276.js";import{H as Ae,o as ge,I as Vt}from"../../../chunks/window-3d9785aa.js";import{M as Mt,C as Tt}from"../../../chunks/CreatePlaylist-4dafb220.js";import{I as Ie}from"../../../chunks/Icon-33dd6fee.js";import{L as Ct}from"../../../chunks/Listing-f4e34f2e.js";import{s as me}from"../../../chunks/PopperButton-1074cc5a.js";import{g as At}from"../../../chunks/navigation-8392efd7.js";import{_ as Zt}from"../../../chunks/preload-helper-41c905a7.js";import{f as Pe}from"../../../chunks/index-a434d751.js";import{s as Ze,g as Gt,a as Rt,b as Lt}from"../../../chunks/db-c0455258.js";import{B as Ue}from"../../../chunks/Button-7bf5be0a.js";import{L as Bt}from"../../../chunks/Loading-e098347c.js";function Qe(a){var t,i,c,l,o,r;let e=((i=(t=a[0])==null?void 0:t.items)==null?void 0:i.length)===1?"1 Song":((l=(c=a[0])==null?void 0:c.items)==null?void 0:l.length)===0?"No tracks":`${(r=(o=a[0])==null?void 0:o.items)==null?void 0:r.length} Songs`,s;return{c(){s=T(e)},l(d){s=C(d,e)},m(d,h){G(d,s,h)},p(d,h){var g,I,D,b,k,P;h&1&&e!==(e=((I=(g=d[0])==null?void 0:g.items)==null?void 0:I.length)===1?"1 Song":((b=(D=d[0])==null?void 0:D.items)==null?void 0:b.length)===0?"No tracks":`${(P=(k=d[0])==null?void 0:k.items)==null?void 0:P.length} Songs`)&&_e(s,e)},d(d){d&&u(s)}}}function Ht(a){var Z;let e,s,t,i,c,l,o,r=a[0].name+"",d,h,g,I,D=(Z=a[0])!=null&&Z.description?a[0].description+" &bull; ":"",b,k,P,y=a[0].items!==void 0&&Qe(a);return{c(){e=v("article"),s=v("div"),t=v("img"),c=q(),l=v("div"),o=v("div"),d=T(r),h=q(),g=v("div"),I=new mt(!1),b=q(),y&&y.c(),this.h()},l(p){e=_(p,"ARTICLE",{class:!0});var w=m(e);s=_(w,"DIV",{class:!0});var M=m(s);t=_(M,"IMG",{width:!0,height:!0,loading:!0,src:!0,alt:!0,class:!0}),M.forEach(u),c=V(w),l=_(w,"DIV",{class:!0});var $=m(l);o=_($,"DIV",{class:!0});var E=m(o);d=C(E,r),E.forEach(u),h=V($),g=_($,"DIV",{class:!0});var A=m(g);I=gt(A,!1),b=V(A),y&&y.l(A),A.forEach(u),$.forEach(u),w.forEach(u),this.h()},h(){f(t,"width","200"),f(t,"height","200"),f(t,"loading","lazy"),Xe(t.src,i=a[0].thumbnail)||f(t,"src",i),f(t,"alt","thumbnail"),f(t,"class","svelte-d73wqm"),f(s,"class","img svelte-d73wqm"),f(o,"class","item-title svelte-d73wqm"),I.a=b,f(g,"class","item-description svelte-d73wqm"),f(l,"class","item-text svelte-d73wqm"),f(e,"class","item svelte-d73wqm")},m(p,w){G(p,e,w),n(e,s),n(s,t),n(e,c),n(e,l),n(l,o),n(o,d),n(l,h),n(l,g),I.m(D,g),n(g,b),y&&y.m(g,null),k||(P=ae(e,"click",a[1]),k=!0)},p(p,[w]){var M;w&1&&!Xe(t.src,i=p[0].thumbnail)&&f(t,"src",i),w&1&&r!==(r=p[0].name+"")&&_e(d,r),w&1&&D!==(D=(M=p[0])!=null&&M.description?p[0].description+" &bull; ":"")&&I.p(D),p[0].items!==void 0?y?y.p(p,w):(y=Qe(p),y.c(),y.m(g,null)):y&&(y.d(1),y=null)},i:H,o:H,d(p){p&&u(e),y&&y.d(),k=!1,P()}}}function Ot(a,e,s){let{item:t}=e;function i(c){yt.call(this,a,c)}return a.$$set=c=>{"item"in c&&s(0,t=c.item)},[t,i]}class pt extends Se{constructor(e){super(),qe(this,e,Ot,Ht,Ve,{item:0})}}function Ke(a,e,s){const t=a.slice();return t[7]=e[s],t[9]=s,t}const zt=a=>({}),xe=a=>({});function et(a){let e=[],s=new Map,t,i,c=a[0];const l=o=>o[7];for(let o=0;o<c.length;o+=1){let r=Ke(a,c,o),d=l(r);s.set(d,e[o]=tt(d,r))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=ke()},l(o){for(let r=0;r<e.length;r+=1)e[r].l(o);t=ke()},m(o,r){for(let d=0;d<e.length;d+=1)e[d].m(o,r);G(o,t,r),i=!0},p(o,r){r&1&&(c=o[0],ye(),e=Et(e,r,l,1,o,c,s,t.parentNode,Dt,tt,t,Ke),be())},i(o){if(!i){for(let r=0;r<c.length;r+=1)B(e[r]);i=!0}},o(o){for(let r=0;r<e.length;r+=1)z(e[r]);i=!1},d(o){for(let r=0;r<e.length;r+=1)e[r].d(o);o&&u(t)}}}function tt(a,e){let s,t,i;function c(){return e[5](e[7])}return t=new pt({props:{item:e[7]}}),t.$on("click",c),{key:a,first:null,c(){s=ke(),ie(t.$$.fragment),this.h()},l(l){s=ke(),ne(t.$$.fragment,l),this.h()},h(){this.first=s},m(l,o){G(l,s,o),re(t,l,o),i=!0},p(l,o){e=l;const r={};o&1&&(r.item=e[7]),t.$set(r)},i(l){i||(B(t.$$.fragment,l),i=!0)},o(l){z(t.$$.fragment,l),i=!1},d(l){l&&u(s),oe(t,l)}}}function Yt(a){let e,s,t,i,c,l,o,r,d,h;const g=a[4].buttons,I=bt(g,a,a[3],xe);let D=a[0].length>0&&et(a);return d=new pt({props:{item:{thumbnail:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJpc29sYXRpb246aXNvbGF0ZSIgdmlld0JveD0iMCAwIDI1NiAyNTYiIHdpZHRoPSIyNTZwdCIgaGVpZ2h0PSIyNTZwdCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJwcmVmaXhfX2EiPjxwYXRoIGQ9Ik0wIDBoMjU2djI1NkgweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsaXAtcGF0aD0idXJsKCNwcmVmaXhfX2EpIj48cGF0aCBmaWxsPSIjNDI0MjQyIiBkPSJNMCAwaDI1NnYyNTZIMHoiLz48cGF0aCBkPSJNMTI0LjA0IDkyaDcuOTJ2MzIuMDRIMTY0djcuOTJoLTMyLjA0VjE2NGgtNy45MnYtMzIuMDRIOTJ2LTcuOTJoMzIuMDRWOTJ6IiBmaWxsPSIjZmFmYWZhIi8+PC9nPjwvc3ZnPg==",name:"Add New Playlist"}}}),d.$on("click",a[6]),{c(){e=v("div"),s=v("div"),t=v("span"),i=T(a[1]),c=q(),I&&I.c(),l=q(),o=v("div"),D&&D.c(),r=q(),ie(d.$$.fragment),this.h()},l(b){e=_(b,"DIV",{class:!0});var k=m(e);s=_(k,"DIV",{class:!0});var P=m(s);t=_(P,"SPAN",{class:!0});var y=m(t);i=C(y,a[1]),y.forEach(u),c=V(P),I&&I.l(P),P.forEach(u),l=V(k),o=_(k,"DIV",{class:!0});var Z=m(o);D&&D.l(Z),r=V(Z),ne(d.$$.fragment,Z),Z.forEach(u),k.forEach(u),this.h()},h(){f(t,"class","h2 svelte-t505r3"),f(s,"class","header svelte-t505r3"),f(o,"class","grid svelte-t505r3"),f(e,"class","grid-container")},m(b,k){G(b,e,k),n(e,s),n(s,t),n(t,i),n(s,c),I&&I.m(s,null),n(e,l),n(e,o),D&&D.m(o,null),n(o,r),re(d,o,null),h=!0},p(b,[k]){(!h||k&2)&&_e(i,b[1]),I&&I.p&&(!h||k&8)&&It(I,g,b,b[3],h?$t(g,b[3],k,zt):kt(b[3]),xe),b[0].length>0?D?(D.p(b,k),k&1&&B(D,1)):(D=et(b),D.c(),B(D,1),D.m(o,r)):D&&(ye(),z(D,1,1,()=>{D=null}),be())},i(b){h||(B(I,b),B(D),B(d.$$.fragment,b),h=!0)},o(b){z(I,b),z(D),z(d.$$.fragment,b),h=!1},d(b){b&&u(e),I&&I.d(b),D&&D.d(),oe(d)}}}function Ft(a,e,s){let{$$slots:t={},$$scope:i}=e,{items:c=[]}=e,{heading:l=""}=e;const o=dt(),r=h=>At("/library/playlists/"+h.id),d=()=>o("new_playlist");return a.$$set=h=>{"items"in h&&s(0,c=h.items),"heading"in h&&s(1,l=h.heading),"$$scope"in h&&s(3,i=h.$$scope)},[c,l,o,i,t,r,d]}class Jt extends Se{constructor(e){super(),qe(this,e,Ft,Yt,Ve,{items:0,heading:1})}}function st(a,e,s){const t=a.slice();return t[33]=e[s],t}function Xt(a){let e;function s(c,l){return c[0]==="sending"?Kt:Qt}let t=s(a),i=t(a);return{c(){e=v("div"),i.c(),this.h()},l(c){e=_(c,"DIV",{class:!0});var l=m(e);i.l(l),l.forEach(u),this.h()},h(){f(e,"class","screen svelte-iiqyag")},m(c,l){G(c,e,l),i.m(e,null)},p(c,l){t===(t=s(c))&&i?i.p(c,l):(i.d(1),i=t(c),i&&(i.c(),i.m(e,null)))},i:H,o:H,d(c){c&&u(e),i.d()}}}function Wt(a){let e,s,t,i,c,l,o,r,d,h,g,I,D,b,k,P,y,Z,p,w,M,$,E,A,N,S,R,Y,x,F,te;return{c(){e=v("div"),s=v("div"),t=v("h1"),i=T("Generate Your ID"),c=q(),l=v("div"),o=T("The temporary ID is needed for syncing"),r=q(),d=v("hr"),h=q(),g=v("section"),I=v("div"),D=v("p"),b=T("Your ID:"),k=q(),P=v("div"),y=v("code"),Z=T(a[1]),p=q(),w=v("p"),M=T(a[3]),$=q(),E=v("button"),A=T("Create ID"),N=q(),S=v("div"),R=v("button"),Y=T("Next Step"),this.h()},l(J){e=_(J,"DIV",{class:!0});var U=m(e);s=_(U,"DIV",{class:!0});var K=m(s);t=_(K,"H1",{class:!0});var X=m(t);i=C(X,"Generate Your ID"),X.forEach(u),c=V(K),l=_(K,"DIV",{class:!0});var Q=m(l);o=C(Q,"The temporary ID is needed for syncing"),Q.forEach(u),r=V(K),d=_(K,"HR",{class:!0}),h=V(K),g=_(K,"SECTION",{class:!0});var j=m(g);I=_(j,"DIV",{class:!0});var ee=m(I);D=_(ee,"P",{class:!0});var L=m(D);b=C(L,"Your ID:"),L.forEach(u),k=V(ee),P=_(ee,"DIV",{class:!0});var O=m(P);y=_(O,"CODE",{class:!0});var de=m(y);Z=C(de,a[1]),de.forEach(u),p=V(O),w=_(O,"P",{class:!0});var fe=m(w);M=C(fe,a[3]),fe.forEach(u),O.forEach(u),ee.forEach(u),$=V(j),E=_(j,"BUTTON",{class:!0});var ue=m(E);A=C(ue,"Create ID"),ue.forEach(u),j.forEach(u),K.forEach(u),U.forEach(u),N=V(J),S=_(J,"DIV",{class:!0});var ce=m(S);R=_(ce,"BUTTON",{class:!0});var pe=m(R);Y=C(pe,"Next Step"),pe.forEach(u),ce.forEach(u),this.h()},h(){f(t,"class","svelte-iiqyag"),f(l,"class","subheading svelte-iiqyag"),f(d,"class","svelte-iiqyag"),f(D,"class","svelte-iiqyag"),f(y,"class","svelte-iiqyag"),f(w,"class","copy link svelte-iiqyag"),f(P,"class","id-cont svelte-iiqyag"),f(I,"class","id svelte-iiqyag"),f(E,"class","small"),f(g,"class","container"),f(s,"class","content svelte-iiqyag"),f(e,"class","screen svelte-iiqyag"),f(R,"class","nextbtn svelte-iiqyag"),R.disabled=x=a[1]==="unset",f(S,"class","next svelte-iiqyag")},m(J,U){G(J,e,U),n(e,s),n(s,t),n(t,i),n(s,c),n(s,l),n(l,o),n(s,r),n(s,d),n(s,h),n(s,g),n(g,I),n(I,D),n(D,b),n(I,k),n(I,P),n(P,y),n(y,Z),n(P,p),n(P,w),n(w,M),n(g,$),n(g,E),n(E,A),G(J,N,U),G(J,S,U),n(S,R),n(R,Y),F||(te=[ae(w,"click",a[20]),ae(E,"click",a[21]),ae(R,"click",a[22])],F=!0)},p(J,U){U[0]&2&&_e(Z,J[1]),U[0]&8&&_e(M,J[3]),U[0]&2&&x!==(x=J[1]==="unset")&&(R.disabled=x)},i:H,o:H,d(J){J&&u(e),J&&u(N),J&&u(S),F=!1,Me(te)}}}function jt(a){let e,s,t,i,c,l,o,r,d,h,g,I,D,b,k,P,y,Z,p,w,M,$,E,A,N,S,R,Y,x,F,te,J,U,K,X,Q,j,ee,L,O,de,fe,ue,ce,pe;$=new Ie({props:{name:"send",size:"2em"}}),J=new Ie({props:{name:"import",size:"2em"}});let se=a[0]==="sending"&&lt(a);return{c(){e=v("div"),s=v("div"),t=v("h1"),i=T("First things first..."),c=q(),l=v("div"),o=T("Will this device be "),r=v("em"),d=T("sending"),h=T(" or "),g=v("em"),I=T("receiving"),D=T(" data?"),b=q(),k=v("section"),P=v("div"),y=v("label"),Z=v("input"),w=q(),M=v("span"),ie($.$$.fragment),E=v("span"),A=T("Sending"),N=q(),S=v("div"),R=v("label"),Y=v("input"),F=q(),te=v("span"),ie(J.$$.fragment),U=v("span"),K=T("Receiving"),X=q(),Q=v("hr"),j=q(),se&&se.c(),ee=q(),L=v("div"),O=v("button"),de=T("Next Step"),this.h()},l(W){e=_(W,"DIV",{class:!0});var le=m(e);s=_(le,"DIV",{class:!0});var he=m(s);t=_(he,"H1",{class:!0});var $e=m(t);i=C($e,"First things first..."),$e.forEach(u),c=V(he),l=_(he,"DIV",{class:!0});var ve=m(l);o=C(ve,"Will this device be "),r=_(ve,"EM",{});var Le=m(r);d=C(Le,"sending"),Le.forEach(u),h=C(ve," or "),g=_(ve,"EM",{});var Be=m(g);I=C(Be,"receiving"),Be.forEach(u),D=C(ve," data?"),ve.forEach(u),b=V(he),k=_(he,"SECTION",{class:!0});var Ee=m(k);P=_(Ee,"DIV",{class:!0});var He=m(P);y=_(He,"LABEL",{for:!0});var De=m(y);Z=_(De,"INPUT",{id:!0,type:!0,class:!0}),w=V(De),M=_(De,"SPAN",{class:!0});var Te=m(M);ne($.$$.fragment,Te),E=_(Te,"SPAN",{class:!0});var Oe=m(E);A=C(Oe,"Sending"),Oe.forEach(u),Te.forEach(u),De.forEach(u),He.forEach(u),N=V(Ee),S=_(Ee,"DIV",{class:!0});var ze=m(S);R=_(ze,"LABEL",{for:!0});var we=m(R);Y=_(we,"INPUT",{id:!0,type:!0,class:!0}),F=V(we),te=_(we,"SPAN",{class:!0});var Ce=m(te);ne(J.$$.fragment,Ce),U=_(Ce,"SPAN",{class:!0});var Ye=m(U);K=C(Ye,"Receiving"),Ye.forEach(u),Ce.forEach(u),we.forEach(u),ze.forEach(u),Ee.forEach(u),he.forEach(u),X=V(le),Q=_(le,"HR",{class:!0}),j=V(le),se&&se.l(le),le.forEach(u),ee=V(W),L=_(W,"DIV",{class:!0});var Fe=m(L);O=_(Fe,"BUTTON",{class:!0});var Je=m(O);de=C(Je,"Next Step"),Je.forEach(u),Fe.forEach(u),this.h()},h(){f(t,"class","svelte-iiqyag"),f(l,"class","subheading svelte-iiqyag"),f(Z,"id","sending"),f(Z,"type","checkbox"),Z.checked=p=a[0]==="sending",f(Z,"class","svelte-iiqyag"),f(E,"class","label svelte-iiqyag"),f(M,"class","checkbox-tile svelte-iiqyag"),f(y,"for","sending"),f(P,"class","radio svelte-iiqyag"),f(Y,"id","receiving"),f(Y,"type","checkbox"),Y.checked=x=a[0]==="receiving",f(Y,"class","svelte-iiqyag"),f(U,"class","label svelte-iiqyag"),f(te,"class","checkbox-tile svelte-iiqyag"),f(R,"for","receiving"),f(S,"class","radio svelte-iiqyag"),f(k,"class","container row justify svelte-iiqyag"),f(s,"class","content svelte-iiqyag"),f(Q,"class","svelte-iiqyag"),f(e,"class","screen svelte-iiqyag"),f(O,"class","nextbtn svelte-iiqyag"),O.disabled=fe=a[0]==="sending"?a[0]==="sending"&&a[6].length===0:a[0]===void 0,f(L,"class","next svelte-iiqyag")},m(W,le){G(W,e,le),n(e,s),n(s,t),n(t,i),n(s,c),n(s,l),n(l,o),n(l,r),n(r,d),n(l,h),n(l,g),n(g,I),n(l,D),n(s,b),n(s,k),n(k,P),n(P,y),n(y,Z),n(y,w),n(y,M),re($,M,null),n(M,E),n(E,A),n(k,N),n(k,S),n(S,R),n(R,Y),n(R,F),n(R,te),re(J,te,null),n(te,U),n(U,K),n(e,X),n(e,Q),n(e,j),se&&se.m(e,null),G(W,ee,le),G(W,L,le),n(L,O),n(O,de),ue=!0,ce||(pe=[ae(Z,"input",a[15]),ae(Y,"input",a[16]),ae(O,"click",a[19])],ce=!0)},p(W,le){(!ue||le[0]&1&&p!==(p=W[0]==="sending"))&&(Z.checked=p),(!ue||le[0]&1&&x!==(x=W[0]==="receiving"))&&(Y.checked=x),W[0]==="sending"?se?se.p(W,le):(se=lt(W),se.c(),se.m(e,null)):se&&(se.d(1),se=null),(!ue||le[0]&65&&fe!==(fe=W[0]==="sending"?W[0]==="sending"&&W[6].length===0:W[0]===void 0))&&(O.disabled=fe)},i(W){ue||(B($.$$.fragment,W),B(J.$$.fragment,W),ue=!0)},o(W){z($.$$.fragment,W),z(J.$$.fragment,W),ue=!1},d(W){W&&u(e),oe($),oe(J),se&&se.d(),W&&u(ee),W&&u(L),ce=!1,Me(pe)}}}function Ut(a){let e,s,t,i,c,l,o,r,d,h,g,I,D,b,k,P,y,Z;return{c(){e=v("div"),s=v("div"),t=v("h1"),i=T("Sync your data"),c=q(),l=v("div"),o=T("Access your favorites on any device"),r=q(),d=v("p"),h=T("Securely sync your data across your devices! "),g=v("br"),I=T(` To begin, open this screen on another device. Whenever\r
							you are ready, hit 'Next Step'`),D=q(),b=v("div"),k=v("button"),P=T("Next Step"),this.h()},l(p){e=_(p,"DIV",{class:!0});var w=m(e);s=_(w,"DIV",{class:!0});var M=m(s);t=_(M,"H1",{class:!0});var $=m(t);i=C($,"Sync your data"),$.forEach(u),c=V(M),l=_(M,"DIV",{class:!0});var E=m(l);o=C(E,"Access your favorites on any device"),E.forEach(u),r=V(M),d=_(M,"P",{class:!0});var A=m(d);h=C(A,"Securely sync your data across your devices! "),g=_(A,"BR",{}),I=C(A,` To begin, open this screen on another device. Whenever\r
							you are ready, hit 'Next Step'`),A.forEach(u),M.forEach(u),w.forEach(u),D=V(p),b=_(p,"DIV",{class:!0});var N=m(b);k=_(N,"BUTTON",{class:!0});var S=m(k);P=C(S,"Next Step"),S.forEach(u),N.forEach(u),this.h()},h(){f(t,"class","svelte-iiqyag"),f(l,"class","subheading svelte-iiqyag"),f(d,"class","svelte-iiqyag"),f(s,"class","content svelte-iiqyag"),f(e,"class","screen svelte-iiqyag"),f(k,"class","nextbtn svelte-iiqyag"),f(b,"class","next svelte-iiqyag")},m(p,w){G(p,e,w),n(e,s),n(s,t),n(t,i),n(s,c),n(s,l),n(l,o),n(s,r),n(s,d),n(d,h),n(d,g),n(d,I),G(p,D,w),G(p,b,w),n(b,k),n(k,P),y||(Z=ae(k,"click",a[10]),y=!0)},p:H,i:H,o:H,d(p){p&&u(e),p&&u(D),p&&u(b),y=!1,Z()}}}function Qt(a){let e,s,t,i,c,l,o,r,d,h,g,I,D,b,k;return{c(){e=v("div"),s=v("h1"),t=T("Ready to Receive Data"),i=q(),c=v("span"),l=T("Your ID: "),o=v("div"),r=v("code"),d=T(a[1]),h=q(),g=v("div"),I=T("Waiting for sender to connect."),D=q(),b=v("p"),k=T("Once data transfer is completed, this popup window will close automatically"),this.h()},l(P){e=_(P,"DIV",{class:!0});var y=m(e);s=_(y,"H1",{class:!0});var Z=m(s);t=C(Z,"Ready to Receive Data"),Z.forEach(u),i=V(y),c=_(y,"SPAN",{});var p=m(c);l=C(p,"Your ID: "),o=_(p,"DIV",{class:!0});var w=m(o);r=_(w,"CODE",{class:!0});var M=m(r);d=C(M,a[1]),M.forEach(u),w.forEach(u),p.forEach(u),h=V(y),g=_(y,"DIV",{class:!0});var $=m(g);I=C($,"Waiting for sender to connect."),$.forEach(u),D=V(y),b=_(y,"P",{class:!0});var E=m(b);k=C(E,"Once data transfer is completed, this popup window will close automatically"),E.forEach(u),y.forEach(u),this.h()},h(){f(s,"class","svelte-iiqyag"),f(r,"class","svelte-iiqyag"),f(o,"class","id-cont svelte-iiqyag"),f(g,"class","subheading svelte-iiqyag"),f(b,"class","svelte-iiqyag"),f(e,"class","content svelte-iiqyag")},m(P,y){G(P,e,y),n(e,s),n(s,t),n(e,i),n(e,c),n(c,l),n(c,o),n(o,r),n(r,d),n(e,h),n(e,g),n(g,I),n(e,D),n(e,b),n(b,k)},p(P,y){y[0]&2&&_e(d,P[1])},d(P){P&&u(e)}}}function Kt(a){let e,s,t,i=a[4]=a[0]!=="sending"?"Sender":"Receiver",c,l,o,r,d,h,g,I,D,b,k,P,y,Z,p,w,M,$,E,A,N=a[4]=a[0]!=="sending"?"Sender":"Receiver",S,R,Y,x,F,te,J,U,K,X,Q,j,ee;return{c(){e=v("div"),s=v("h1"),t=T("Get the "),c=T(i),l=T("'s ID"),o=q(),r=v("div"),d=T("Let's find the other device"),h=q(),g=v("p"),I=T("After generating an ID for both devices, enter the other's ID in the field below."),D=q(),b=v("hr"),k=q(),P=v("div"),y=v("p"),Z=T("Your ID:"),p=q(),w=v("div"),M=v("code"),$=T(a[1]),E=q(),A=v("p"),S=T(N),R=T("'s ID:"),Y=q(),x=v("div"),F=v("input"),J=q(),U=v("div"),K=v("button"),X=T("Connect"),this.h()},l(L){e=_(L,"DIV",{class:!0});var O=m(e);s=_(O,"H1",{class:!0});var de=m(s);t=C(de,"Get the "),c=C(de,i),l=C(de,"'s ID"),de.forEach(u),o=V(O),r=_(O,"DIV",{class:!0});var fe=m(r);d=C(fe,"Let's find the other device"),fe.forEach(u),h=V(O),g=_(O,"P",{class:!0});var ue=m(g);I=C(ue,"After generating an ID for both devices, enter the other's ID in the field below."),ue.forEach(u),D=V(O),b=_(O,"HR",{class:!0}),k=V(O),P=_(O,"DIV",{class:!0});var ce=m(P);y=_(ce,"P",{class:!0});var pe=m(y);Z=C(pe,"Your ID:"),pe.forEach(u),p=V(ce),w=_(ce,"DIV",{class:!0});var se=m(w);M=_(se,"CODE",{class:!0});var W=m(M);$=C(W,a[1]),W.forEach(u),se.forEach(u),E=V(ce),A=_(ce,"P",{class:!0});var le=m(A);S=C(le,N),R=C(le,"'s ID:"),le.forEach(u),Y=V(ce),x=_(ce,"DIV",{class:!0});var he=m(x);F=_(he,"INPUT",{class:!0,placeholder:!0,type:!0,autocapitalize:!0,autocomplete:!0,autocorrect:!0,spellcheck:!0,pattern:!0}),he.forEach(u),ce.forEach(u),O.forEach(u),J=V(L),U=_(L,"DIV",{class:!0});var $e=m(U);K=_($e,"BUTTON",{class:!0});var ve=m(K);X=C(ve,"Connect"),ve.forEach(u),$e.forEach(u),this.h()},h(){f(s,"class","svelte-iiqyag"),f(r,"class","subheading svelte-iiqyag"),f(g,"class","svelte-iiqyag"),f(b,"class","svelte-iiqyag"),f(y,"class","svelte-iiqyag"),f(M,"class","svelte-iiqyag"),f(w,"class","id-cont svelte-iiqyag"),f(A,"class","svelte-iiqyag"),f(F,"class","input svelte-iiqyag"),f(F,"placeholder",te=`${a[4]}'s ID`),f(F,"type","text"),f(F,"autocapitalize","off"),f(F,"autocomplete","off"),f(F,"autocorrect","off"),f(F,"spellcheck","false"),f(F,"pattern","bb?[a-zA-Z0-9_-]+"),f(x,"class","id-cont svelte-iiqyag"),f(P,"class","id svelte-iiqyag"),f(e,"class","content svelte-iiqyag"),f(K,"class","nextBtn"),K.disabled=Q=a[2].length<1,f(U,"class","next svelte-iiqyag")},m(L,O){G(L,e,O),n(e,s),n(s,t),n(s,c),n(s,l),n(e,o),n(e,r),n(r,d),n(e,h),n(e,g),n(g,I),n(e,D),n(e,b),n(e,k),n(e,P),n(P,y),n(y,Z),n(P,p),n(P,w),n(w,M),n(M,$),n(P,E),n(P,A),n(A,S),n(A,R),n(P,Y),n(P,x),n(x,F),je(F,a[2]),G(L,J,O),G(L,U,O),n(U,K),n(K,X),j||(ee=[ae(F,"submit",St(a[23])),ae(F,"input",a[24]),ae(K,"click",a[25])],j=!0)},p(L,O){O[0]&17&&i!==(i=L[4]=L[0]!=="sending"?"Sender":"Receiver")&&_e(c,i),O[0]&2&&_e($,L[1]),O[0]&17&&N!==(N=L[4]=L[0]!=="sending"?"Sender":"Receiver")&&_e(S,N),O[0]&16&&te!==(te=`${L[4]}'s ID`)&&f(F,"placeholder",te),O[0]&4&&F.value!==L[2]&&je(F,L[2]),O[0]&4&&Q!==(Q=L[2].length<1)&&(K.disabled=Q)},d(L){L&&u(e),L&&u(J),L&&u(U),j=!1,Me(ee)}}}function lt(a){let e,s,t,i,c,l=a[7],o=[];for(let r=0;r<l.length;r+=1)o[r]=at(st(a,l,r));return{c(){e=v("div"),s=v("span"),t=T("What kind of data would you like to send?"),i=q(),c=v("div");for(let r=0;r<o.length;r+=1)o[r].c();this.h()},l(r){e=_(r,"DIV",{class:!0});var d=m(e);s=_(d,"SPAN",{class:!0});var h=m(s);t=C(h,"What kind of data would you like to send?"),h.forEach(u),i=V(d),c=_(d,"DIV",{class:!0});var g=m(c);for(let I=0;I<o.length;I+=1)o[I].l(g);g.forEach(u),d.forEach(u),this.h()},h(){f(s,"class","subheading svelte-iiqyag"),f(c,"class","container"),f(e,"class","content svelte-iiqyag")},m(r,d){G(r,e,d),n(e,s),n(s,t),n(e,i),n(e,c);for(let h=0;h<o.length;h+=1)o[h].m(c,null)},p(r,d){if(d[0]&192){l=r[7];let h;for(h=0;h<l.length;h+=1){const g=st(r,l,h);o[h]?o[h].p(g,d):(o[h]=at(g),o[h].c(),o[h].m(c,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=l.length}},d(r){r&&u(e),ft(o,r)}}}function at(a){let e,s=a[33]+"",t,i,c,l,o,r;return{c(){e=v("label"),t=T(s),i=q(),c=v("input"),l=q(),this.h()},l(d){e=_(d,"LABEL",{class:!0});var h=m(e);t=C(h,s),i=V(h),c=_(h,"INPUT",{type:!0,name:!0,class:!0}),l=V(h),h.forEach(u),this.h()},h(){f(c,"type","checkbox"),c.__value=a[33],c.value=c.__value,f(c,"name","dataType"),f(c,"class","svelte-iiqyag"),a[18][0].push(c),f(e,"class","svelte-iiqyag")},m(d,h){G(d,e,h),n(e,t),n(e,i),n(e,c),c.checked=~a[6].indexOf(c.__value),n(e,l),o||(r=ae(c,"change",a[17]),o=!0)},p(d,h){h[0]&64&&(c.checked=~d[6].indexOf(c.__value))},d(d){d&&u(e),a[18][0].splice(a[18][0].indexOf(c),1),o=!1,r()}}}function xt(a){let e,s,t,i,c,l,o,r,d,h,g,I,D,b,k;o=new Ie({props:{name:"x",size:"1.5rem"}});const P=[Ut,jt,Wt,Xt],y=[];function Z(p,w){return p[5]===0?0:p[5]===1?1:p[5]===2?2:p[5]===3?3:-1}return~(h=Z(a))&&(g=y[h]=P[h](a)),{c(){e=v("div"),t=q(),i=v("div"),c=v("div"),l=v("div"),ie(o.$$.fragment),r=q(),d=v("div"),g&&g.c(),this.h()},l(p){e=_(p,"DIV",{class:!0}),m(e).forEach(u),t=V(p),i=_(p,"DIV",{class:!0});var w=m(i);c=_(w,"DIV",{class:!0});var M=m(c);l=_(M,"DIV",{class:!0});var $=m(l);ne(o.$$.fragment,$),$.forEach(u),r=V(M),d=_(M,"DIV",{class:!0,id:!0});var E=m(d);g&&g.l(E),E.forEach(u),M.forEach(u),w.forEach(u),this.h()},h(){f(e,"class","backdrop svelte-iiqyag"),f(l,"class","x-button svelte-iiqyag"),f(d,"class","screen-wrapper svelte-iiqyag"),f(d,"id","sWrapper"),f(c,"class","sync svelte-iiqyag"),f(i,"class","sync-wrapper svelte-iiqyag")},m(p,w){G(p,e,w),G(p,t,w),G(p,i,w),n(i,c),n(c,l),re(o,l,null),n(c,r),n(c,d),~h&&y[h].m(d,null),D=!0,b||(k=[ae(window,"keydown",a[12]),ae(e,"click",a[13]),ae(l,"click",a[14])],b=!0)},p(p,w){let M=h;h=Z(p),h===M?~h&&y[h].p(p,w):(g&&(ye(),z(y[M],1,1,()=>{y[M]=null}),be()),~h?(g=y[h],g?g.p(p,w):(g=y[h]=P[h](p),g.c()),B(g,1),g.m(d,null)):g=null)},i(p){D||(We(()=>{s||(s=Ne(e,Pe,{duration:150,delay:150},!0)),s.run(1)}),B(o.$$.fragment,p),B(g),We(()=>{I||(I=Ne(c,Pe,{duration:300,delay:300},!0)),I.run(1)}),D=!0)},o(p){s||(s=Ne(e,Pe,{duration:150,delay:150},!1)),s.run(0),z(o.$$.fragment,p),z(g),I||(I=Ne(c,Pe,{duration:300,delay:300},!1)),I.run(0),D=!1},d(p){p&&u(e),p&&s&&s.end(),p&&u(t),p&&u(i),oe(o),~h&&y[h].d(),p&&I&&I.end(),b=!1,Me(k)}}}let Ge,Re;Re=Zt(()=>import("../../../chunks/bundler-b36eb39b.js"),[],import.meta.url),Re.then(a=>{Ge=a.default});function es(a,e,s){let t,i,c,l="unset",o="",r="copy",d,h,g=0,I;const D=["Playlists","Favorites"];let b=D;const k=dt(),P={Playlists:async()=>{const Q=await[...await me.sendMessage("get","playlists")],j=Q;if(Q.length!==0)return[...j]},Favorites:async()=>{const Q=await[...await me.sendMessage("get","favorites")],j=Q;if(Q.length!==0)return[...j]}},y=X=>{if(X.length!==0)return Promise.all([...X.map(Q=>P[Q]().then(j=>j).then(j=>({type:Q,items:j})))])},Z=()=>{if(!(!I&&!Ae))return s(1,l="bb-"+Math.random().toString(36).substr(2,7)),c=new I(l),console.log(`Peer ${l} created!`),t||(console.log(c),c.on("connection",X=>{console.log(X),X.on("data",async Q=>{i={data:Q,conn:X},console.log(i);const j=JSON.parse(Q);Array.isArray(j)&&(j.forEach(async ee=>{if((ee==null?void 0:ee.type)==="Playlists"){const L=ee;await Ze([...L==null?void 0:L.items])}if((ee==null?void 0:ee.type)==="Favorites"){const L=ee;await Ze([...L==null?void 0:L.items])}}),console.log(j)),ge("Data sync completed!","success"),setTimeout(()=>{},1250),await Nt(),X.close(),c.destroy(),k("close")}),X.on("open",()=>{ge("Connection established!","success")})})),"bb-"+l},p=()=>{g===3?k("close"):s(5,g++,g)};async function w(){if(t){const X=await y(b),Q=await JSON.stringify(X);console.log(X,Q);const j=c.connect(o);j.on("open",()=>{j.send(Q)}),j.on("data",ee=>{}),j.on("close",()=>{c.destroy(),k("close")})}}wt(()=>(async()=>{Ge?I=Ge:I=(await Re).default})());function M(X){(X.key==="Esc"||X.key==="Escape")&&(X.preventDefault(),k("close")),X.defaultPrevented}const $=[[]],E=()=>k("close"),A=()=>{k("close")},N=()=>s(0,d="sending"),S=()=>s(0,d="receiving");function R(){b=Pt($[0],this.__value,this.checked),s(6,b)}const Y=()=>{d!==void 0&&p()},x=async()=>{await navigator.clipboard.writeText(l),s(3,r="copied!"),setTimeout(()=>{s(3,r="copy")},1500)},F=async()=>{Z()},te=()=>{l!=="unset"&&p()},J=async()=>{w()};function U(){o=this.value,s(2,o)}const K=()=>{w()};return a.$$.update=()=>{a.$$.dirty[0]&1&&s(4,h=d==="sending"?"Sender":"Receiver"),a.$$.dirty[0]&1&&(t=d==="sending")},i=void 0,[d,l,o,r,h,g,b,D,k,Z,p,w,M,E,A,N,S,R,$,Y,x,F,te,J,U,K]}class ts extends Se{constructor(e){super(),qe(this,e,es,xt,Ve,{},null,[-1,-1])}}const ss=typeof globalThis<"u";async function ls(){if(ss)try{const a={},[e,s]=await Promise.all([Gt(),Rt()]);a.favorites=s.data??void 0,a.playlists=e.data??void 0;const t=new Blob([JSON.stringify(a)],{type:"application/json"}),i=`alphatrack-db${Vt(9,"normal")}.json`,c=URL.createObjectURL(t),l=document.createElement("a");l.setAttribute("href",c),l.download=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(c),ge(`Successfully exported your data with the file name: ${i}`,"success")}catch(a){ge("Error exporting data: "+a,"error")}}async function as(a){try{const e=await a.text(),s=JSON.parse(e);if(!s.favorites&&!s.playlists)throw new Error("Provided file is not a valid DB JSON object");await Promise.allSettled([Ze(s==null?void 0:s.playlists),Lt(s==null?void 0:s.favorites)]).then(()=>{ge("Successfully imported database from JSON","success")}).catch(t=>{ge("Error importing data: "+t,"error")})}catch(e){ge("Error importing data: "+e,"error")}}function it(a){a[4]=a[22].favorites,a[5]=a[22].playlists}function nt(a,e,s){const t=a.slice();return t[24]=e[s],t}function rt(a){let e,s;return e=new ts({}),e.$on("close",a[9]),{c(){ie(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,i){re(e,t,i),s=!0},p:H,i(t){s||(B(e.$$.fragment,t),s=!0)},o(t){z(e.$$.fragment,t),s=!1},d(t){oe(e,t)}}}function ot(a){let e,s;return e=new Mt({props:{zIndex:500,hasFocus:a[3],$$slots:{header:[ns],default:[is]},$$scope:{ctx:a}}}),e.$on("close",a[11]),{c(){ie(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,i){re(e,t,i),s=!0},p(t,i){const c={};i&8&&(c.hasFocus=t[3]),i&134217729&&(c.$$scope={dirty:i,ctx:t}),e.$set(c)},i(t){s||(B(e.$$.fragment,t),s=!0)},o(t){z(e.$$.fragment,t),s=!1},d(t){oe(e,t)}}}function is(a){let e,s,t,i,c,l,o;return{c(){e=v("div"),s=v("input"),t=q(),i=v("p"),c=T("Import your data using the form above!"),this.h()},l(r){e=_(r,"DIV",{class:!0});var d=m(e);s=_(d,"INPUT",{type:!0,name:!0,id:!0,accept:!0}),t=V(d),i=_(d,"P",{});var h=m(i);c=C(h,"Import your data using the form above!"),h.forEach(u),d.forEach(u),this.h()},h(){f(s,"type","file"),f(s,"name","import"),f(s,"id","import"),f(s,"accept",".json"),f(e,"class","container")},m(r,d){G(r,e,d),n(e,s),n(e,t),n(e,i),n(i,c),l||(o=ae(s,"change",a[10]),l=!0)},p:H,d(r){r&&u(e),l=!1,o()}}}function ns(a){let e,s;return{c(){e=v("h1"),s=T("Import your data"),this.h()},l(t){e=_(t,"H1",{slot:!0});var i=m(e);s=C(i,"Import your data"),i.forEach(u),this.h()},h(){f(e,"slot","header")},m(t,i){G(t,e,i),n(e,s)},p:H,d(t){t&&u(e)}}}function rs(a){let e,s,t,i,c;return e=new Ie({props:{name:"upload",size:"1.1em"}}),{c(){ie(e.$$.fragment),s=q(),t=v("span"),i=T("Export Data"),this.h()},l(l){ne(e.$$.fragment,l),s=V(l),t=_(l,"SPAN",{class:!0});var o=m(t);i=C(o,"Export Data"),o.forEach(u),this.h()},h(){f(t,"class","btn-text")},m(l,o){re(e,l,o),G(l,s,o),G(l,t,o),n(t,i),c=!0},p:H,i(l){c||(B(e.$$.fragment,l),c=!0)},o(l){z(e.$$.fragment,l),c=!1},d(l){oe(e,l),l&&u(s),l&&u(t)}}}function os(a){let e,s,t,i,c;return e=new Ie({props:{name:"download",size:"1.1em"}}),{c(){ie(e.$$.fragment),s=q(),t=v("span"),i=T("Import Data"),this.h()},l(l){ne(e.$$.fragment,l),s=V(l),t=_(l,"SPAN",{class:!0});var o=m(t);i=C(o,"Import Data"),o.forEach(u),this.h()},h(){f(t,"class","btn-text")},m(l,o){re(e,l,o),G(l,s,o),G(l,t,o),n(t,i),c=!0},p:H,i(l){c||(B(e.$$.fragment,l),c=!0)},o(l){z(e.$$.fragment,l),c=!1},d(l){oe(e,l),l&&u(s),l&&u(t)}}}function cs(a){return{c:H,l:H,m:H,p:H,i:H,o:H,d:H}}function us(a){var M;it(a);let e,s,t,i,c,l,o,r,d,h,g,I,D,b,k=((M=a[4])==null?void 0:M.length)>0&&ds();const P=[hs,fs],y=[];function Z($,E){var A;return((A=$[4])==null?void 0:A.length)>0?0:1}d=Z(a),h=y[d]=P[d](a);let p=a[2]&&ut(a),w={ctx:a,current:null,token:null,hasCatch:!0,pending:ms,then:_s,catch:vs,value:4,error:23,blocks:[,,,]};return ht(a[5],w),{c(){e=v("section"),s=v("div"),t=v("h2"),i=T("Your Songs"),c=q(),l=v("a"),k&&k.c(),o=q(),r=v("div"),h.c(),g=q(),p&&p.c(),I=q(),D=v("section"),w.block.c(),this.h()},l($){e=_($,"SECTION",{class:!0});var E=m(e);s=_(E,"DIV",{class:!0});var A=m(s);t=_(A,"H2",{});var N=m(t);i=C(N,"Your Songs"),N.forEach(u),c=V(A),l=_(A,"A",{href:!0});var S=m(l);k&&k.l(S),S.forEach(u),A.forEach(u),o=V(E),r=_(E,"DIV",{class:!0});var R=m(r);h.l(R),R.forEach(u),E.forEach(u),g=V($),p&&p.l($),I=V($),D=_($,"SECTION",{class:!0});var Y=m(D);w.block.l(Y),Y.forEach(u),this.h()},h(){f(l,"href","/library/songs"),f(s,"class","header"),f(r,"class","list svelte-cy50be"),f(e,"class","svelte-cy50be"),f(D,"class","svelte-cy50be")},m($,E){G($,e,E),n(e,s),n(s,t),n(t,i),n(s,c),n(s,l),k&&k.m(l,null),n(e,o),n(e,r),y[d].m(r,null),G($,g,E),p&&p.m($,E),G($,I,E),G($,D,E),w.block.m(D,w.anchor=null),w.mount=()=>D,w.anchor=null,b=!0},p($,E){a=$,it(a),h.p(a,E),a[2]?p?(p.p(a,E),E&4&&B(p,1)):(p=ut(a),p.c(),B(p,1),p.m(I.parentNode,I)):p&&(ye(),z(p,1,1,()=>{p=null}),be()),_t(w,a,E)},i($){b||(B(h),B(p),B(w.block),b=!0)},o($){z(h),z(p);for(let E=0;E<3;E+=1){const A=w.blocks[E];z(A)}b=!1},d($){$&&u(e),k&&k.d(),y[d].d(),$&&u(g),p&&p.d($),$&&u(I),$&&u(D),w.block.d(),w.token=null,w=null}}}function ds(a){let e,s;return{c(){e=v("small"),s=T("See All")},l(t){e=_(t,"SMALL",{});var i=m(e);s=C(i,"See All"),i.forEach(u)},m(t,i){G(t,e,i),n(e,s)},d(t){t&&u(e)}}}function fs(a){let e,s,t,i,c,l,o;return{c(){e=v("div"),s=v("h4"),t=T("Empty!"),i=q(),c=v("span"),l=v("em"),o=T("Add some songs to keep track of what you love!"),this.h()},l(r){e=_(r,"DIV",{class:!0});var d=m(e);s=_(d,"H4",{});var h=m(s);t=C(h,"Empty!"),h.forEach(u),i=V(d),c=_(d,"SPAN",{class:!0});var g=m(c);l=_(g,"EM",{});var I=m(l);o=C(I,"Add some songs to keep track of what you love!"),I.forEach(u),g.forEach(u),d.forEach(u),this.h()},h(){f(c,"class","subheading"),f(e,"class","container")},m(r,d){G(r,e,d),n(e,s),n(s,t),n(e,i),n(e,c),n(c,l),n(l,o)},p:H,i:H,o:H,d(r){r&&u(e)}}}function hs(a){let e,s,t=a[4],i=[];for(let l=0;l<t.length;l+=1)i[l]=ct(nt(a,t,l));const c=l=>z(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ke()},l(l){for(let o=0;o<i.length;o+=1)i[o].l(l);e=ke()},m(l,o){for(let r=0;r<i.length;r+=1)i[r].m(l,o);G(l,e,o),s=!0},p(l,o){if(o&320){t=l[4];let r;for(r=0;r<t.length;r+=1){const d=nt(l,t,r);i[r]?(i[r].p(d,o),B(i[r],1)):(i[r]=ct(d),i[r].c(),B(i[r],1),i[r].m(e.parentNode,e))}for(ye(),r=t.length;r<i.length;r+=1)c(r);be()}},i(l){if(!s){for(let o=0;o<t.length;o+=1)B(i[o]);s=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)z(i[o]);s=!1},d(l){ft(i,l),l&&u(e)}}}function ct(a){let e,s;return e=new Ct({props:{data:a[24]}}),e.$on("update",a[15]),{c(){ie(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,i){re(e,t,i),s=!0},p:H,i(t){s||(B(e.$$.fragment,t),s=!0)},o(t){z(e.$$.fragment,t),s=!1},d(t){oe(e,t)}}}function ut(a){let e,s;return e=new Tt({props:{defaults:{description:void 0,name:void 0,thumbnail:void 0},hasFocus:!0}}),e.$on("submit",a[16]),e.$on("close",a[17]),{c(){ie(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,i){re(e,t,i),s=!0},p:H,i(t){s||(B(e.$$.fragment,t),s=!0)},o(t){z(e.$$.fragment,t),s=!1},d(t){oe(e,t)}}}function vs(a){let e=a[23]+"",s;return{c(){s=T(e)},l(t){s=C(t,e)},m(t,i){G(t,s,i)},p:H,i:H,o:H,d(t){t&&u(s)}}}function _s(a){let e,s;return e=new Jt({props:{heading:"Your Playlists",items:a[5],$$slots:{buttons:[ps]},$$scope:{ctx:a}}}),e.$on("new_playlist",a[19]),{c(){ie(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,i){re(e,t,i),s=!0},p(t,i){const c={};i&134217728&&(c.$$scope={dirty:i,ctx:t}),e.$set(c)},i(t){s||(B(e.$$.fragment,t),s=!0)},o(t){z(e.$$.fragment,t),s=!1},d(t){oe(e,t)}}}function ps(a){let e,s,t,i,c,l,o;return s=new Ie({props:{name:"x",size:"1.1em"}}),{c(){e=v("button"),ie(s.$$.fragment),t=v("span"),i=T("Delete All Playlists"),this.h()},l(r){e=_(r,"BUTTON",{slot:!0,class:!0,style:!0});var d=m(e);ne(s.$$.fragment,d),t=_(d,"SPAN",{class:!0});var h=m(t);i=C(h,"Delete All Playlists"),h.forEach(u),d.forEach(u),this.h()},h(){f(t,"class","btn-text"),f(e,"slot","buttons"),f(e,"class","outlined svelte-cy50be"),vt(e,"margin-top","0.75em")},m(r,d){G(r,e,d),re(s,e,null),n(e,t),n(t,i),c=!0,l||(o=ae(e,"click",a[18]),l=!0)},p:H,i(r){c||(B(s.$$.fragment,r),c=!0)},o(r){z(s.$$.fragment,r),c=!1},d(r){r&&u(e),oe(s),l=!1,o()}}}function ms(a){return{c:H,l:H,m:H,p:H,i:H,o:H,d:H}}function gs(a){let e,s,t,i,c,l,o;return t=new Bt({props:{size:"3em"}}),{c(){e=v("div"),s=v("div"),ie(t.$$.fragment),i=q(),c=v("p"),l=T("Please wait..."),this.h()},l(r){e=_(r,"DIV",{class:!0});var d=m(e);s=_(d,"DIV",{class:!0});var h=m(s);ne(t.$$.fragment,h),h.forEach(u),i=V(d),c=_(d,"P",{});var g=m(c);l=C(g,"Please wait..."),g.forEach(u),d.forEach(u),this.h()},h(){f(s,"class","loader svelte-cy50be"),f(e,"class","loading svelte-cy50be")},m(r,d){G(r,e,d),n(e,s),re(t,s,null),n(e,i),n(e,c),n(c,l),o=!0},p:H,i(r){o||(B(t.$$.fragment,r),o=!0)},o(r){z(t.$$.fragment,r),o=!1},d(r){r&&u(e),oe(t)}}}function ys(a){let e,s,t,i,c,l,o,r,d,h,g,I,D,b,k,P,y,Z,p,w,M,$=a[1]&&Ae&&rt(a),E=a[3]&&ot(a);d=new Ie({props:{name:"send",size:"1.1em"}}),k=new Ue({props:{outlined:!0,$$slots:{default:[rs]},$$scope:{ctx:a}}}),k.$on("click",a[13]),y=new Ue({props:{outlined:!0,$$slots:{default:[os]},$$scope:{ctx:a}}}),y.$on("click",a[14]);let A={ctx:a,current:null,token:null,hasCatch:!1,pending:gs,then:us,catch:cs,value:22,blocks:[,,,]};return ht(a[8],A),{c(){$&&$.c(),e=q(),E&&E.c(),s=q(),t=v("main"),i=v("header"),c=v("h1"),l=T("Your Library"),o=q(),r=v("button"),ie(d.$$.fragment),h=q(),g=v("span"),I=T("Sync Your Data"),D=q(),b=v("div"),ie(k.$$.fragment),P=q(),ie(y.$$.fragment),Z=q(),A.block.c(),this.h()},l(N){$&&$.l(N),e=V(N),E&&E.l(N),s=V(N),t=_(N,"MAIN",{class:!0});var S=m(t);i=_(S,"HEADER",{class:!0});var R=m(i);c=_(R,"H1",{});var Y=m(c);l=C(Y,"Your Library"),Y.forEach(u),o=V(R),r=_(R,"BUTTON",{class:!0});var x=m(r);ne(d.$$.fragment,x),h=V(x),g=_(x,"SPAN",{class:!0});var F=m(g);I=C(F,"Sync Your Data"),F.forEach(u),x.forEach(u),D=V(R),b=_(R,"DIV",{style:!0});var te=m(b);ne(k.$$.fragment,te),P=V(te),ne(y.$$.fragment,te),te.forEach(u),R.forEach(u),Z=V(S),A.block.l(S),S.forEach(u),this.h()},h(){f(g,"class","btn-text"),f(r,"class","svelte-cy50be"),vt(b,"margin-block-start","0.5em"),f(i,"class","svelte-cy50be"),f(t,"class","resp-content-width svelte-cy50be")},m(N,S){$&&$.m(N,S),G(N,e,S),E&&E.m(N,S),G(N,s,S),G(N,t,S),n(t,i),n(i,c),n(c,l),n(i,o),n(i,r),re(d,r,null),n(r,h),n(r,g),n(g,I),n(i,D),n(i,b),re(k,b,null),n(b,P),re(y,b,null),n(t,Z),A.block.m(t,A.anchor=null),A.mount=()=>t,A.anchor=null,p=!0,w||(M=ae(r,"click",a[12]),w=!0)},p(N,[S]){a=N,a[1]&&Ae?$?($.p(a,S),S&2&&B($,1)):($=rt(a),$.c(),B($,1),$.m(e.parentNode,e)):$&&(ye(),z($,1,1,()=>{$=null}),be()),a[3]?E?(E.p(a,S),S&8&&B(E,1)):(E=ot(a),E.c(),B(E,1),E.m(s.parentNode,s)):E&&(ye(),z(E,1,1,()=>{E=null}),be());const R={};S&134217728&&(R.$$scope={dirty:S,ctx:a}),k.$set(R);const Y={};S&134217728&&(Y.$$scope={dirty:S,ctx:a}),y.$set(Y),_t(A,a,S)},i(N){p||(B($),B(E),B(d.$$.fragment,N),B(k.$$.fragment,N),B(y.$$.fragment,N),B(A.block),p=!0)},o(N){z($),z(E),z(d.$$.fragment,N),z(k.$$.fragment,N),z(y.$$.fragment,N);for(let S=0;S<3;S+=1){const R=A.blocks[S];z(R)}p=!1},d(N){$&&$.d(N),N&&u(e),E&&E.d(N),N&&u(s),N&&u(t),oe(d),oe(k),oe(y),A.block.d(),A.token=null,A=null,w=!1,M()}}}function bs(a,e,s){let t,i,c,l,o,r;qt("library",{isLibrary:!0});const d=async()=>(s(4,t=await me.sendMessage("get","favorites")),s(4,t=[...t.slice(0,5)]),t),h=async()=>(s(5,i=await me.sendMessage("get","playlists")),s(5,i=[...i]),i),g=N=>{N&&as(N[0]).then(()=>{d(),h()})};let I=D();async function D(){try{const[N,S]=await Promise.all([me.sendMessage("get","playlists"),me.sendMessage("get","favorites")]);return s(4,t=S.length!==0&&[...S.slice(0,5)]),s(5,i=N.length!==0&&[...N]),console.log(N,S),{favorites:t,playlists:i}}catch(N){console.error(N)}}const b=()=>{d(),h(),s(1,c=!1)};function k(){r=this.files,s(0,r)}const P=()=>{s(3,o=!1)},y=()=>{s(1,c=!0)},Z=async()=>{try{ls()}catch(N){console.error(N)}},p=()=>{s(3,o=!0)},w=()=>{d()},M=async N=>{var S,R,Y;await me.sendMessage("create","playlist",{name:(S=N.detail)==null?void 0:S.title,description:(R=N.detail)==null?void 0:R.description,thumbnail:((Y=N.detail)==null?void 0:Y.thumbnail)??"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJpc29sYXRpb246aXNvbGF0ZSIgdmlld0JveD0iMCAwIDI1NiAyNTYiIHdpZHRoPSIyNTZwdCIgaGVpZ2h0PSIyNTZwdCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJwcmVmaXhfX2EiPjxwYXRoIGQ9Ik0wIDBoMjU2djI1NkgweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsaXAtcGF0aD0idXJsKCNwcmVmaXhfX2EpIj48cGF0aCBmaWxsPSIjNDI0MjQyIiBkPSJNMCAwaDI1NnYyNTZIMHoiLz48ZyBjbGlwLXBhdGg9InVybCgjcHJlZml4X19iKSI+PHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA1LjU0IDE2Ni43OTQpIiBmb250LWZhbWlseT0ic3lzdGVtLXVpLC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LCZxdW90O1NlZ29lIFVJJnF1b3Q7LFJvYm90byxPeHlnZW4sVWJ1bnR1LENhbnRhcmVsbCwmcXVvdDtPcGVuIFNhbnMmcXVvdDssJnF1b3Q7SGVsdmV0aWNhIE5ldWUmcXVvdDssc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9IjQwMCIgZm9udC1zaXplPSIxMDAiIGZpbGw9IiNmYWZhZmEiPj88L3RleHQ+PC9nPjxkZWZzPjxjbGlwUGF0aCBpZD0icHJlZml4X19iIj48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MiA1NC44MzkpIiBkPSJNMCAwaDcydjE0Ni4zMjNIMHoiLz48L2NsaXBQYXRoPjwvZGVmcz48L2c+PC9zdmc+",items:[]}),await h(),s(2,l=!1)},$=()=>{s(2,l=!1)},E=()=>{me.sendMessage("delete","playlists")},A=()=>{s(2,l=!0)};return a.$$.update=()=>{a.$$.dirty&1&&r&&g(r)},[r,c,l,o,t,i,d,h,I,b,k,P,y,Z,p,w,M,$,E,A]}class Ts extends Se{constructor(e){super(),qe(this,e,bs,ys,Ve,{})}}export{Ts as default};
