import{S as ve,i as ge,s as ke,k,w as J,a as L,l as E,m as Y,x as ee,h as m,c as F,n as f,F as Ee,G as be,H as gt,b as j,I as v,y as Q,J as Ue,K as At,L as Z,M as Gs,N as Ct,O as Rs,f as P,t as C,z as x,D as De,P as Qe,q as ne,r as re,u as we,Q as ze,R as bl,T as Yt,e as de,p as se,U as Be,g as ae,d as oe,V as te,W as pe,X as He,Y as Ge,Z as Ke,_ as xe,$ as Se,B as _e,a0 as Oe,a1 as Re,E as et,A as Zs,a2 as bt,v as jt,a3 as tt,a4 as st,a5 as yl,a6 as nt,a7 as rt,a8 as at,a9 as ot,aa as wl,ab as kl,ac as El,ad as Il,ae as $e,af as Pe,ag as Yl}from"../../chunks/index-02d4e276.js";import{g as Ze,a as Dl}from"../../chunks/navigation-8392efd7.js";import{I as ye}from"../../chunks/Icon-33dd6fee.js";import{d as Nl,f as $l}from"../../chunks/index-b9eff58d.js";import{c as Je,p as Pl,a as ht,b as Bt,l as Ae,t as Vt,q as pt,w as Sl,d as Tt,e as ut,A as ce,f as mt,g as Vl,s as Cl,h as lt,i as Hs,j as Ks,m as Bl,k as Te,n as yt,o as $t,r as _t,u as Lt,v as Tl,x as zl,y as Ml,z as Al,B as jl,C as Ft,D as Ll}from"../../chunks/window-3d9785aa.js";import{f as Ye,C as Fl}from"../../chunks/contexts-267137aa.js";import{c as Dt,C as Gl,M as Rl}from"../../chunks/CreatePlaylist-4dafb220.js";import{f as Me,a as it}from"../../chunks/index-a434d751.js";import{P as wt,a as qs,i as Gt,s as vt,b as Xs}from"../../chunks/PopperButton-1074cc5a.js";import{I as Ws}from"../../chunks/buffer-8e6379eb.js";import{L as Zl}from"../../chunks/Loading-e098347c.js";import{S as zt}from"../../chunks/url-fcaf9571.js";import{b as Hl,L as Kl}from"../../chunks/ListItem-5c39b9db.js";import{n as ql,p as Us}from"../../chunks/stores-5cf8d32a.js";import{v as Xl}from"../../chunks/viewport-7af7a1d2.js";import{C as Wl}from"../../chunks/Carousel-82017a45.js";import{D as Ul}from"../../chunks/Description-c22b1016.js";import{s as Ol}from"../../chunks/strings-7c502f3a.js";import{B as Os}from"../../chunks/Button-7bf5be0a.js";const kt=[{label:"All",params:"all"},{label:"Songs",params:"songs"},{label:"Videos",params:"videos"},{label:"Artists",params:"artists"},{label:"All Playlists",params:"all_playlists"},{label:"Featured Playlists",params:"featured_playlists"},{label:"Community Playlists",params:"community_playlists"}];function Rt(s,e,t){const l=s.slice();return l[15]=e[t],l}function Zt(s,e,t){const l=s.slice();return l[18]=e[t],l}function Ht(s){let e,t=[],l=new Map,i=s[3];const n=r=>{var a;return(a=r[18])==null?void 0:a.id};for(let r=0;r<i.length;r+=1){let a=Zt(s,i,r),o=n(a);l.set(o,t[r]=Kt(o,a))}return{c(){e=k("ul");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=E(r,"UL",{role:!0,id:!0,class:!0});var a=Y(e);for(let o=0;o<t.length;o+=1)t[o].l(a);a.forEach(m),this.h()},h(){f(e,"role","listbox"),f(e,"id","suggestions"),f(e,"class","suggestions svelte-td1r81")},m(r,a){j(r,e,a);for(let o=0;o<t.length;o+=1)t[o].m(e,null);s[12](e)},p(r,a){a&41&&(i=r[3],t=Ct(t,a,n,1,r,i,l,e,Rs,Kt,null,Zt))},d(r){r&&m(e);for(let a=0;a<t.length;a+=1)t[a].d();s[12](null)}}}function Kt(s,e){let t,l=e[18].query+"",i,n,r,a;function o(){return e[10](e[18])}function c(...u){return e[11](e[18],...u)}return{key:s,first:null,c(){t=k("li"),i=ne(l),n=L(),this.h()},l(u){t=E(u,"LI",{tabindex:!0,class:!0});var d=Y(t);i=re(d,l),n=F(d),d.forEach(m),this.h()},h(){f(t,"tabindex","0"),f(t,"class","svelte-td1r81"),this.first=t},m(u,d){j(u,t,d),v(t,i),v(t,n),r||(a=[Z(t,"click",o),Z(t,"keydown",c)],r=!0)},p(u,d){e=u,d&8&&l!==(l=e[18].query+"")&&we(i,l)},d(u){u&&m(t),r=!1,De(a)}}}function qt(s,e){let t,l=e[15].label+"",i;return{key:s,first:null,c(){t=k("option"),i=ne(l),this.h()},l(n){t=E(n,"OPTION",{});var r=Y(t);i=re(r,l),r.forEach(m),this.h()},h(){t.__value=e[15].params,t.value=t.__value,this.first=t},m(n,r){j(n,t,r),v(t,i)},p(n,r){e=n},d(n){n&&m(t)}}}function Jl(s){let e,t,l,i,n,r,a,o,c,u,d,_,h,g=[],y=new Map,w,S,b,N;n=new ye({props:{name:"search",size:"1rem"}});let I=s[3].length>0&&Ht(s),$=kt;const M=p=>p[15].params;for(let p=0;p<$.length;p+=1){let D=Rt(s,$,p),V=M(D);y.set(V,g[p]=qt(V,D))}return{c(){e=k("form"),t=k("div"),l=k("div"),i=k("div"),J(n.$$.fragment),r=L(),a=k("input"),c=L(),I&&I.c(),u=L(),d=k("div"),_=k("div"),h=k("select");for(let p=0;p<g.length;p+=1)g[p].c();this.h()},l(p){e=E(p,"FORM",{"aria-expanded":!0,"aria-owns":!0,role:!0,class:!0});var D=Y(e);t=E(D,"DIV",{class:!0});var V=Y(t);l=E(V,"DIV",{role:!0,"aria-activedescendant":!0,class:!0});var z=Y(l);i=E(z,"DIV",{role:!0,"aria-label":!0,class:!0});var B=Y(i);ee(n.$$.fragment,B),B.forEach(m),r=F(z),a=E(z,"INPUT",{"aria-placeholder":!0,id:!0,autocomplete:!0,"aria-autocomplete":!0,autocorrect:!0,type:!0,placeholder:!0}),z.forEach(m),V.forEach(m),c=F(D),I&&I.l(D),u=F(D),d=E(D,"DIV",{class:!0});var G=Y(d);_=E(G,"DIV",{class:!0});var T=Y(_);h=E(T,"SELECT",{});var H=Y(h);for(let K=0;K<g.length;K+=1)g[K].l(H);H.forEach(m),T.forEach(m),G.forEach(m),D.forEach(m),this.h()},h(){f(i,"role","button"),f(i,"aria-label","search button"),f(i,"class","searchBtn"),f(a,"aria-placeholder","Search"),f(a,"id","searchBox"),f(a,"autocomplete","off"),f(a,"aria-autocomplete","list"),a.autofocus=o=s[2]==="inline",f(a,"autocorrect","off"),f(a,"type","search"),f(a,"placeholder","Search"),f(l,"role","textbox"),f(l,"aria-activedescendant","searchBox"),f(l,"class","input"),f(t,"class","nav-item svelte-td1r81"),s[1]===void 0&&Ee(()=>s[13].call(h)),f(_,"class","select"),be(_,"inline",s[2]==="inline"),f(d,"class","nav-item svelte-td1r81"),f(e,"aria-expanded","true"),f(e,"aria-owns","suggestions"),f(e,"role","combobox"),f(e,"class",w=gt(s[2])+" svelte-td1r81")},m(p,D){j(p,e,D),v(e,t),v(t,l),v(l,i),Q(n,i,null),v(l,r),v(l,a),Ue(a,s[0]),v(e,c),I&&I.m(e,null),v(e,u),v(e,d),v(d,_),v(_,h);for(let V=0;V<g.length;V+=1)g[V].m(h,null);At(h,s[1]),S=!0,s[2]==="inline"&&a.focus(),b||(N=[Z(i,"click",s[5]),Z(a,"keyup",s[8]),Z(a,"input",s[9]),Z(h,"change",s[13]),Z(e,"keydown",s[6],!0),Z(e,"submit",Gs(s[5]))],b=!0)},p(p,[D]){(!S||D&4&&o!==(o=p[2]==="inline"))&&(a.autofocus=o),D&1&&Ue(a,p[0]),p[3].length>0?I?I.p(p,D):(I=Ht(p),I.c(),I.m(e,u)):I&&(I.d(1),I=null),D&0&&($=kt,g=Ct(g,D,M,1,p,$,y,h,Rs,qt,null,Rt)),D&2&&At(h,p[1]),(!S||D&4)&&be(_,"inline",p[2]==="inline"),(!S||D&4&&w!==(w=gt(p[2])+" svelte-td1r81"))&&f(e,"class",w)},i(p){S||(P(n.$$.fragment,p),S=!0)},o(p){C(n.$$.fragment,p),S=!1},d(p){p&&m(e),x(n),I&&I.d();for(let D=0;D<g.length;D+=1)g[D].d();b=!1,De(N)}}}function Ql(s,e,t){let{type:l}=e,{query:i=""}=e,{filter:n=kt[0].params}=e;const r=Qe();let a=[],o;async function c(){if(!i.length)return;r("submitted",{submitted:!0,filter:n,query:i}),Ye.set("closed");let b=`/search/${encodeURIComponent(i)}${n!==void 0?`?filter=${n}`:""}`;Ze(b)}function u(b){if(!o)return;const N=b.target;if(b.key==="ArrowDown"){if(N.nextElementSibling.parentElement!==o)return;N.nextElementSibling.tabIndex=0,N.tabIndex=-1,N.nextElementSibling.focus()}if(b.key==="ArrowUp"){if(N.previousElementSibling.parentElement!==o)return;N.previousElementSibling.tabIndex=0,N.tabIndex=-1,N.previousElementSibling.focus()}return!1}const d=Nl(async()=>{if(!i)return t(3,a=[]);const b=await fetch("/api/v1/get_search_suggestions.json?q="+encodeURIComponent(i));t(3,a=await b.json())},250),_=b=>{b.shiftKey&&b.ctrlKey&&b.repeat||d()};function h(){i=this.value,t(0,i)}const g=b=>{t(0,i=b.query),c()},y=(b,N)=>{N.key===" "&&(t(0,i=b.query),c())};function w(b){ze[b?"unshift":"push"](()=>{o=b,t(4,o)})}function S(){n=bl(this),t(1,n)}return s.$$set=b=>{"type"in b&&t(2,l=b.type),"query"in b&&t(0,i=b.query),"filter"in b&&t(1,n=b.filter)},[i,n,l,a,o,c,u,d,_,h,g,y,w,S]}class xl extends ve{constructor(e){super(),ge(this,e,Ql,Jl,ke,{type:2,query:0,filter:1})}}function Pt(s){let e,t,l;function i(r){s.contains(e)&&s.removeChild(e),l=()=>setTimeout(()=>{e.style.opacity="0",e.addEventListener("transitionend",()=>s.removeChild(e)),s.removeEventListener("touchcancel",n,!0),s.removeEventListener("touchend",n,!0),s.removeEventListener("pointerout",n)},150);const a=s.getBoundingClientRect();if(t=s.getAttribute("data-tooltip"),e=document.createElement("div"),e.className="tooltip",e.setAttribute("data-tooltip",t),e.innerText=t,s.appendChild(e),s.contains(e)){const o=e.getBoundingClientRect(),c=a.left-o.left,u=a.top-o.top;let d=c/window.innerWidth*100,_=u/window.innerHeight*100;const h=o.width;o.right>window.innerWidth-o.width&&(d-=d/2),o.left<0&&(d+=d*2),_<0&&(_=-_*2+o.height),e.style.cssText=`--tt-pos-y: ${_}px; --tt-pos-x: ${d}px; --tt-w: ${h}px;  opacity: 1;`}s.addEventListener("touchcancel",n,{passive:!0}),s.addEventListener("touchend",n,{passive:!0}),s.addEventListener("pointerout",n)}function n(){l&&s.contains(e)&&l(),l=void 0}return s.addEventListener("touchstart",i,{passive:!0}),s.addEventListener("pointerover",i),{destroy(){s.contains(e)&&s.removeChild(e),s.removeEventListener("touchstart",i,!0),s.removeEventListener("pointerover",i)}}}let St;function Xt(s){St&&cancelAnimationFrame(St),St=requestAnimationFrame(s)}function Wt(s,{delay:e=0,duration:t=400,y:l=0,easing:i=Je}={}){const n=getComputedStyle(s),r=+n.opacity,a=parseFloat(n.height),o=parseFloat(n.paddingTop),c=parseFloat(n.paddingBottom),u=parseFloat(n.marginTop),d=parseFloat(n.marginBottom),_=parseFloat(n.borderTopWidth),h=parseFloat(n.borderBottomWidth);return{delay:e,duration:t,easing:i,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*r};height: ${1-l*g*a}px;padding-top: ${(1-l)*g*o}px;padding-bottom: ${(1-l)*g*c}px;margin-top: ${(1-l)*g*u}px;margin-bottom: ${(1-l)*g*d}px;border-top-width: ${g*_}px;border-bottom-width: ${g*h}px;`}}function ei(s){let e,t,l,i,n;return{c(){e=k("a"),t=k("img"),this.h()},l(r){e=E(r,"A",{href:!0,class:!0});var a=Y(e);t=E(a,"IMG",{width:!0,height:!0,src:!0,alt:!0,title:!0,class:!0}),a.forEach(m),this.h()},h(){f(t,"width","32"),f(t,"height","32"),Se(t.src,l="/logo.png")||f(t,"src",l),f(t,"alt","logo"),f(t,"title","AlphaTrack Home"),f(t,"class","svelte-t8d24d"),f(e,"href","/home"),f(e,"class","no-style")},m(r,a){j(r,e,a),v(e,t),i||(n=Z(t,"click",s[12]),i=!0)},p:_e,i:_e,o:_e,d(r){r&&m(e),i=!1,n()}}}function ti(s){let e,t,l,i,n,r,a,o,c;return t=new ye({props:{name:"chevron-left",size:"1.6125em"}}),{c(){e=k("button"),J(t.$$.fragment),l=L(),i=k("a"),n=k("img"),this.h()},l(u){e=E(u,"BUTTON",{class:!0,"aria-label":!0});var d=Y(e);ee(t.$$.fragment,d),d.forEach(m),l=F(u),i=E(u,"A",{href:!0,class:!0});var _=Y(i);n=E(_,"IMG",{style:!0,width:!0,height:!0,src:!0,alt:!0,title:!0,class:!0}),_.forEach(m),this.h()},h(){f(e,"class","nav-icon icon-btn no-style svelte-t8d24d"),f(e,"aria-label","Back"),se(n,"margin-left","1em"),f(n,"width","32"),f(n,"height","32"),Se(n.src,r="/logo.png")||f(n,"src",r),f(n,"alt","logo"),f(n,"title","AlphaTrack Home"),f(n,"class","svelte-t8d24d"),f(i,"href","/home"),f(i,"class","logo-back no-style svelte-t8d24d")},m(u,d){j(u,e,d),Q(t,e,null),j(u,l,d),j(u,i,d),v(i,n),a=!0,o||(c=[Z(e,"click",s[10]),Z(i,"click",s[11])],o=!0)},p:_e,i(u){a||(P(t.$$.fragment,u),a=!0)},o(u){C(t.$$.fragment,u),a=!1},d(u){u&&m(e),x(t),u&&m(l),u&&m(i),o=!1,De(c)}}}function Ut(s){let e,t,l,i,n,r,a,o,c,u,d,_;return l=new xl({props:{filter:s[4],query:s[3],type:"inline"}}),l.$on("submitted",s[18]),r=new ye({props:{name:"x",size:"1.6125em"}}),{c(){e=k("div"),t=k("div"),J(l.$$.fragment),i=L(),n=k("button"),J(r.$$.fragment),this.h()},l(h){e=E(h,"DIV",{class:!0});var g=Y(e);t=E(g,"DIV",{class:!0});var y=Y(t);ee(l.$$.fragment,y),i=F(y),n=E(y,"BUTTON",{class:!0,"aria-label":!0});var w=Y(n);ee(r.$$.fragment,w),w.forEach(m),y.forEach(m),g.forEach(m),this.h()},h(){f(n,"class","icon-btn x-button svelte-t8d24d"),f(n,"aria-label","close"),f(t,"class","nav-search"),f(e,"class","backdrop svelte-t8d24d"),se(e,"z-index",500)},m(h,g){j(h,e,g),v(e,t),Q(l,t,null),v(t,i),v(t,n),Q(r,n,null),u=!0,d||(_=[Z(n,"click",s[19]),Be(Dt.call(null,t)),Z(t,"click_outside",s[20]),Z(e,"click",pe(Gs(s[9])))],d=!0)},p(h,g){s=h;const y={};g&16&&(y.filter=s[4]),g&8&&(y.query=s[3]),l.$set(y)},i(h){u||(P(l.$$.fragment,h),P(r.$$.fragment,h),Ee(()=>{o&&o.end(1),a=He(t,Me,{delay:200,duration:200,easing:ht}),a.start()}),Ee(()=>{c||(c=Ge(e,Me,{duration:400,easing:ht},!0)),c.run(1)}),u=!0)},o(h){C(l.$$.fragment,h),C(r.$$.fragment,h),a&&a.invalidate(),o=Ke(t,Me,{duration:200,easing:ht}),c||(c=Ge(e,Me,{duration:400,easing:ht},!1)),c.run(0),u=!1},d(h){h&&m(e),x(l),x(r),h&&o&&o.end(),h&&c&&c.end(),d=!1,De(_)}}}function si(s){let e,t,l,i,n,r,a,o,c,u,d,_,h,g,y,w,S,b,N,I,$,M,p,D,V,z,B,G,T,H,K,A,le;const R=[ti,ei],W=[];function ie(q,X){return X&1&&(l=null),l==null&&(l=!q[0].includes("home")),l?0:1}i=ie(s,-1),n=W[i]=R[i](s),c=new ye({props:{name:"home",size:"1.6125em"}}),g=new ye({props:{name:"trending",size:"1.6125em"}}),N=new ye({props:{name:"folder",size:"1.6125em"}}),V=new ye({props:{name:"search",size:"1.6125em"}}),G=new ye({props:{name:"settings",size:"1.6125em"}});let O=!s[1]&&Ut(s);return{c(){e=k("nav"),t=k("div"),n.c(),r=L(),a=k("div"),o=k("button"),u=k("div"),J(c.$$.fragment),_=L(),h=k("button"),y=k("div"),J(g.$$.fragment),S=L(),b=k("button"),I=k("div"),J(N.$$.fragment),M=L(),p=k("div"),D=k("button"),J(V.$$.fragment),z=L(),B=k("button"),J(G.$$.fragment),T=L(),O&&O.c(),H=de(),this.h()},l(q){e=E(q,"NAV",{class:!0});var X=Y(e);t=E(X,"DIV",{class:!0});var he=Y(t);n.l(he),he.forEach(m),r=F(X),a=E(X,"DIV",{class:!0});var fe=Y(a);o=E(fe,"BUTTON",{class:!0,"data-tooltip":!0,"aria-label":!0});var me=Y(o);u=E(me,"DIV",{style:!0});var Ie=Y(u);ee(c.$$.fragment,Ie),me.forEach(m),_=F(fe),h=E(fe,"BUTTON",{class:!0,"data-tooltip":!0,"aria-label":!0});var Ve=Y(h);y=E(Ve,"DIV",{style:!0});var Ce=Y(y);ee(g.$$.fragment,Ce),Ve.forEach(m),S=F(fe),b=E(fe,"BUTTON",{"data-tooltip":!0,"aria-label":!0,class:!0});var Ne=Y(b);I=E(Ne,"DIV",{style:!0});var Fe=Y(I);ee(N.$$.fragment,Fe),Ne.forEach(m),fe.forEach(m),M=F(X),p=E(X,"DIV",{class:!0});var qe=Y(p);D=E(qe,"BUTTON",{class:!0,"aria-label":!0});var ct=Y(D);ee(V.$$.fragment,ct),ct.forEach(m),z=F(qe),B=E(qe,"BUTTON",{"aria-label":!0,class:!0});var ft=Y(B);ee(G.$$.fragment,ft),ft.forEach(m),qe.forEach(m),X.forEach(m),T=F(q),O&&O.l(q),H=de(),this.h()},h(){f(t,"class","logo svelte-t8d24d"),se(u,"display","contents"),se(u,"--stroke",d=s[0].includes("home")?"#fff":"#BCBCBE"),f(o,"class","nav-icon icon-btn no-style svelte-t8d24d"),f(o,"data-tooltip","Home"),f(o,"aria-label","Home"),be(o,"active",s[0].includes("home")),se(y,"display","contents"),se(y,"--stroke",w=s[0].includes("trending")?"#fff":"#BCBCBE"),f(h,"class","nav-icon icon-btn no-style svelte-t8d24d"),f(h,"data-tooltip","Trending"),f(h,"aria-label","Trending"),be(h,"active",s[0].includes("trending")),se(I,"display","contents"),se(I,"--stroke",$=s[0].includes("library")?"#fff":"#BCBCBE"),f(b,"data-tooltip","Library"),f(b,"aria-label","library"),f(b,"class","nav-icon icon-btn no-style svelte-t8d24d"),be(b,"active",s[0].includes("library")),f(a,"class","middle svelte-t8d24d"),f(D,"class","icon-btn nav-item__search svelte-t8d24d"),f(D,"aria-label","Search"),f(B,"aria-label","Settings"),f(B,"class","icon-btn btn-settings svelte-t8d24d"),f(p,"class","items svelte-t8d24d"),f(e,"class","nav svelte-t8d24d")},m(q,X){j(q,e,X),v(e,t),W[i].m(t,null),v(e,r),v(e,a),v(a,o),v(o,u),Q(c,u,null),v(a,_),v(a,h),v(h,y),Q(g,y,null),v(a,S),v(a,b),v(b,I),Q(N,I,null),v(e,M),v(e,p),v(p,D),Q(V,D,null),v(p,z),v(p,B),Q(G,B,null),j(q,T,X),O&&O.m(q,X),j(q,H,X),K=!0,A||(le=[Z(o,"click",s[13]),Be(Pt.call(null,o)),Z(h,"click",s[14]),Be(Pt.call(null,h)),Be(Pt.call(null,b)),Z(b,"click",s[15]),Z(D,"click",s[16]),Z(B,"click",s[17])],A=!0)},p(q,[X]){let he=i;i=ie(q,X),i===he?W[i].p(q,X):(ae(),C(W[he],1,1,()=>{W[he]=null}),oe(),n=W[i],n?n.p(q,X):(n=W[i]=R[i](q),n.c()),P(n,1),n.m(t,null)),X&1&&d!==(d=q[0].includes("home")?"#fff":"#BCBCBE")&&se(u,"--stroke",d),(!K||X&1)&&be(o,"active",q[0].includes("home")),X&1&&w!==(w=q[0].includes("trending")?"#fff":"#BCBCBE")&&se(y,"--stroke",w),(!K||X&1)&&be(h,"active",q[0].includes("trending")),X&1&&$!==($=q[0].includes("library")?"#fff":"#BCBCBE")&&se(I,"--stroke",$),(!K||X&1)&&be(b,"active",q[0].includes("library")),q[1]?O&&(ae(),C(O,1,1,()=>{O=null}),oe()):O?(O.p(q,X),X&2&&P(O,1)):(O=Ut(q),O.c(),P(O,1),O.m(H.parentNode,H))},i(q){K||(P(n),P(c.$$.fragment,q),P(g.$$.fragment,q),P(N.$$.fragment,q),P(V.$$.fragment,q),P(G.$$.fragment,q),P(O),K=!0)},o(q){C(n),C(c.$$.fragment,q),C(g.$$.fragment,q),C(N.$$.fragment,q),C(V.$$.fragment,q),C(G.$$.fragment,q),C(O),K=!1},d(q){q&&m(e),W[i].d(),x(c),x(g),x(N),x(V),x(G),q&&m(T),O&&O.d(q),q&&m(H),A=!1,De(le)}}}function li(s,e,t){let l,i,n;te(s,Ye,D=>t(6,i=D)),te(s,Pl,D=>t(8,n=D));let{key:r}=e,a=!0,o,c="",u=kt[0].params;const d=()=>{i&&Ye.set("closed"),window.history.go(-1)};function _(D){xe.call(this,s,D)}const h=()=>{i&&Ye.set("closed"),d()},g=()=>{i&&Ye.set("closed")},y=()=>{i&&Ye.set("closed"),Ze("/home")},w=()=>{i&&Ye.set("closed"),Ze("/home")},S=()=>{i&&Ye.set("closed"),Ze("/trending")},b=()=>{i&&Ye.set("closed"),Ze("/library")},N=()=>{t(2,o=!o),t(1,a=!a),Ye.set("closed")},I=()=>{i&&Ye.set("closed"),Ze("/settings",{})},$=({detail:D})=>{console.log(D),l.includes("Category")&&t(4,u=D==null?void 0:D.filter),l.includes("Query")&&t(3,c=D==null?void 0:D.query),t(1,a=!a)},M=()=>{t(1,a=!a)},p=()=>{t(1,a=!a)};return s.$$set=D=>{"key"in D&&t(0,r=D.key)},s.$$.update=()=>{s.$$.dirty&256&&t(5,l=n)},[r,a,o,c,u,l,i,d,n,_,h,g,y,w,S,b,N,I,$,M,p]}class ii extends ve{constructor(e){super(),ge(this,e,li,si,Yt,{key:0})}}const Et="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJpc29sYXRpb246aXNvbGF0ZSIgdmlld0JveD0iMCAwIDI1NiAyNTYiIHdpZHRoPSIyNTZwdCIgaGVpZ2h0PSIyNTZwdCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJwcmVmaXhfX2EiPjxwYXRoIGQ9Ik0wIDBoMjU2djI1NkgweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsaXAtcGF0aD0idXJsKCNwcmVmaXhfX2EpIj48cGF0aCBmaWxsPSIjNDI0MjQyIiBkPSJNMCAwaDI1NnYyNTZIMHoiLz48ZyBjbGlwLXBhdGg9InVybCgjcHJlZml4X19iKSI+PHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA1LjU0IDE2Ni43OTQpIiBmb250LWZhbWlseT0ic3lzdGVtLXVpLC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LCZxdW90O1NlZ29lIFVJJnF1b3Q7LFJvYm90byxPeHlnZW4sVWJ1bnR1LENhbnRhcmVsbCwmcXVvdDtPcGVuIFNhbnMmcXVvdDssJnF1b3Q7SGVsdmV0aWNhIE5ldWUmcXVvdDssc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9IjQwMCIgZm9udC1zaXplPSIxMDAiIGZpbGw9IiNmYWZhZmEiPj88L3RleHQ+PC9nPjxkZWZzPjxjbGlwUGF0aCBpZD0icHJlZml4X19iIj48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MiA1NC44MzkpIiBkPSJNMCAwaDcydjE0Ni4zMjNIMHoiLz48L2NsaXBQYXRoPjwvZGVmcz48L2c+PC9zdmc+";function Js(s){const e=s.getBoundingClientRect(),t=s.parentElement.offsetTop;return{top:e.top,height:e.height,left:e.left,width:e.width,parent_top:t}}function Mt(s,e){e.clientY=s.clientY}function It(s,e){const t=e.clientY,l=e.timeStamp;Mt(s,e);const i=e.clientY,r=(e.timeStamp=s.timeStamp)-l;if(r>0&&r<100){const a=(i-t)/r;e.velocityY=a*.7+e.velocityY*.3}}const Qs=()=>(s,e,t)=>s.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0})),Xe=(s,e,t,l)=>{s.addEventListener(e,t,l)};function We(s,e,t,l){s.removeEventListener(e,t,l)}function xs(s,e){const{capture:t,handlers:l,onDestroy:i=null}=e;return Xe(s,"pointerdown",l.onStart,t),{destroy(){typeof i=="function"&&i(),We(s,"pointerdown",l.onStart,t)}}}function ni(s){const e={startTime:0,timeStamp:0,startY:0,clientY:0,deltaY:0,velocityY:0},t=Qs(),l={top:0,height:0,parentTop:0};let i=!1,n;const r={onStart(a){if(!i){i=!0,a.stopPropagation();const{top:o,height:c,parent_top:u}=Js(s);l.top=o,l.height=c,l.parentTop=u,Mt(a,e),e.startY=e.clientY=a.clientY,e.startTime=e.timeStamp=a.timeStamp,t(s,"panstart",e),n=setTimeout(()=>{Xe(window,"pointermove",r.onMove),Xe(window,"pointerup",r.onEnd)},0)}},onMove(a){if(i===!1){clearTimeout(n);return}a.stopPropagation(),It(a,e),t(s,"pan",{...e,clientY:e.clientY-l.parentTop-l.height})},onEnd(a){if(i===!1){clearTimeout(n);return}a.stopPropagation(),e.deltaY=e.clientY-e.startY,It(a,e),t(s,"panend",e),i=!1,We(window,"pointermove",r.onMove),We(window,"pointerup",r.onEnd)}};return xs(s,{handlers:r,capture:!1})}function el(s){const e={startTime:0,timeStamp:0,startY:0,clientY:0,deltaY:0,velocityY:0},t=Qs(),l={top:0,height:0,parentTop:0},i={onStart(n){n.stopPropagation();const{top:r,height:a,parent_top:o}=Js(s);e.startY=e.clientY=n.clientY,l.top=r,l.height=a,l.parentTop=o,Mt(n,e),t(s,"dragstart",e),Xe(window,"pointermove",i.onMove),Xe(window,"pointerup",i.onEnd,{passive:!0}),Xe(window,"pointercancel",i.onEnd)},onMove(n){n.stopImmediatePropagation(),It(n,e),t(s,"dragmove",{...e,clientY:e.clientY-l.parentTop-l.height})},onEnd(n){n.stopImmediatePropagation(),e.deltaY=e.clientY-e.startY,It(n,e),t(s,"dragend",e),We(window,"pointermove",i.onMove),We(window,"pointercancel",i.onEnd),We(window,"pointerup",i.onEnd)}};return xs(s,{handlers:i,capture:!0})}function Ot(s,e,t){const l=s.slice();return l[29]=e[t],l}function Jt(s,e,t){const l=s.slice();return l[32]=e[t],l}function Qt(s){var V;let e,t,l,i,n,r,a,o,c,u,d,_,h,g,y,w,S,b,N,I=s[8]==="player"&&xt(s),$=s[8]==="search"&&((V=s[5].metadata)==null?void 0:V.artist)!==void 0&&s[5].metadata.artist.length&&es(s),M=s[4],p=[];for(let z=0;z<M.length;z+=1)p[z]=ls(Ot(s,M,z));const D=z=>C(p[z],1,1,()=>{p[z]=null});return{c(){e=k("div"),t=k("div"),l=L(),i=k("div"),n=k("div"),r=k("hr"),a=L(),I&&I.c(),o=L(),$&&$.c(),c=L(),u=k("div"),d=k("ul");for(let z=0;z<p.length;z+=1)p[z].c();this.h()},l(z){e=E(z,"DIV",{class:!0});var B=Y(e);t=E(B,"DIV",{class:!0}),Y(t).forEach(m),l=F(B),i=E(B,"DIV",{class:!0,style:!0});var G=Y(i);n=E(G,"DIV",{class:!0});var T=Y(n);r=E(T,"HR",{class:!0}),T.forEach(m),a=F(G),I&&I.l(G),o=F(G),$&&$.l(G),c=F(G),u=E(G,"DIV",{class:!0});var H=Y(u);d=E(H,"UL",{class:!0});var K=Y(d);for(let A=0;A<p.length;A+=1)p[A].l(K);K.forEach(m),H.forEach(m),G.forEach(m),B.forEach(m),this.h()},h(){f(t,"class","backdrop svelte-1bg66v9"),f(r,"class","horz svelte-1bg66v9"),f(n,"class","handle svelte-1bg66v9"),f(d,"class","svelte-1bg66v9"),f(u,"class","list-wrapper svelte-1bg66v9"),f(i,"class","column container drag svelte-1bg66v9"),f(i,"style",_=`transform: translate3d(0, ${s[9]}px, 0);  bottom:0;`),Ee(()=>s[23].call(i)),f(e,"class","fixed svelte-1bg66v9"),Ee(()=>s[24].call(e))},m(z,B){j(z,e,B),v(e,t),s[17](t),v(e,l),v(e,i),v(i,n),v(n,r),v(i,a),I&&I.m(i,null),v(i,o),$&&$.m(i,null),v(i,c),v(i,u),v(u,d);for(let G=0;G<p.length;G+=1)p[G].m(d,null);s[22](i),h=Oe(i,s[23].bind(i)),w=Oe(e,s[24].bind(e)),S=!0,b||(N=[Z(t,"click",pe(s[16])),Be(el.call(null,n)),Z(n,"pointerdown",pe(s[18])),Z(n,"dragstart",pe(s[19]),!0),Z(n,"dragmove",pe(s[20]),!0),Z(n,"dragend",pe(s[21]),!0)],b=!0)},p(z,B){var G;if(s=z,s[8]==="player"?I?I.p(s,B):(I=xt(s),I.c(),I.m(i,o)):I&&(I.d(1),I=null),s[8]==="search"&&((G=s[5].metadata)==null?void 0:G.artist)!==void 0&&s[5].metadata.artist.length?$?$.p(s,B):($=es(s),$.c(),$.m(i,c)):$&&($.d(1),$=null),B[0]&16){M=s[4];let T;for(T=0;T<M.length;T+=1){const H=Ot(s,M,T);p[T]?(p[T].p(H,B),P(p[T],1)):(p[T]=ls(H),p[T].c(),P(p[T],1),p[T].m(d,null))}for(ae(),T=M.length;T<p.length;T+=1)D(T);oe()}(!S||B[0]&512&&_!==(_=`transform: translate3d(0, ${s[9]}px, 0);  bottom:0;`))&&f(i,"style",_)},i(z){if(!S){for(let B=0;B<M.length;B+=1)P(p[B]);Ee(()=>{y&&y.end(1),g=He(i,it,{duration:600,delay:300,opacity:0,y:s[1]}),g.start()}),S=!0}},o(z){p=p.filter(Boolean);for(let B=0;B<p.length;B+=1)C(p[B]);g&&g.invalidate(),y=Ke(i,it,{duration:600,y:s[1],opacity:0}),S=!1},d(z){z&&m(e),s[17](null),I&&I.d(),$&&$.d(),Re(p,z),s[22](null),h(),z&&y&&y.end(),w(),b=!1,De(N)}}}function xt(s){let e,t,l,i,n,r,a,o,c,u,d=s[11].mix[s[11].position].title+"",_,h,g,y=(s[11].mix[s[11].position].artist?s[11].mix[s[11].position].artist:s[11].mix[s[11].position].artistInfo.artist[0].text)+"",w,S,b,N,I;return{c(){e=k("section"),t=k("div"),l=k("img"),o=L(),c=k("div"),u=k("span"),_=ne(d),h=L(),g=k("span"),w=ne(y),S=L(),b=k("span"),N=k("span"),I=ne("Now playing"),this.h()},l($){e=E($,"SECTION",{class:!0});var M=Y(e);t=E(M,"DIV",{class:!0,style:!0});var p=Y(t);l=E(p,"IMG",{decoding:!0,src:!0,width:!0,height:!0,alt:!0,class:!0}),p.forEach(m),o=F(M),c=E(M,"DIV",{class:!0});var D=Y(c);u=E(D,"SPAN",{class:!0});var V=Y(u);_=re(V,d),V.forEach(m),h=F(D),g=E(D,"SPAN",{class:!0});var z=Y(g);w=re(z,y),z.forEach(m),S=F(D),b=E(D,"SPAN",{class:!0});var B=Y(b);N=E(B,"SPAN",{class:!0});var G=Y(N);I=re(G,"Now playing"),G.forEach(m),B.forEach(m),D.forEach(m),M.forEach(m),this.h()},h(){var $;f(l,"decoding","async"),Se(l.src,i=s[3].url)||f(l,"src",i),f(l,"width",n=s[3].width),f(l,"height",r=s[3].height),f(l,"alt",a=($=s[10])==null?void 0:$.title),f(l,"class","svelte-1bg66v9"),f(t,"class","image svelte-1bg66v9"),f(t,"style",""),f(u,"class","title svelte-1bg66v9"),f(g,"class","artist svelte-1bg66v9"),f(N,"class","subheading svelte-1bg66v9"),f(b,"class","length svelte-1bg66v9"),f(c,"class","metatext svelte-1bg66v9"),f(e,"class","m-metadata svelte-1bg66v9")},m($,M){j($,e,M),v(e,t),v(t,l),v(e,o),v(e,c),v(c,u),v(u,_),v(c,h),v(c,g),v(g,w),v(c,S),v(c,b),v(b,N),v(N,I)},p($,M){var p;M[0]&8&&!Se(l.src,i=$[3].url)&&f(l,"src",i),M[0]&8&&n!==(n=$[3].width)&&f(l,"width",n),M[0]&8&&r!==(r=$[3].height)&&f(l,"height",r),M[0]&1024&&a!==(a=(p=$[10])==null?void 0:p.title)&&f(l,"alt",a),M[0]&2048&&d!==(d=$[11].mix[$[11].position].title+"")&&we(_,d),M[0]&2048&&y!==(y=($[11].mix[$[11].position].artist?$[11].mix[$[11].position].artist:$[11].mix[$[11].position].artistInfo.artist[0].text)+"")&&we(w,y)},d($){$&&m(e)}}}function es(s){var N,I;let e,t,l,i,n,r,a,o,c,u=s[5].metadata.title+"",d,_,h,g,y,w=(N=s[5].metadata)==null?void 0:N.artist,S=[];for(let $=0;$<w.length;$+=1)S[$]=ts(Jt(s,w,$));let b=((I=s[5].metadata)==null?void 0:I.length)&&ss(s);return{c(){e=k("section"),t=k("div"),l=k("img"),a=L(),o=k("div"),c=k("span"),d=ne(u),_=L();for(let $=0;$<S.length;$+=1)S[$].c();h=L(),g=k("span"),y=L(),b&&b.c(),this.h()},l($){e=E($,"SECTION",{class:!0});var M=Y(e);t=E(M,"DIV",{class:!0});var p=Y(t);l=E(p,"IMG",{decoding:!0,src:!0,width:!0,height:!0,alt:!0,class:!0}),p.forEach(m),a=F(M),o=E(M,"DIV",{class:!0});var D=Y(o);c=E(D,"SPAN",{class:!0});var V=Y(c);d=re(V,u),V.forEach(m),_=F(D);for(let z=0;z<S.length;z+=1)S[z].l(D);h=F(D),g=E(D,"SPAN",{class:!0}),Y(g).forEach(m),y=F(D),b&&b.l(D),D.forEach(m),M.forEach(m),this.h()},h(){f(l,"decoding","async"),Se(l.src,i=s[3].url)||f(l,"src",i),f(l,"width",n=s[3].width),f(l,"height",r=s[3].height),f(l,"alt",""),f(l,"class","svelte-1bg66v9"),f(t,"class","image svelte-1bg66v9"),f(c,"class","title svelte-1bg66v9"),f(g,"class","svelte-1bg66v9"),f(o,"class","metatext svelte-1bg66v9"),f(e,"class","m-metadata svelte-1bg66v9")},m($,M){j($,e,M),v(e,t),v(t,l),v(e,a),v(e,o),v(o,c),v(c,d),v(o,_);for(let p=0;p<S.length;p+=1)S[p].m(o,null);v(o,h),v(o,g),v(o,y),b&&b.m(o,null)},p($,M){var p,D;if(M[0]&8&&!Se(l.src,i=$[3].url)&&f(l,"src",i),M[0]&8&&n!==(n=$[3].width)&&f(l,"width",n),M[0]&8&&r!==(r=$[3].height)&&f(l,"height",r),M[0]&32&&u!==(u=$[5].metadata.title+"")&&we(d,u),M[0]&32){w=(p=$[5].metadata)==null?void 0:p.artist;let V;for(V=0;V<w.length;V+=1){const z=Jt($,w,V);S[V]?S[V].p(z,M):(S[V]=ts(z),S[V].c(),S[V].m(o,h))}for(;V<S.length;V+=1)S[V].d(1);S.length=w.length}(D=$[5].metadata)!=null&&D.length?b?b.p($,M):(b=ss($),b.c(),b.m(o,null)):b&&(b.d(1),b=null)},d($){$&&m(e),Re(S,$),b&&b.d()}}}function ts(s){let e,t=(s[32].text??"")+"",l;return{c(){e=k("span"),l=ne(t),this.h()},l(i){e=E(i,"SPAN",{class:!0});var n=Y(e);l=re(n,t),n.forEach(m),this.h()},h(){f(e,"class","secondary svelte-1bg66v9")},m(i,n){j(i,e,n),v(e,l)},p(i,n){n[0]&32&&t!==(t=(i[32].text??"")+"")&&we(l,t)},d(i){i&&m(e)}}}function ss(s){var i;let e,t=(((i=s[5].metadata)==null?void 0:i.length)??"")+"",l;return{c(){e=k("span"),l=ne(t),this.h()},l(n){e=E(n,"SPAN",{class:!0});var r=Y(e);l=re(r,t),r.forEach(m),this.h()},h(){f(e,"class","length secondary svelte-1bg66v9")},m(n,r){j(n,e,r),v(e,l)},p(n,r){var a;r[0]&32&&t!==(t=(((a=n[5].metadata)==null?void 0:a.length)??"")+"")&&we(l,t)},d(n){n&&m(e)}}}function ls(s){var d,_;let e,t,l,i,n=((d=s[29])==null?void 0:d.text)+"",r,a,o,c,u;return t=new ye({props:{name:(_=s[29])==null?void 0:_.icon,color:"#f2f2f2",size:"1.5em"}}),{c(){e=k("li"),J(t.$$.fragment),l=L(),i=k("span"),r=ne(n),a=L(),this.h()},l(h){e=E(h,"LI",{class:!0});var g=Y(e);ee(t.$$.fragment,g),l=F(g),i=E(g,"SPAN",{class:!0});var y=Y(i);r=re(y,n),y.forEach(m),a=F(g),g.forEach(m),this.h()},h(){f(i,"class","text"),f(e,"class","svelte-1bg66v9")},m(h,g){j(h,e,g),Q(t,e,null),v(e,l),v(e,i),v(i,r),v(e,a),o=!0,c||(u=Z(e,"click",function(){var y,w;et((y=s[29])==null?void 0:y.action)&&((w=s[29])==null||w.action.apply(this,arguments))}),c=!0)},p(h,g){var w,S;s=h;const y={};g[0]&16&&(y.name=(w=s[29])==null?void 0:w.icon),t.$set(y),(!o||g[0]&16)&&n!==(n=((S=s[29])==null?void 0:S.text)+"")&&we(r,n)},i(h){o||(P(t.$$.fragment,h),o=!0)},o(h){C(t.$$.fragment,h),o=!1},d(h){h&&m(e),x(t),c=!1,u()}}}function ri(s){let e,t,l=s[7]&&Qt(s);return{c(){l&&l.c(),e=de()},l(i){l&&l.l(i),e=de()},m(i,n){l&&l.m(i,n),j(i,e,n),t=!0},p(i,n){i[7]?l?(l.p(i,n),n[0]&128&&P(l,1)):(l=Qt(i),l.c(),P(l,1),l.m(e.parentNode,e)):l&&(ae(),C(l,1,1,()=>{l=null}),oe())},i(i){t||(P(l),t=!0)},o(i){C(l),t=!1},d(i){l&&l.d(i),i&&m(e)}}}const ai=/=w\d+-h\d+-/gm;function oi(s,e,t){let l,i,n,r,a,o,c,u,d;te(s,wt,A=>t(5,o=A)),te(s,Bt,A=>t(10,u=A)),te(s,Ae,A=>t(11,d=A));let _,h=0,g=0,y,w;const S=Vt(0,{duration:640,easing:pt});te(s,S,A=>t(9,c=A));function b(A,{detail:le}){_=!0}function N(A,le){_&&(Math.sign(le.velocityY)<0?$(A,le):M(A,le))}function I(A,le){A===1&&S.set(Math.min(n,Math.max(0,le.clientY-8)),{duration:180})}function $(A,le){const R=le.deltaY/h,ie=(le.velocityY>=0&&le.velocityY>.2,1-R)*g;S.update(()=>0,{duration:Math.min(ie/Math.abs(le.velocityY),300)})}async function M(A,le){const R=le.deltaY/h,ie=(le.velocityY>=0&&le.velocityY>.2?1-R:R)*g;A===1&&S.set(g,{duration:Math.min(ie/Math.abs(le.velocityY),640)}),_=!1,await Zs(),t(7,r=!1),await p()}async function p(){const A=y.animate([{backgroundColor:"hsla(0, 0%, 0%, 55%)",opacity:1},{backgroundColor:"#0000",opacity:0}],{duration:600,delay:300,fill:"forwards",direction:"normal",easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",composite:"replace"});A.onfinish=()=>{wt.reset(),qs.set(null)},A.play()}function D(A){ze[A?"unshift":"push"](()=>{y=A,t(2,y)})}const V=()=>{t(6,w.style.willChange="scroll-position, transform",w)},z=A=>b(1,A),B=A=>I(1,A.detail),G=A=>N(1,A.detail);function T(A){ze[A?"unshift":"push"](()=>{w=A,t(6,w)})}function H(){h=this.clientHeight,t(0,h)}function K(){g=this.clientHeight,t(1,g)}return s.$$.update=()=>{var A,le,R,W;if(s.$$.dirty[0]&32&&t(4,l=o.items),s.$$.dirty[0]&32&&t(8,i=o.type),s.$$.dirty[0]&3&&(n=g-h*.5),s.$$.dirty[0]&16&&t(7,r=!!l.length),s.$$.dirty[0]&22)if(l.length!==0){if(S.update((ie,O)=>0,{duration:500,easing:pt}),y){const ie=y.animate([{backgroundColor:"#0000",opacity:0},{backgroundColor:"hsla(0, 0%, 0%, 55%)",opacity:1}],{duration:600,fill:"forwards",direction:"normal",easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",composite:"replace"});ie.onfinish=()=>{t(7,r=!0)},ie.play()}}else l.length===0&&S.update(()=>g,{duration:600,easing:pt,delay:400});s.$$.dirty[0]&32&&t(3,a=Array.isArray(((A=o.metadata)==null?void 0:A.thumbnail)??((le=o.items[0])==null?void 0:le.thumbnails))?((R=o.metadata)==null?void 0:R.thumbnail[0])??((W=o.items[0])==null?void 0:W.thumbnails):{width:0,height:0,url:"",placeholder:""}),s.$$.dirty[0]&8&&t(3,a.url=a.width<100?a.url.replace(ai,"=w240-h240-"):a.url,a)},[h,g,y,a,l,o,w,r,i,c,u,d,S,b,N,I,p,D,V,z,B,G,T,H,K]}class ui extends ve{constructor(e){super(),ge(this,e,oi,ri,ke,{},null,[-1,-1])}}function ci(s){let e,t,l,i,n,r,a,o;return t=new ye({props:{name:s[1],size:"1.5em"}}),{c(){e=k("div"),J(t.$$.fragment),l=L(),i=k("div"),n=ne(s[0]),this.h()},l(c){e=E(c,"DIV",{class:!0,tabindex:!0});var u=Y(e);ee(t.$$.fragment,u),l=F(u),i=E(u,"DIV",{class:!0});var d=Y(i);n=re(d,s[0]),d.forEach(m),u.forEach(m),this.h()},h(){f(i,"class","dd-text"),f(e,"class","dd-item svelte-f8p4nb"),f(e,"tabindex","0")},m(c,u){j(c,e,u),Q(t,e,null),v(e,l),v(e,i),v(i,n),r=!0,a||(o=[Z(e,"click",s[2]),Z(e,"keydown",s[3])],a=!0)},p(c,[u]){const d={};u&2&&(d.name=c[1]),t.$set(d),(!r||u&1)&&we(n,c[0])},i(c){r||(P(t.$$.fragment,c),r=!0)},o(c){C(t.$$.fragment,c),r=!1},d(c){c&&m(e),x(t),a=!1,De(o)}}}function fi(s,e,t){let{text:l=""}=e,{icon:i=""}=e;function n(a){xe.call(this,s,a)}function r(a){xe.call(this,s,a)}return s.$$set=a=>{"text"in a&&t(0,l=a.text),"icon"in a&&t(1,i=a.icon)},[l,i,n,r]}class di extends ve{constructor(e){super(),ge(this,e,fi,ci,ke,{text:0,icon:1})}}function is(s,e,t){const l=s.slice();return l[25]=e[t],l}function ns(s){let e,t,l,i,n,r,a,o,c=s[7],u=[];for(let _=0;_<c.length;_+=1)u[_]=rs(is(s,c,_));const d=_=>C(u[_],1,1,()=>{u[_]=null});return{c(){e=k("div");for(let _=0;_<u.length;_+=1)u[_].c();this.h()},l(_){e=E(_,"DIV",{class:!0,style:!0,tabindex:!0});var h=Y(e);for(let g=0;g<u.length;g+=1)u[g].l(h);h.forEach(m),this.h()},h(){f(e,"class",t=s[6]==="player"?"dd-player":"dd-menu"),se(e,"transform","translate("+s[3]+"px, "+s[4]+"px)"),f(e,"tabindex","0"),Ee(()=>s[16].call(e))},m(_,h){j(_,e,h);for(let g=0;g<u.length;g+=1)u[g].m(e,null);l=Oe(e,s[16].bind(e)),s[17](e),r=!0,a||(o=[Be(Dt.call(null,e)),Be(mi.call(null,e)),Z(e,"mouseleave",pe(s[8])),Z(e,"lostfocus",s[8])],a=!0)},p(_,h){if(h&896){c=_[7];let g;for(g=0;g<c.length;g+=1){const y=is(_,c,g);u[g]?(u[g].p(y,h),P(u[g],1)):(u[g]=rs(y),u[g].c(),P(u[g],1),u[g].m(e,null))}for(ae(),g=c.length;g<u.length;g+=1)d(g);oe()}(!r||h&64&&t!==(t=_[6]==="player"?"dd-player":"dd-menu"))&&f(e,"class",t),(!r||h&24)&&se(e,"transform","translate("+_[3]+"px, "+_[4]+"px)")},i(_){if(!r){for(let h=0;h<c.length;h+=1)P(u[h]);Ee(()=>{n&&n.end(1),i=He(e,as,{delay:125,duration:125}),i.start()}),r=!0}},o(_){u=u.filter(Boolean);for(let h=0;h<u.length;h+=1)C(u[h]);i&&i.invalidate(),n=Ke(e,as,{duration:125}),r=!1},d(_){_&&m(e),Re(u,_),l(),s[17](null),_&&n&&n.end(),a=!1,De(o)}}}function rs(s){let e,t;function l(...i){return s[15](s[25],...i)}return e=new di({props:{text:s[25].text,icon:s[25].icon}}),e.$on("click",function(){et(s[25].action)&&s[25].action.apply(this,arguments)}),e.$on("click",s[8]),e.$on("keydown",l),{c(){J(e.$$.fragment)},l(i){ee(e.$$.fragment,i)},m(i,n){Q(e,i,n),t=!0},p(i,n){s=i;const r={};n&128&&(r.text=s[25].text),n&128&&(r.icon=s[25].icon),e.$set(r)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){C(e.$$.fragment,i),t=!1},d(i){x(e,i)}}}function hi(s){let e,t,l,i,n=s[5]&&ns(s);return{c(){n&&n.c(),e=de()},l(r){n&&n.l(r),e=de()},m(r,a){n&&n.m(r,a),j(r,e,a),t=!0,l||(i=Z(window,"scroll",s[10],!0),l=!0)},p(r,[a]){r[5]?n?(n.p(r,a),a&32&&P(n,1)):(n=ns(r),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(ae(),C(n,1,1,()=>{n=null}),oe())},i(r){t||(P(n),t=!0)},o(r){C(n),t=!1},d(r){n&&n.d(r),r&&m(e),l=!1,i()}}}function as(s,{delay:e=0,duration:t=400,easing:l=Je}={}){const i=getComputedStyle(s),n=+i.opacity,r=parseFloat(i.height),a=parseFloat(i.paddingTop),o=parseFloat(i.paddingBottom),c=parseFloat(i.marginTop),u=parseFloat(i.marginBottom),d=parseFloat(i.borderTopWidth),_=parseFloat(i.borderBottomWidth);return{delay:e,duration:t,easing:l,css:(h,g)=>`overflow: hidden;opacity: ${Math.min(h*20,1)*n};height: ${h*r}px;padding-top: ${h*a}px;padding-bottom: ${h*o}px;margin-top: ${h*c}px;margin-bottom: ${h*u}px;border-top-width: ${h*d}px;border-bottom-width: ${h*_}px;`}}function mi(s){function e(t){s.contains(t.relatedTarget)||s.dispatchEvent(new CustomEvent("lostfocus"))}return s.addEventListener("focusout",e,!0),{destroy(){s.removeEventListener("focusout",e,!0)}}}function pi(s,e,t){let l,i,n,r,a,o,c;te(s,Gt,B=>t(22,r=B)),te(s,wt,B=>t(12,a=B)),te(s,Sl,B=>t(13,o=B)),te(s,Tt,B=>t(14,c=B));let{main:u}=e,d,_,h,g,y=0,w=!1,S,b;function N(){a.srcNode!==void 0&&(qs.set(new WeakRef({value:null})),a.srcNode.focus()),bt(Gt,r=!1,r),wt.reset(),w=!1}function I(B,G){B.code==="Space"&&(B.preventDefault(),G(),N())}let $;function M(B){if(!g)return;if($===void 0&&($=B),B-$<100)d=requestAnimationFrame(M);else{N(),cancelAnimationFrame(d),w=!1,t(5,n=!1),$=void 0,y=void 0,d=void 0;return}}function p(){!n&&!g||(y||(y=g.getBoundingClientRect().top),!d&&(w||(w=!0,requestAnimationFrame(M))))}const D=(B,G)=>I(G,B.action);function V(){_=this.clientWidth,h=this.clientHeight,t(0,_),t(1,h)}function z(B){ze[B?"unshift":"push"](()=>{g=B,t(2,g)})}return s.$$set=B=>{"main"in B&&t(11,u=B.main)},s.$$.update=()=>{if(s.$$.dirty&4096&&t(7,l=a==null?void 0:a.items),s.$$.dirty&4096&&t(6,i=a==null?void 0:a.type),s.$$.dirty&4096&&t(5,n=(a==null?void 0:a.items.length)!==0),s.$$.dirty&28679&&g){let B=g.getBoundingClientRect();(a==null?void 0:a.direction)==="right"?(B==null?void 0:B.left)<=0?t(3,S=a.x+(B==null?void 0:B.width)):(B==null?void 0:B.right)>=c?t(3,S=c+-_*1.75):t(3,S=a.x):t(3,S=a.x-_),(a==null?void 0:a.y)-h<=0?t(4,b=a.y):a.bottom+h>=o?t(4,b=a.y-h):t(4,b=a.y)}},[_,h,g,S,b,n,i,l,N,I,p,u,a,o,c,D,V,z]}class _i extends ve{constructor(e){super(),ge(this,e,pi,hi,ke,{main:11})}}function vi(s){let e,t,l;var i=s[1].component;function n(r){return{props:{main:r[0]}}}return i&&(e=jt(i,n(s))),{c(){e&&J(e.$$.fragment),t=de()},l(r){e&&ee(e.$$.fragment,r),t=de()},m(r,a){e&&Q(e,r,a),j(r,t,a),l=!0},p(r,[a]){const o={};if(a&1&&(o.main=r[0]),i!==(i=r[1].component)){if(e){ae();const c=e;C(c.$$.fragment,1,0,()=>{x(c,1)}),oe()}i?(e=jt(i,n(r)),J(e.$$.fragment),P(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else i&&e.$set(o)},i(r){l||(e&&P(e.$$.fragment,r),l=!0)},o(r){e&&C(e.$$.fragment,r),l=!1},d(r){r&&m(t),e&&x(e,r)}}}function gi(s,e,t){let l,i;te(s,Tt,a=>t(2,i=a));let{main:n}=e;const r=[{name:"mobile",component:ui},{name:"desktop",component:_i}];return s.$$set=a=>{"main"in a&&t(0,n=a.main)},s.$$.update=()=>{s.$$.dirty&4&&t(1,l=i<640?r[0]:r[1])},[n,l,i]}class bi extends ve{constructor(e){super(),ge(this,e,gi,vi,ke,{main:0})}}function yi(s){let e,t;return e=new ye({props:{fill:s[5]?"#FFF":"none",color:"white",name:"pause",size:s[6].main}}),{c(){J(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,i){Q(e,l,i),t=!0},p(l,i){const n={};i&32&&(n.fill=l[5]?"#FFF":"none"),i&64&&(n.size=l[6].main),e.$set(n)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function wi(s){let e,t;return e=new ye({props:{fill:s[5]?"#FFF":"none",color:"white",name:"play",size:s[6].main}}),{c(){J(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,i){Q(e,l,i),t=!0},p(l,i){const n={};i&32&&(n.fill=l[5]?"#FFF":"none"),i&64&&(n.size=l[6].main),e.$set(n)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function ki(s){let e;return{c(){e=k("div"),this.h()},l(t){e=E(t,"DIV",{class:!0}),Y(e).forEach(m),this.h()},h(){f(e,"class","player-spinner svelte-7erybt"),be(e,"fade-out",!!s[4])},m(t,l){j(t,e,l)},p(t,l){l&16&&be(e,"fade-out",!!t[4])},i:_e,o:_e,d(t){t&&m(e)}}}function Ei(s){let e,t,l,i,n,r,a,o,c,u,d,_,h,g,y,w,S,b,N,I,$;i=new ye({props:{color:"white",style:"stroke-width:2; stroke: "+(s[7]?"#fff":"hsla(0, 0%, 100%, 0.5)")+";",name:"shuffle",fill:"none",size:"1em"}}),o=new ye({props:{color:"white",style:"stroke-width:2; stroke: white;",name:"skip-back",fill:s[5]?"#fff":"none",size:s[6].skip}});const M=[ki,wi,yi],p=[];function D(V,z){return V[4]?0:V[2]?1:2}return d=D(s),_=p[d]=M[d](s),y=new ye({props:{color:"white",style:"stroke-width:2; stroke: white;",name:"skip-forward",fill:s[5]?"#fff":"none",size:s[6].skip}}),b=new ye({props:{color:"white",style:"stroke-width:2; stroke: hsla(0, 0%, 100%, "+s[9]+")",name:s[8],fill:"none",size:"1em"}}),{c(){e=k("div"),t=k("div"),l=k("div"),J(i.$$.fragment),n=L(),r=k("div"),a=k("div"),J(o.$$.fragment),c=L(),u=k("div"),_.c(),h=L(),g=k("div"),J(y.$$.fragment),w=L(),S=k("div"),J(b.$$.fragment),this.h()},l(V){e=E(V,"DIV",{class:!0});var z=Y(e);t=E(z,"DIV",{class:!0});var B=Y(t);l=E(B,"DIV",{class:!0});var G=Y(l);ee(i.$$.fragment,G),G.forEach(m),n=F(B),r=E(B,"DIV",{class:!0});var T=Y(r);a=E(T,"DIV",{class:!0});var H=Y(a);ee(o.$$.fragment,H),H.forEach(m),c=F(T),u=E(T,"DIV",{class:!0});var K=Y(u);_.l(K),K.forEach(m),h=F(T),g=E(T,"DIV",{class:!0});var A=Y(g);ee(y.$$.fragment,A),A.forEach(m),T.forEach(m),w=F(B),S=E(B,"DIV",{class:!0});var le=Y(S);ee(b.$$.fragment,le),le.forEach(m),B.forEach(m),z.forEach(m),this.h()},h(){f(l,"class","player-btn svelte-7erybt"),f(a,"class","player-btn svelte-7erybt"),f(u,"class","player-btn player-title svelte-7erybt"),f(g,"class","player-btn svelte-7erybt"),f(r,"class","controls-middle svelte-7erybt"),f(S,"class","player-btn svelte-7erybt"),f(t,"class","buttons svelte-7erybt"),f(e,"class","player-controls svelte-7erybt")},m(V,z){j(V,e,z),v(e,t),v(t,l),Q(i,l,null),v(t,n),v(t,r),v(r,a),Q(o,a,null),v(r,c),v(r,u),p[d].m(u,null),v(r,h),v(r,g),Q(y,g,null),v(t,w),v(t,S),Q(b,S,null),N=!0,I||($=[Z(l,"click",pe(s[11]),!0),Z(a,"click",pe(function(){et(s[0])&&s[0].apply(this,arguments)}),!0),Z(u,"click",pe(s[13]),!0),Z(g,"click",pe(function(){et(s[1])&&s[1].apply(this,arguments)}),!0),Z(S,"click",pe(s[12]),!0)],I=!0)},p(V,[z]){s=V;const B={};z&128&&(B.style="stroke-width:2; stroke: "+(s[7]?"#fff":"hsla(0, 0%, 100%, 0.5)")+";"),i.$set(B);const G={};z&32&&(G.fill=s[5]?"#fff":"none"),z&64&&(G.size=s[6].skip),o.$set(G);let T=d;d=D(s),d===T?p[d].p(s,z):(ae(),C(p[T],1,1,()=>{p[T]=null}),oe(),_=p[d],_?_.p(s,z):(_=p[d]=M[d](s),_.c()),P(_,1),_.m(u,null));const H={};z&32&&(H.fill=s[5]?"#fff":"none"),z&64&&(H.size=s[6].skip),y.$set(H);const K={};z&512&&(K.style="stroke-width:2; stroke: hsla(0, 0%, 100%, "+s[9]+")"),z&256&&(K.name=s[8]),b.$set(K)},i(V){N||(P(i.$$.fragment,V),P(o.$$.fragment,V),P(_),P(y.$$.fragment,V),P(b.$$.fragment,V),N=!0)},o(V){C(i.$$.fragment,V),C(o.$$.fragment,V),C(_),C(y.$$.fragment,V),C(b.$$.fragment,V),N=!1},d(V){V&&m(e),x(i),x(o),p[d].d(),x(y),x(b),I=!1,De($)}}}function Ii(s,e,t){let l,i;te(s,Ae,I=>t(10,l=I)),te(s,ut,I=>t(16,i=I));let{prevBtn:n}=e,{nextBtn:r}=e,{isPaused:a}=e,{pause:o}=e,{loading:c}=e,{isQueue:u=!1}=e,{sizes:d={main:"2em",skip:"1.5em"}}=e;Qe();let _=[],h=!1,g=0,y="repeat",w=.5;function S(){if(h===!0&&_.length!==0){t(7,h=!1),Ae.setMix(_),_=[];return}t(7,h=!0),_=i,Ae.shuffle(l.position,!0)}function b(){switch(++g,g){case 0:ce.repeat("off"),t(8,y="repeat"),t(9,w=.5);break;case 1:t(9,w=.9),ce.repeat("playlist");break;case 2:t(9,w=.9),t(8,y="repeat-1"),ce.repeat("track"),g=-1;break;default:ce.repeat("off"),g=0;break}}const N=I=>{l.mix&&(a?ce.play(I):o())};return s.$$set=I=>{"prevBtn"in I&&t(0,n=I.prevBtn),"nextBtn"in I&&t(1,r=I.nextBtn),"isPaused"in I&&t(2,a=I.isPaused),"pause"in I&&t(3,o=I.pause),"loading"in I&&t(4,c=I.loading),"isQueue"in I&&t(5,u=I.isQueue),"sizes"in I&&t(6,d=I.sizes)},[n,r,a,o,c,u,d,h,y,w,l,S,b,N]}class tl extends ve{constructor(e){super(),ge(this,e,Ii,Ei,ke,{prevBtn:0,nextBtn:1,isPaused:2,pause:3,loading:4,isQueue:5,sizes:6})}}function Yi(s,e){function t(l){!Object.keys(e.shortcut).includes(l.code)||l.ctrlKey||l.shiftKey||l.metaKey||l.altKey||l.key.match(/F[1-9]+/)||l.code==="Tab"||!document.activeElement.tagName.match(/SELECT|INPUT|BUTTON|A/i)&&!document.activeElement.attributes.getNamedItem("tabindex")&&!document.activeElement.classList.contains("select")&&!document.activeElement.classList.contains("dd-menu")&&!document.activeElement.classList.contains("dd-item")&&!document.activeElement.classList.contains("dd-button")&&(l.preventDefault(),Object.keys(e.shortcut).forEach(i=>{l.code===i&&(Array.isArray(e.shortcut[i])?e.shortcut[i].forEach(n=>n(l)):e.shortcut[i](l))}))}return window.addEventListener("keydown",t),{destroy(){window.removeEventListener("keydown",t)}}}function os(s){let e,t,l,i;return{c(){e=k("div"),this.h()},l(n){e=E(n,"DIV",{class:!0,style:!0}),Y(e).forEach(m),this.h()},h(){f(e,"class","hover svelte-7x9i3e"),se(e,"transform","scaleX("+s[3]+")")},m(n,r){j(n,e,r),i=!0},p(n,r){s=n,(!i||r&8)&&se(e,"transform","scaleX("+s[3]+")")},i(n){i||(Ee(()=>{l&&l.end(1),t=He(e,Me,{duration:180,delay:0,easing:Vl}),t.start()}),i=!0)},o(n){t&&t.invalidate(),l=Ke(e,Me,{duration:240,delay:120,easing:Cl}),i=!1},d(n){n&&m(e),n&&l&&l.end()}}}function Di(s){let e,t,l=mt(s[6])+"",i,n,r,a,o,c,u,d,_,h=mt(s[5])+"",g,y,w,S,b=s[2]&&os(s);return{c(){e=k("div"),t=k("span"),i=ne(l),n=L(),r=k("div"),a=k("div"),b&&b.c(),o=L(),c=k("progress"),d=L(),_=k("span"),g=ne(h),this.h()},l(N){e=E(N,"DIV",{class:!0});var I=Y(e);t=E(I,"SPAN",{class:!0});var $=Y(t);i=re($,l),$.forEach(m),n=F(I),r=E(I,"DIV",{class:!0});var M=Y(r);a=E(M,"DIV",{class:!0});var p=Y(a);b&&b.l(p),o=F(p),c=E(p,"PROGRESS",{max:!0,class:!0}),Y(c).forEach(m),p.forEach(m),M.forEach(m),d=F(I),_=E(I,"SPAN",{class:!0});var D=Y(_);g=re(D,h),D.forEach(m),I.forEach(m),this.h()},h(){f(t,"class","timestamp secondary svelte-7x9i3e"),c.value=s[6],f(c,"max",s[5]),f(c,"class","svelte-7x9i3e"),be(c,"isTouchDrag",s[0]),f(a,"class","progress-bar svelte-7x9i3e"),f(r,"class","progress-bar-wrapper svelte-7x9i3e"),f(_,"class","timestamp secondary svelte-7x9i3e"),f(e,"class","progress-container svelte-7x9i3e")},m(N,I){j(N,e,I),v(e,t),v(t,i),v(e,n),v(e,r),v(r,a),b&&b.m(a,null),v(a,o),v(a,c),s[15](c),v(e,d),v(e,_),v(_,g),y=!0,w||(S=[Z(window,"pointerup",s[11]),Z(window,"pointermove",s[9]),Z(c,"touchstart",s[12],{passive:!0}),Z(c,"pointerdown",s[13]),Z(c,"pointerup",s[14]),Z(a,"pointerover",s[16]),Z(a,"click",pe(Pi),!0),Z(a,"pointerdown",pe(s[10]),!0),Z(a,"touchstart",s[17],{passive:!0}),Z(a,"pointerleave",s[18])],w=!0)},p(N,[I]){(!y||I&64)&&l!==(l=mt(N[6])+"")&&we(i,l),N[2]?b?(b.p(N,I),I&4&&P(b,1)):(b=os(N),b.c(),P(b,1),b.m(a,o)):b&&(ae(),C(b,1,1,()=>{b=null}),oe()),(!y||I&64)&&(c.value=N[6]),(!y||I&32)&&f(c,"max",N[5]),(!y||I&1)&&be(c,"isTouchDrag",N[0]),(!y||I&32)&&h!==(h=mt(N[5])+"")&&we(g,h)},i(N){y||(P(b),Ee(()=>{u||(u=Ge(a,Me,{},!0)),u.run(1)}),y=!0)},o(N){C(b),u||(u=Ge(a,Me,{},!1)),u.run(0),y=!1},d(N){N&&m(e),b&&b.d(),s[15](null),N&&u&&u.end(),w=!1,De(S)}}}function Ni(s,e){let t=s.clientX-e.left;return Math.min(Math.max(t/e.width,0),1)}function $i(s,e){const t=s.clientX-e.left;return Math.min(Math.max(t/e.width,0),1)}const Pi=()=>{};function Si(s,e,t){let l,i;const{currentTimeStore:n,durationStore:r}=ce;te(s,n,p=>t(6,i=p)),te(s,r,p=>t(5,l=p));let a=!1,o=!1,c=!1,u,d;function _(p){o&&g(p),c&&h(p)}function h(p){d&&t(3,u=$i(p,d.getBoundingClientRect()))}function g(p){!d&&!ce.player.src||ce.seek(Ni(p,d.getBoundingClientRect())*l)}const y=()=>t(1,o=!1),w=()=>{t(1,o=!0),t(2,c=!1)},S=()=>{t(1,o=!0),t(2,c=!1)},b=()=>{t(1,o=!1),t(2,c=!1)};function N(p){ze[p?"unshift":"push"](()=>{d=p,t(4,d)})}return[a,o,c,u,d,l,i,n,r,_,g,y,w,S,b,N,p=>{t(2,c=!0)},()=>{t(0,a=!0)},p=>{t(2,c=!1)}]}class sl extends ve{constructor(e){super(),ge(this,e,Si,Di,ke,{})}}function Vi(s){let e,t;return e=new ye({props:{color:"white",name:"pause",size:"1.625rem"}}),{c(){J(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,i){Q(e,l,i),t=!0},p:_e,i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Ci(s){let e,t;return e=new ye({props:{color:"white",name:"play",size:"24px"}}),{c(){J(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,i){Q(e,l,i),t=!0},p:_e,i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Bi(s){let e;return{c(){e=k("div"),this.h()},l(t){e=E(t,"DIV",{class:!0}),Y(e).forEach(m),this.h()},h(){f(e,"class","player-spinner"),be(e,"fade-out",!!s[2])},m(t,l){j(t,e,l)},p(t,l){l&4&&be(e,"fade-out",!!t[2])},i:_e,o:_e,d(t){t&&m(e)}}}function Ti(s){let e,t,l,i,n,r;const a=[Bi,Ci,Vi],o=[];function c(u,d){return u[2]?0:u[0]?1:2}return t=c(s),l=o[t]=a[t](s),{c(){e=k("div"),l.c(),this.h()},l(u){e=E(u,"DIV",{class:!0});var d=Y(e);l.l(d),d.forEach(m),this.h()},h(){f(e,"class","player-btn player-title svelte-1ffxk39")},m(u,d){j(u,e,d),o[t].m(e,null),i=!0,n||(r=Z(e,"click",pe(s[5]),!0),n=!0)},p(u,[d]){let _=t;t=c(u),t===_?o[t].p(u,d):(ae(),C(o[_],1,1,()=>{o[_]=null}),oe(),l=o[t],l?l.p(u,d):(l=o[t]=a[t](u),l.c()),P(l,1),l.m(e,null))},i(u){i||(P(l),i=!0)},o(u){C(l),i=!1},d(u){u&&m(e),o[t].d(),n=!1,r()}}}function zi(s,e,t){let l,i,n,r;te(s,ut,c=>t(1,n=c)),te(s,lt,c=>t(2,r=c));const{paused:a}=ce;te(s,a,c=>t(4,i=c));const o=c=>{n&&(l?ce.play(c):ce.pause())};return s.$$.update=()=>{s.$$.dirty&16&&t(0,l=i)},[l,n,r,a,i,o]}class Mi extends ve{constructor(e){super(),ge(this,e,zi,Ti,Yt,{})}}function Ai(s){let e,t,l,i,n,r,a,o,c,u;return{c(){e=k("img"),l=L(),i=k("div"),n=k("span"),r=ne("Not Playing"),a=L(),o=k("div"),this.h()},l(d){e=E(d,"IMG",{width:!0,height:!0,style:!0,src:!0,alt:!0,class:!0}),l=F(d),i=E(d,"DIV",{class:!0,style:!0});var _=Y(i);n=E(_,"SPAN",{});var h=Y(n);r=re(h,"Not Playing"),h.forEach(m),a=F(_),o=E(_,"DIV",{}),Y(o).forEach(m),_.forEach(m),this.h()},h(){f(e,"width","64"),f(e,"height","64"),se(e,"object-fit","scale-down"),se(e,"background","#000"),Se(e.src,t=Et)||f(e,"src",t),f(e,"alt",""),f(e,"class","svelte-1m4nm3w"),f(i,"class","container svelte-1m4nm3w"),se(i,"gap","0.20125em")},m(d,_){j(d,e,_),j(d,l,_),j(d,i,_),v(i,n),v(n,r),v(i,a),v(i,o),c||(u=Z(e,"error",s[15]),c=!0)},p:_e,d(d){d&&m(e),d&&m(l),d&&m(i),c=!1,u()}}}function ji(s){var y,w,S,b;let e,t,l,i,n,r,a=((y=s[0])==null?void 0:y.title)+"",o,c,u,d=((b=(S=(w=s[0])==null?void 0:w.artistInfo)==null?void 0:S.artist[0])==null?void 0:b.text)+"",_,h,g;return{c(){e=k("img"),i=L(),n=k("div"),r=k("span"),o=ne(a),c=L(),u=k("span"),_=ne(d),this.h()},l(N){e=E(N,"IMG",{width:!0,height:!0,src:!0,alt:!0,class:!0}),i=F(N),n=E(N,"DIV",{class:!0,style:!0});var I=Y(n);r=E(I,"SPAN",{class:!0});var $=Y(r);o=re($,a),$.forEach(m),c=F(I),u=E(I,"SPAN",{class:!0});var M=Y(u);_=re(M,d),M.forEach(m),I.forEach(m),this.h()},h(){var N,I,$,M;f(e,"width","64"),f(e,"height","64"),Se(e.src,t=(($=(I=(N=s[0])==null?void 0:N.thumbnails)==null?void 0:I[0])==null?void 0:$.url)??Et)||f(e,"src",t),f(e,"alt",l=((M=s[0])==null?void 0:M.title)+" thumbnail image"),f(e,"class","svelte-1m4nm3w"),f(r,"class","now-playing-title"),f(u,"class","now-playing-artist svelte-1m4nm3w"),f(n,"class","container svelte-1m4nm3w"),se(n,"font-weight","400"),se(n,"font-family","'CommissionerVariable'"),se(n,"letter-spacing","-0.02em")},m(N,I){j(N,e,I),j(N,i,I),j(N,n,I),v(n,r),v(r,o),v(n,c),v(n,u),v(u,_),h||(g=Z(e,"error",s[10],!0),h=!0)},p(N,I){var $,M,p,D,V,z,B,G;I&1&&!Se(e.src,t=((p=(M=($=N[0])==null?void 0:$.thumbnails)==null?void 0:M[0])==null?void 0:p.url)??Et)&&f(e,"src",t),I&1&&l!==(l=((D=N[0])==null?void 0:D.title)+" thumbnail image")&&f(e,"alt",l),I&1&&a!==(a=((V=N[0])==null?void 0:V.title)+"")&&we(o,a),I&1&&d!==(d=((G=(B=(z=N[0])==null?void 0:z.artistInfo)==null?void 0:B.artist[0])==null?void 0:G.text)+"")&&we(_,d)},d(N){N&&m(e),N&&m(i),N&&m(n),h=!1,g()}}}function us(s){let e,t,l,i,n,r;function a(u){s[19](u)}function o(u){s[20](u)}let c={pause:s[16],nextBtn:s[17],prevBtn:s[18]};return s[5]!==void 0&&(c.isPaused=s[5]),s[8]!==void 0&&(c.loading=s[8]),e=new tl({props:c}),ze.push(()=>tt(e,"isPaused",a,s[5])),ze.push(()=>tt(e,"loading",o,s[8])),e.$on("play",s[21]),n=new sl({}),{c(){J(e.$$.fragment),i=L(),J(n.$$.fragment)},l(u){ee(e.$$.fragment,u),i=F(u),ee(n.$$.fragment,u)},m(u,d){Q(e,u,d),j(u,i,d),Q(n,u,d),r=!0},p(u,d){const _={};d&2&&(_.pause=u[16]),d&64&&(_.nextBtn=u[17]),d&2&&(_.prevBtn=u[18]),!t&&d&32&&(t=!0,_.isPaused=u[5],st(()=>t=!1)),!l&&d&256&&(l=!0,_.loading=u[8],st(()=>l=!1)),e.$set(_)},i(u){r||(P(e.$$.fragment,u),P(n.$$.fragment,u),r=!0)},o(u){C(e.$$.fragment,u),C(n.$$.fragment,u),r=!1},d(u){x(e,u),u&&m(i),x(n,u)}}}function cs(s){let e,t,l,i,n,r,a;return{c(){e=k("div"),t=k("div"),l=k("input"),this.h()},l(o){e=E(o,"DIV",{class:!0});var c=Y(e);t=E(c,"DIV",{class:!0});var u=Y(t);l=E(u,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),u.forEach(m),c.forEach(m),this.h()},h(){f(l,"class","volume svelte-1m4nm3w"),f(l,"type","range"),f(l,"min","0"),f(l,"max","1"),f(l,"step","any"),f(t,"class","volume-slider svelte-1m4nm3w"),f(e,"class","volume-wrapper svelte-1m4nm3w")},m(o,c){j(o,e,c),v(e,t),v(t,l),Ue(l,s[2]),n=!0,r||(a=[Z(l,"click",pe(Ri),!0),Z(l,"input",pe(s[24]),!0),Z(l,"change",s[25]),Z(l,"input",s[25])],r=!0)},p(o,c){c&4&&Ue(l,o[2])},i(o){n||(Ee(()=>{i||(i=Ge(e,Wt,{duration:80,y:100},!0)),i.run(1)}),n=!0)},o(o){i||(i=Ge(e,Wt,{duration:80,y:100},!1)),i.run(0),n=!1},d(o){o&&m(e),o&&i&&i.end(),r=!1,De(a)}}}function Li(s){let e,t,l;return t=new Mi({}),{c(){e=k("div"),J(t.$$.fragment),this.h()},l(i){e=E(i,"DIV",{class:!0});var n=Y(e);ee(t.$$.fragment,n),n.forEach(m),this.h()},h(){f(e,"class","menu-container svelte-1m4nm3w")},m(i,n){j(i,e,n),Q(t,e,null),l=!0},p:_e,i(i){l||(P(t.$$.fragment,i),l=!0)},o(i){C(t.$$.fragment,i),l=!1},d(i){i&&m(e),x(t)}}}function Fi(s){let e,t,l;return t=new Xs({props:{tabindex:-1,type:"player",size:"1.625em",items:s[4]}}),{c(){e=k("div"),J(t.$$.fragment),this.h()},l(i){e=E(i,"DIV",{class:!0});var n=Y(e);ee(t.$$.fragment,n),n.forEach(m),this.h()},h(){f(e,"class","menu-container svelte-1m4nm3w")},m(i,n){j(i,e,n),Q(t,e,null),l=!0},p(i,n){const r={};n&16&&(r.items=i[4]),t.$set(r)},i(i){l||(P(t.$$.fragment,i),l=!0)},o(i){C(t.$$.fragment,i),l=!1},d(i){i&&m(e),x(t)}}}function Gi(s){let e,t,l,i,n,r,a,o,c,u,d,_,h,g,y,w,S,b,N,I;function $(T,H){return T[6].length!==0?ji:Ai}let M=$(s),p=M(s),D=!s[7]&&us(s);u=new ye({props:{color:"white",name:"volume",size:"1.625em"}});let V=s[3]&&cs(s);g=new ye({props:{color:"white",name:"queue",size:"1.625em"}});const z=[Fi,Li],B=[];function G(T,H){return T[7]?1:0}return w=G(s),S=B[w]=z[w](s),{c(){e=k("div"),t=k("div"),p.c(),l=L(),i=k("div"),D&&D.c(),n=L(),r=k("div"),a=k("div"),o=k("div"),c=k("div"),J(u.$$.fragment),d=L(),V&&V.c(),_=L(),h=k("div"),J(g.$$.fragment),y=L(),S.c(),this.h()},l(T){e=E(T,"DIV",{class:!0});var H=Y(e);t=E(H,"DIV",{class:!0,style:!0});var K=Y(t);p.l(K),K.forEach(m),l=F(H),i=E(H,"DIV",{class:!0});var A=Y(i);D&&D.l(A),A.forEach(m),n=F(H),r=E(H,"DIV",{class:!0});var le=Y(r);a=E(le,"DIV",{class:!0,style:!0});var R=Y(a);o=E(R,"DIV",{class:!0});var W=Y(o);c=E(W,"DIV",{color:!0,class:!0});var ie=Y(c);ee(u.$$.fragment,ie),ie.forEach(m),d=F(W),V&&V.l(W),W.forEach(m),_=F(R),h=E(R,"DIV",{class:!0});var O=Y(h);ee(g.$$.fragment,O),O.forEach(m),y=F(R),S.l(R),R.forEach(m),le.forEach(m),H.forEach(m),this.h()},h(){f(t,"class","now-playing svelte-1m4nm3w"),se(t,"align-items","center"),f(i,"class","player-controls svelte-1m4nm3w"),se(i,"display",s[7]?"none":"block"),f(c,"color","white"),f(c,"class","volume-icon player-btn svelte-1m4nm3w"),f(o,"class","volume  svelte-1m4nm3w"),f(h,"class","listButton player-btn svelte-1m4nm3w"),f(a,"class","container row svelte-1m4nm3w"),se(a,"gap","0.5em"),f(r,"class","player-right svelte-1m4nm3w"),f(e,"class","player svelte-1m4nm3w")},m(T,H){j(T,e,H),v(e,t),p.m(t,null),v(e,l),v(e,i),D&&D.m(i,null),v(e,n),v(e,r),v(r,a),v(a,o),v(o,c),Q(u,c,null),v(o,d),V&&V.m(o,null),v(a,_),v(a,h),Q(g,h,null),v(a,y),B[w].m(a,null),b=!0,N||(I=[Z(c,"pointerover",s[22]),Z(c,"click",pe(s[23]),!0),Z(o,"pointerleave",s[26]),Be(Dt.call(null,o)),Z(o,"click_outside",s[27]),Z(h,"click",pe(s[28]),!0),Z(e,"click",s[29]),Be(Yi.call(null,e,{shortcut:s[11]}))],N=!0)},p(T,[H]){M===(M=$(T))&&p?p.p(T,H):(p.d(1),p=M(T),p&&(p.c(),p.m(t,null))),T[7]?D&&(ae(),C(D,1,1,()=>{D=null}),oe()):D?(D.p(T,H),H&128&&P(D,1)):(D=us(T),D.c(),P(D,1),D.m(i,null)),H&128&&se(i,"display",T[7]?"none":"block"),T[3]?V?(V.p(T,H),H&8&&P(V,1)):(V=cs(T),V.c(),P(V,1),V.m(o,null)):V&&(ae(),C(V,1,1,()=>{V=null}),oe());let K=w;w=G(T),w===K?B[w].p(T,H):(ae(),C(B[K],1,1,()=>{B[K]=null}),oe(),S=B[w],S?S.p(T,H):(S=B[w]=z[w](T),S.c()),P(S,1),S.m(a,null))},i(T){b||(P(D),P(u.$$.fragment,T),P(V),P(g.$$.fragment,T),P(S),b=!0)},o(T){C(D),C(u.$$.fragment,T),C(V),C(g.$$.fragment,T),C(S),b=!1},d(T){T&&m(e),p.d(),D&&D.d(),x(u),V&&V.d(),x(g),B[w].d(),N=!1,De(I)}}}const ll=(s,e,t=!1,l)=>Hl().add("View Artist",()=>{window.scrollTo({behavior:"smooth",top:0,left:0}),Ze(`/artist/${s.artistInfo.artist[0].browseId}`)}).add("Add to Playlist",async()=>{yt.set({state:!0,item:s})}).add("Add to Favorites",async()=>{vt.sendMessage("create","favorite",s)}).add(t?"Share Group Session":"Start Group Session",t?async()=>{const i={title:`Join ${Te.client.displayName}'s AlphaTrack Session`,url:`${l}/session?token=${Ws.toBase64(JSON.stringify({clientId:Te.client.clientId,displayName:Te.client.displayName}))}`};try{if(!navigator.canShare)await navigator.clipboard.writeText(i.url),$t("Link copied successfully","success");else{const n=await navigator.share(i);$t("Shared successfully","success")}}catch(n){$t("Error: "+n,"error")}}:async()=>{_t.set(!0)}).add("Shuffle",()=>{Ae.shuffle(e,!0)}).build().filter(Boolean),Ri=()=>{};function Zi(s,e,t){let l,i,n,r,a,o,c,u,d;te(s,zt,A=>t(12,n=A)),te(s,Hs,A=>t(13,r=A)),te(s,Bt,A=>t(0,a=A)),te(s,ut,A=>t(6,c=A)),te(s,Ks,A=>t(7,u=A)),te(s,lt,A=>t(8,d=A));const{paused:_}=ce;te(s,_,A=>t(14,o=A));let h=.5,g;Bl.listen("player",A=>{ce.play()});function y(A){A.target.src=Et}const w={Comma:()=>{ce.previous()},Period:()=>{Ae.next(!0)},Space:()=>{!ce&&!ce.src||(ce.paused?ce.play():ce.pause())}},S=A=>y(A),b=()=>ce.pause(),N=()=>{c.length!==0&&Ae.next(!0,!!Te.hasActiveSession)},I=()=>ce.previous(!0);function $(A){l=A,t(5,l),t(14,o)}function M(A){d=A,lt.set(d)}const p=()=>ce.play(),D=()=>{t(3,g=!0)},V=()=>t(3,g=!g),z=A=>{let le=A.target.value/1,R=Math.pow(le,1.2);t(1,ce.volume=R,ce)};function B(){h=yl(this.value),t(2,h)}const G=()=>{t(3,g=!1)},T=()=>t(3,g=!1),H=()=>{c&&Ye.toggle()},K=A=>{Ye.toggle()};return s.$$.update=()=>{s.$$.dirty&16384&&t(5,l=o),s.$$.dirty&12289&&t(4,i=ll(a,r,Te.hasActiveSession,n))},[a,ce,h,g,i,l,c,u,d,_,y,w,n,r,o,S,b,N,I,$,M,p,D,V,z,B,G,T,H,K]}class Hi extends ve{constructor(e){super(),ge(this,e,Zi,Gi,ke,{})}}function fs(s){let e,t,l,i;const n=s[3].default,r=nt(n,s,s[2],null);return{c(){e=k("div"),r&&r.c(),this.h()},l(a){e=E(a,"DIV",{class:!0});var o=Y(e);r&&r.l(o),o.forEach(m),this.h()},h(){f(e,"class","app-transition-wrapper svelte-1ckvxbr")},m(a,o){j(a,e,o),r&&r.m(e,null),i=!0},p(a,o){s=a,r&&r.p&&(!i||o&4)&&rt(r,n,s,s[2],i?ot(n,s[2],o,null):at(s[2]),null)},i(a){i||(P(r,a),a&&Ee(()=>{l&&l.end(1),t=He(e,it,{x:-5,duration:500,delay:500,easing:Je}),t.start()}),i=!0)},o(a){C(r,a),t&&t.invalidate(),a&&(l=Ke(e,it,{x:-5,duration:500,easing:Je,opacity:0})),i=!1},d(a){a&&m(e),r&&r.d(a),a&&l&&l.end()}}}function Ki(s){let e,t=s[0],l,i=fs(s);return{c(){e=k("div"),i.c(),this.h()},l(n){e=E(n,"DIV",{class:!0});var r=Y(e);i.l(r),r.forEach(m),this.h()},h(){f(e,"class","app-content-p svelte-1ckvxbr")},m(n,r){j(n,e,r),i.m(e,null),l=!0},p(n,[r]){r&1&&Yt(t,t=n[0])?(ae(),C(i,1,1,_e),oe(),i=fs(n),i.c(),P(i,1),i.m(e,null)):i.p(n,r)},i(n){l||(P(i),l=!0)},o(n){C(i),l=!1},d(n){n&&m(e),i.d(n)}}}function qi(s,e,t){let{$$slots:l={},$$scope:i}=e,{main:n}=e,{key:r}=e;return s.$$set=a=>{"main"in a&&t(1,n=a.main),"key"in a&&t(0,r=a.key),"$$scope"in a&&t(2,i=a.$$scope)},[r,n,i,l]}class Xi extends ve{constructor(e){super(),ge(this,e,qi,Ki,Yt,{main:1,key:0})}}function ds(s,e,t){const l=s.slice();return l[2]=e[t],l}function hs(s,e){let t,l=e[2].msg+"",i,n,r,a,o,c,u=_e,d,_,h;function g(){return e[1](e[2])}return{key:s,first:null,c(){t=k("div"),i=ne(l),n=L(),this.h()},l(y){t=E(y,"DIV",{style:!0,class:!0});var w=Y(t);i=re(w,l),n=F(w),w.forEach(m),this.h()},h(){f(t,"style",""),f(t,"class",r=gt(`alert m-alert-${e[2].type}`)+" svelte-cud233"),this.first=t},m(y,w){j(y,t,w),v(t,i),v(t,n),d=!0,_||(h=Z(t,"introend",g),_=!0)},p(y,w){e=y,(!d||w&1)&&l!==(l=e[2].msg+"")&&we(i,l),(!d||w&1&&r!==(r=gt(`alert m-alert-${e[2].type}`)+" svelte-cud233"))&&f(t,"class",r)},r(){c=t.getBoundingClientRect()},f(){kl(t),u(),El(t,c)},a(){u(),u=Il(t,c,$l,{duration:250,delay:0})},i(y){d||(Ee(()=>{o&&o.end(1),a=He(t,it,{y:150,duration:250,easing:Tl}),a.start()}),d=!0)},o(y){a&&a.invalidate(),o=Ke(t,Me,{duration:1250,delay:500}),d=!1},d(y){y&&m(t),y&&o&&o.end(),_=!1,h()}}}function Wi(s){let e,t=[],l=new Map,i,n=s[0];const r=a=>a[2].id;for(let a=0;a<n.length;a+=1){let o=ds(s,n,a),c=r(o);l.set(c,t[a]=hs(c,o))}return{c(){e=k("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=E(a,"DIV",{class:!0});var o=Y(e);for(let c=0;c<t.length;c+=1)t[c].l(o);o.forEach(m),this.h()},h(){f(e,"class","alert-container svelte-cud233")},m(a,o){j(a,e,o);for(let c=0;c<t.length;c+=1)t[c].m(e,null);i=!0},p(a,[o]){if(o&1){n=a[0],ae();for(let c=0;c<t.length;c+=1)t[c].r();t=Ct(t,o,r,1,a,n,l,e,wl,hs,null,ds);for(let c=0;c<t.length;c+=1)t[c].a();oe()}},i(a){if(!i){for(let o=0;o<n.length;o+=1)P(t[o]);i=!0}},o(a){for(let o=0;o<t.length;o+=1)C(t[o]);i=!1},d(a){a&&m(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Ui(s,e,t){let l;return te(s,Lt,n=>t(0,l=n)),[l,n=>{setTimeout(()=>{Lt.remove(n)},3125)}]}class Oi extends ve{constructor(e){super(),ge(this,e,Ui,Wi,ke,{})}}function Ji(s){var S;let e,t,l,i,n,r,a,o=s[0].name+"",c,u,d,_=(Array.isArray(s[0].items)?(S=s[0])==null?void 0:S.items.length:"??")+"",h,g,y,w;return{c(){e=k("li"),t=k("div"),l=k("img"),n=L(),r=k("div"),a=k("p"),c=ne(o),u=L(),d=k("p"),h=ne(_),g=ne(" songs"),this.h()},l(b){e=E(b,"LI",{class:!0});var N=Y(e);t=E(N,"DIV",{class:!0});var I=Y(t);l=E(I,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),I.forEach(m),n=F(N),r=E(N,"DIV",{class:!0});var $=Y(r);a=E($,"P",{class:!0});var M=Y(a);c=re(M,o),M.forEach(m),u=F($),d=E($,"P",{});var p=Y(d);h=re(p,_),g=re(p," songs"),p.forEach(m),$.forEach(m),N.forEach(m),this.h()},h(){var b;Se(l.src,i=(b=s[0])==null?void 0:b.thumbnail)||f(l,"src",i),f(l,"width","64"),f(l,"height","64"),f(l,"alt","thumbnail"),f(l,"class","svelte-1vizhon"),f(t,"class","image svelte-1vizhon"),f(a,"class","title"),f(r,"class","list-item-body svelte-1vizhon"),f(e,"class","svelte-1vizhon")},m(b,N){j(b,e,N),v(e,t),v(t,l),v(e,n),v(e,r),v(r,a),v(a,c),v(r,u),v(r,d),v(d,h),v(d,g),y||(w=Z(e,"click",s[3]),y=!0)},p(b,[N]){var I,$;N&1&&!Se(l.src,i=(I=b[0])==null?void 0:I.thumbnail)&&f(l,"src",i),N&1&&o!==(o=b[0].name+"")&&we(c,o),N&1&&_!==(_=(Array.isArray(b[0].items)?($=b[0])==null?void 0:$.items.length:"??")+"")&&we(h,_)},i:_e,o:_e,d(b){b&&m(e),y=!1,w()}}}function Qi(s,e,t){let{item:l={}}=e,{i}=e;const n=Qe(),r=()=>{n("click",i)};return s.$$set=a=>{"item"in a&&t(0,l=a.item),"i"in a&&t(1,i=a.i)},[l,i,n,r]}class xi extends ve{constructor(e){super(),ge(this,e,Qi,Ji,ke,{item:0,i:1})}}function ms(s,e,t){const l=s.slice();return l[4]=e[t],l[6]=t,l}function ps(s){let e,t,l=s[0],i=[];for(let r=0;r<l.length;r+=1)i[r]=_s(ms(s,l,r));const n=r=>C(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=de()},l(r){for(let a=0;a<i.length;a+=1)i[a].l(r);e=de()},m(r,a){for(let o=0;o<i.length;o+=1)i[o].m(r,a);j(r,e,a),t=!0},p(r,a){if(a&1){l=r[0];let o;for(o=0;o<l.length;o+=1){const c=ms(r,l,o);i[o]?(i[o].p(c,a),P(i[o],1)):(i[o]=_s(c),i[o].c(),P(i[o],1),i[o].m(e.parentNode,e))}for(ae(),o=l.length;o<i.length;o+=1)n(o);oe()}},i(r){if(!t){for(let a=0;a<l.length;a+=1)P(i[a]);t=!0}},o(r){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)C(i[a]);t=!1},d(r){Re(i,r),r&&m(e)}}}function _s(s){let e,t;return e=new xi({props:{item:s[4],i:s[6]}}),e.$on("click",s[3]),{c(){J(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,i){Q(e,l,i),t=!0},p(l,i){const n={};i&1&&(n.item=l[4]),e.$set(n)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function en(s){let e,t,l,i,n,r,a,o,c=s[0].length>0&&ps(s);return{c(){e=k("ul"),t=k("li"),l=k("button"),i=ne("Create New Playlist"),n=L(),c&&c.c(),this.h()},l(u){e=E(u,"UL",{class:!0});var d=Y(e);t=E(d,"LI",{class:!0});var _=Y(t);l=E(_,"BUTTON",{class:!0});var h=Y(l);i=re(h,"Create New Playlist"),h.forEach(m),_.forEach(m),n=F(d),c&&c.l(d),d.forEach(m),this.h()},h(){f(l,"class","create svelte-ogjaqa"),f(t,"class","svelte-ogjaqa"),f(e,"class","svelte-ogjaqa")},m(u,d){j(u,e,d),v(e,t),v(t,l),v(l,i),v(e,n),c&&c.m(e,null),r=!0,a||(o=Z(l,"click",s[2]),a=!0)},p(u,[d]){u[0].length>0?c?(c.p(u,d),d&1&&P(c,1)):(c=ps(u),c.c(),P(c,1),c.m(e,null)):c&&(ae(),C(c,1,1,()=>{c=null}),oe())},i(u){r||(P(c),r=!0)},o(u){C(c),r=!1},d(u){u&&m(e),c&&c.d(),a=!1,o()}}}function tn(s,e,t){let{items:l=[]}=e;const i=Qe(),n=()=>i("create");function r(a){xe.call(this,s,a)}return s.$$set=a=>{"items"in a&&t(0,l=a.items)},[l,i,n,r]}class sn extends ve{constructor(e){super(),ge(this,e,tn,en,ke,{items:0})}}function vs(s){let e,t;return e=new Gl({props:{hasFocus:!0}}),e.$on("close",s[8]),e.$on("submit",s[9]),{c(){J(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,i){Q(e,l,i),t=!0},p:_e,i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function gs(s){let e,t,l;function i(r){s[12](r)}let n={$$slots:{header:[nn],default:[ln]},$$scope:{ctx:s}};return s[4]!==void 0&&(n.hasFocus=s[4]),e=new Rl({props:n}),ze.push(()=>tt(e,"hasFocus",i,s[4])),e.$on("close",s[13]),{c(){J(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,a){Q(e,r,a),l=!0},p(r,a){const o={};a&65598&&(o.$$scope={dirty:a,ctx:r}),!t&&a&16&&(t=!0,o.hasFocus=r[4],st(()=>t=!1)),e.$set(o)},i(r){l||(P(e.$$.fragment,r),l=!0)},o(r){C(e.$$.fragment,r),l=!1},d(r){x(e,r)}}}function ln(s){let e,t,l;return t=new sn({props:{items:s[3]}}),t.$on("click",s[10]),t.$on("create",s[11]),{c(){e=k("div"),J(t.$$.fragment),this.h()},l(i){e=E(i,"DIV",{class:!0});var n=Y(e);ee(t.$$.fragment,n),n.forEach(m),this.h()},h(){f(e,"class","list svelte-newxfa")},m(i,n){j(i,e,n),Q(t,e,null),l=!0},p(i,n){const r={};n&8&&(r.items=i[3]),t.$set(r)},i(i){l||(P(t.$$.fragment,i),l=!0)},o(i){C(t.$$.fragment,i),l=!1},d(i){i&&m(e),x(t)}}}function nn(s){let e,t;return{c(){e=k("h1"),t=ne("Add to Playlist"),this.h()},l(l){e=E(l,"H1",{slot:!0});var i=Y(e);t=re(i,"Add to Playlist"),i.forEach(m),this.h()},h(){f(e,"slot","header")},m(l,i){j(l,e,i),v(e,t)},p:_e,d(l){l&&m(e)}}}function rn(s){let e,t,l,i=s[1]&&vs(s),n=s[0]&&gs(s);return{c(){i&&i.c(),e=L(),n&&n.c(),t=de()},l(r){i&&i.l(r),e=F(r),n&&n.l(r),t=de()},m(r,a){i&&i.m(r,a),j(r,e,a),n&&n.m(r,a),j(r,t,a),l=!0},p(r,[a]){r[1]?i?(i.p(r,a),a&2&&P(i,1)):(i=vs(r),i.c(),P(i,1),i.m(e.parentNode,e)):i&&(ae(),C(i,1,1,()=>{i=null}),oe()),r[0]?n?(n.p(r,a),a&1&&P(n,1)):(n=gs(r),n.c(),P(n,1),n.m(t.parentNode,t)):n&&(ae(),C(n,1,1,()=>{n=null}),oe())},i(r){l||(P(i),P(n),l=!0)},o(r){C(i),C(n),l=!1},d(r){i&&i.d(r),r&&m(e),n&&n.d(r),r&&m(t)}}}function an(s,e,t){let l,i,n;te(s,yt,b=>t(7,n=b));let r,a,o=[];const c=async()=>{const b=await vt.sendMessage("get","playlists");console.log(b),t(3,o=b)},u=Qe();let d;const _=()=>{t(4,d=!0),t(1,r=!1)},h=async b=>{var N,I,$;await vt.sendMessage("create","playlist",{name:(N=b.detail)==null?void 0:N.title,description:(I=b.detail)==null?void 0:I.description,thumbnail:(($=b.detail)==null?void 0:$.thumbnail)??"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJpc29sYXRpb246aXNvbGF0ZSIgdmlld0JveD0iMCAwIDI1NiAyNTYiIHdpZHRoPSIyNTZwdCIgaGVpZ2h0PSIyNTZwdCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJwcmVmaXhfX2EiPjxwYXRoIGQ9Ik0wIDBoMjU2djI1NkgweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsaXAtcGF0aD0idXJsKCNwcmVmaXhfX2EpIj48cGF0aCBmaWxsPSIjNDI0MjQyIiBkPSJNMCAwaDI1NnYyNTZIMHoiLz48ZyBjbGlwLXBhdGg9InVybCgjcHJlZml4X19iKSI+PHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA1LjU0IDE2Ni43OTQpIiBmb250LWZhbWlseT0ic3lzdGVtLXVpLC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LCZxdW90O1NlZ29lIFVJJnF1b3Q7LFJvYm90byxPeHlnZW4sVWJ1bnR1LENhbnRhcmVsbCwmcXVvdDtPcGVuIFNhbnMmcXVvdDssJnF1b3Q7SGVsdmV0aWNhIE5ldWUmcXVvdDssc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9IjQwMCIgZm9udC1zaXplPSIxMDAiIGZpbGw9IiNmYWZhZmEiPj88L3RleHQ+PC9nPjxkZWZzPjxjbGlwUGF0aCBpZD0icHJlZml4X19iIj48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MiA1NC44MzkpIiBkPSJNMCAwaDcydjE0Ni4zMjNIMHoiLz48L2NsaXBQYXRoPjwvZGVmcz48L2c+PC9zdmc+",items:Array.isArray(i)?[...i]:[i]}),t(4,d=!0),t(1,r=!1),u("close")},g=async b=>{t(2,a={index:b.detail,state:!0});const N=o[b.detail],I=[...N==null?void 0:N.items,Array.isArray(i)?[...i]:i];await vt.sendMessage("update","playlist",{hideAlert:!1,id:N.id,items:I}),yt.set({state:!1,item:void 0})},y=()=>{t(4,d=!1),t(1,r=!0)};function w(b){d=b,t(4,d)}const S=()=>{u("close"),t(4,d=!0)};return s.$$.update=()=>{s.$$.dirty&128&&t(0,l=n.state),s.$$.dirty&128&&t(5,i=n.item),s.$$.dirty&1&&l&&c()},[l,r,a,o,d,i,u,n,_,h,g,y,w,S]}class on extends ve{constructor(e){super(),ge(this,e,an,rn,ke,{})}}function un(s){let e,t,l,i;const n=s[2].default,r=nt(n,s,s[1],null);return{c(){e=k("div"),r&&r.c(),this.h()},l(a){e=E(a,"DIV",{class:!0});var o=Y(e);r&&r.l(o),o.forEach(m),this.h()},h(){f(e,"class","tab svelte-19mx2jm"),be(e,"active",s[0])},m(a,o){j(a,e,o),r&&r.m(e,null),t=!0,l||(i=Z(e,"click",s[3]),l=!0)},p(a,[o]){r&&r.p&&(!t||o&2)&&rt(r,n,a,a[1],t?ot(n,a[1],o,null):at(a[1]),null),(!t||o&1)&&be(e,"active",a[0])},i(a){t||(P(r,a),t=!0)},o(a){C(r,a),t=!1},d(a){a&&m(e),r&&r.d(a),l=!1,i()}}}function cn(s,e,t){let{$$slots:l={},$$scope:i}=e,{active:n=!1}=e;function r(a){xe.call(this,s,a)}return s.$$set=a=>{"active"in a&&t(0,n=a.active),"$$scope"in a&&t(1,i=a.$$scope)},[n,i,l,r]}class fn extends ve{constructor(e){super(),ge(this,e,cn,un,ke,{active:0})}}function bs(s,e,t){const l=s.slice();return l[4]=e[t],l}const dn=s=>({tab:s&2,isActive:s&3}),ys=s=>({tab:s[4],isActive:s[0]===s[4].id});function ws(s,e,t){const l=s.slice();return l[4]=e[t],l}function hn(s){let e=s[4].text+"",t;return{c(){t=ne(e)},l(l){t=re(l,e)},m(l,i){j(l,t,i)},p(l,i){i&2&&e!==(e=l[4].text+"")&&we(t,e)},d(l){l&&m(t)}}}function ks(s){let e,t;return e=new fn({props:{active:s[0]===s[4].id,$$slots:{default:[hn]},$$scope:{ctx:s}}}),e.$on("click",function(){et(s[4].action)&&s[4].action.apply(this,arguments)}),{c(){J(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,i){Q(e,l,i),t=!0},p(l,i){s=l;const n={};i&3&&(n.active=s[0]===s[4].id),i&10&&(n.$$scope={dirty:i,ctx:s}),e.$set(n)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Es(s){let e;const t=s[2].tab,l=nt(t,s,s[3],ys);return{c(){l&&l.c()},l(i){l&&l.l(i)},m(i,n){l&&l.m(i,n),e=!0},p(i,n){l&&l.p&&(!e||n&11)&&rt(l,t,i,i[3],e?ot(t,i[3],n,dn):at(i[3]),ys)},i(i){e||(P(l,i),e=!0)},o(i){C(l,i),e=!1},d(i){l&&l.d(i)}}}function mn(s){let e,t,l,i,n=s[1],r=[];for(let d=0;d<n.length;d+=1)r[d]=ks(ws(s,n,d));const a=d=>C(r[d],1,1,()=>{r[d]=null});let o=s[1],c=[];for(let d=0;d<o.length;d+=1)c[d]=Es(bs(s,o,d));const u=d=>C(c[d],1,1,()=>{c[d]=null});return{c(){e=k("div");for(let d=0;d<r.length;d+=1)r[d].c();t=L();for(let d=0;d<c.length;d+=1)c[d].c();l=de(),this.h()},l(d){e=E(d,"DIV",{class:!0});var _=Y(e);for(let h=0;h<r.length;h+=1)r[h].l(_);_.forEach(m),t=F(d);for(let h=0;h<c.length;h+=1)c[h].l(d);l=de(),this.h()},h(){f(e,"class","tab-bar svelte-10tqn7d")},m(d,_){j(d,e,_);for(let h=0;h<r.length;h+=1)r[h].m(e,null);j(d,t,_);for(let h=0;h<c.length;h+=1)c[h].m(d,_);j(d,l,_),i=!0},p(d,[_]){if(_&3){n=d[1];let h;for(h=0;h<n.length;h+=1){const g=ws(d,n,h);r[h]?(r[h].p(g,_),P(r[h],1)):(r[h]=ks(g),r[h].c(),P(r[h],1),r[h].m(e,null))}for(ae(),h=n.length;h<r.length;h+=1)a(h);oe()}if(_&11){o=d[1];let h;for(h=0;h<o.length;h+=1){const g=bs(d,o,h);c[h]?(c[h].p(g,_),P(c[h],1)):(c[h]=Es(g),c[h].c(),P(c[h],1),c[h].m(l.parentNode,l))}for(ae(),h=o.length;h<c.length;h+=1)u(h);oe()}},i(d){if(!i){for(let _=0;_<n.length;_+=1)P(r[_]);for(let _=0;_<o.length;_+=1)P(c[_]);i=!0}},o(d){r=r.filter(Boolean);for(let _=0;_<r.length;_+=1)C(r[_]);c=c.filter(Boolean);for(let _=0;_<c.length;_+=1)C(c[_]);i=!1},d(d){d&&m(e),Re(r,d),d&&m(t),Re(c,d),d&&m(l)}}}function pn(s,e,t){let{$$slots:l={},$$scope:i}=e,{tabs:n=[{id:"UpNext",text:"Up Next",action:()=>{t(0,r=n[0].id)}},{id:"Related",text:"Related",action:()=>{t(0,r=n[1].id)}}]}=e,{active:r=""}=e;return s.$$set=a=>{"tabs"in a&&t(1,n=a.tabs),"active"in a&&t(0,r=a.active),"$$scope"in a&&t(3,i=a.$$scope)},[r,n,l,i]}class _n extends ve{constructor(e){super(),ge(this,e,pn,mn,ke,{tabs:1,active:0})}}function Is(s,e,t){const l=s.slice();return l[7]=e[t],l[9]=t,l}const vn=s=>({item:s&1}),Ys=s=>({item:s[7],index:s[9]});function Ds(s){let e;const t=s[5].default,l=nt(t,s,s[4],Ys);return{c(){l&&l.c()},l(i){l&&l.l(i)},m(i,n){l&&l.m(i,n),e=!0},p(i,n){l&&l.p&&(!e||n&17)&&rt(l,t,i,i[4],e?ot(t,i[4],n,vn):at(i[4]),Ys)},i(i){e||(P(l,i),e=!0)},o(i){C(l,i),e=!1},d(i){l&&l.d(i)}}}function Ns(s){let e,t,l,i,n,r=s[2]&&$s();return{c(){e=k("div"),t=L(),r&&r.c(),l=de()},l(a){e=E(a,"DIV",{}),Y(e).forEach(m),t=F(a),r&&r.l(a),l=de()},m(a,o){j(a,e,o),j(a,t,o),r&&r.m(a,o),j(a,l,o),i||(n=[Be(Xl.call(null,e)),Z(e,"enterViewport",s[6])],i=!0)},p(a,o){a[2]?r||(r=$s(),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},d(a){a&&m(e),a&&m(t),r&&r.d(a),a&&m(l),i=!1,De(n)}}}function $s(s){let e,t,l,i,n,r,a,o,c,u,d,_,h,g,y,w;return{c(){e=k("div"),t=$e("svg"),l=$e("rect"),i=$e("defs"),n=$e("clipPath"),r=$e("rect"),a=$e("rect"),o=$e("rect"),c=$e("rect"),u=$e("linearGradient"),d=$e("stop"),_=$e("animate"),h=$e("stop"),g=$e("animate"),y=$e("stop"),w=$e("animate"),this.h()},l(S){e=E(S,"DIV",{class:!0,style:!0});var b=Y(e);t=Pe(b,"svg",{role:!0,width:!0,height:!0,"aria-labelledby":!0,viewBox:!0,preserveAspectRatio:!0,class:!0});var N=Y(t);l=Pe(N,"rect",{x:!0,y:!0,width:!0,height:!0,"clip-path":!0,class:!0,style:!0}),Y(l).forEach(m),i=Pe(N,"defs",{class:!0});var I=Y(i);n=Pe(I,"clipPath",{id:!0,class:!0});var $=Y(n);r=Pe($,"rect",{x:!0,y:!0,rx:!0,ry:!0,width:!0,height:!0,class:!0}),Y(r).forEach(m),a=Pe($,"rect",{x:!0,y:!0,rx:!0,ry:!0,width:!0,height:!0,class:!0}),Y(a).forEach(m),o=Pe($,"rect",{x:!0,y:!0,rx:!0,ry:!0,width:!0,height:!0,class:!0}),Y(o).forEach(m),c=Pe($,"rect",{x:!0,y:!0,rx:!0,ry:!0,width:!0,height:!0,class:!0}),Y(c).forEach(m),$.forEach(m),u=Pe(I,"linearGradient",{id:!0,class:!0});var M=Y(u);d=Pe(M,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0,class:!0});var p=Y(d);_=Pe(p,"animate",{attributeName:!0,values:!0,keyTimes:!0,dur:!0,repeatCount:!0,class:!0}),Y(_).forEach(m),p.forEach(m),h=Pe(M,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0,class:!0});var D=Y(h);g=Pe(D,"animate",{attributeName:!0,values:!0,keyTimes:!0,dur:!0,repeatCount:!0,class:!0}),Y(g).forEach(m),D.forEach(m),y=Pe(M,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0,class:!0});var V=Y(y);w=Pe(V,"animate",{attributeName:!0,values:!0,keyTimes:!0,dur:!0,repeatCount:!0,class:!0}),Y(w).forEach(m),V.forEach(m),M.forEach(m),I.forEach(m),N.forEach(m),b.forEach(m),this.h()},h(){f(l,"x","5"),f(l,"y","0"),f(l,"width","100%"),f(l,"height","100%"),f(l,"clip-path","url(#clip-path)"),f(l,"class","s-iYjv5-ishYhK s-iYjv5-ishYhK s-iYjv5-ishYhK"),se(l,"fill",'url("#fill")'),f(r,"x","0"),f(r,"y","10%"),f(r,"rx","0"),f(r,"ry","0"),f(r,"width","56"),f(r,"height","70"),f(r,"class","s-iYjv5-ishYhK s-iYjv5-ishYhK s-iYjv5-ishYhK"),f(a,"x","67"),f(a,"y","17"),f(a,"rx","0"),f(a,"ry","0"),f(a,"width","105"),f(a,"height","9"),f(a,"class","s-iYjv5-ishYhK s-iYjv5-ishYhK s-iYjv5-ishYhK"),f(o,"x","67"),f(o,"y","60"),f(o,"rx","0"),f(o,"ry","0"),f(o,"width","94"),f(o,"height","9"),f(o,"class","s-iYjv5-ishYhK s-iYjv5-ishYhK s-iYjv5-ishYhK"),f(c,"x","67"),f(c,"y","38"),f(c,"rx","0"),f(c,"ry","0"),f(c,"width","72"),f(c,"height","9"),f(c,"class","s-iYjv5-ishYhK s-iYjv5-ishYhK s-iYjv5-ishYhK"),f(n,"id","clip-path"),f(n,"class","s-iYjv5-ishYhK s-iYjv5-ishYhK s-iYjv5-ishYhK"),f(_,"attributeName","offset"),f(_,"values","-2; -2; 1"),f(_,"keyTimes","0; 0.25; 1"),f(_,"dur","2s"),f(_,"repeatCount","indefinite"),f(_,"class","s-iYjv5-ishYhK s-iYjv5-ishYhK s-iYjv5-ishYhK"),f(d,"offset","0.599964"),f(d,"stop-color","#4f4f4f"),f(d,"stop-opacity","1"),f(d,"class","s-iYjv5-ishYhK s-iYjv5-ishYhK s-iYjv5-ishYhK"),f(g,"attributeName","offset"),f(g,"values","-1; -1; 2"),f(g,"keyTimes","0; 0.25; 1"),f(g,"dur","2s"),f(g,"repeatCount","indefinite"),f(g,"class","s-iYjv5-ishYhK s-iYjv5-ishYhK s-iYjv5-ishYhK"),f(h,"offset","1.59996"),f(h,"stop-color","#757575"),f(h,"stop-opacity","1"),f(h,"class","s-iYjv5-ishYhK s-iYjv5-ishYhK s-iYjv5-ishYhK"),f(w,"attributeName","offset"),f(w,"values","0; 0; 3"),f(w,"keyTimes","0; 0.25; 1"),f(w,"dur","2s"),f(w,"repeatCount","indefinite"),f(w,"class","s-iYjv5-ishYhK s-iYjv5-ishYhK s-iYjv5-ishYhK"),f(y,"offset","2.59996"),f(y,"stop-color","#4f4f4f"),f(y,"stop-opacity","1"),f(y,"class","s-iYjv5-ishYhK s-iYjv5-ishYhK s-iYjv5-ishYhK"),f(u,"id","fill"),f(u,"class","s-iYjv5-ishYhK s-iYjv5-ishYhK s-iYjv5-ishYhK"),f(i,"class","s-iYjv5-ishYhK s-iYjv5-ishYhK s-iYjv5-ishYhK"),f(t,"role","img"),f(t,"width","50rem"),f(t,"height","6rem"),f(t,"aria-labelledby","loading-aria"),f(t,"viewBox","0 0 575 90"),f(t,"preserveAspectRatio","none"),f(t,"class","s-iYjv5-ishYhK s-iYjv5-ishYhK s-iYjv5-ishYhK"),f(e,"class","loading-results"),se(e,"padding","0em")},m(S,b){j(S,e,b),v(e,t),v(t,l),v(t,i),v(i,n),v(n,r),v(n,a),v(n,o),v(n,c),v(i,u),v(u,d),v(d,_),v(u,h),v(h,g),v(u,y),v(y,w)},d(S){S&&m(e)}}}function gn(s){let e,t,l,i=s[0],n=[];for(let o=0;o<i.length;o+=1)n[o]=Ds(Is(s,i,o));const r=o=>C(n[o],1,1,()=>{n[o]=null});let a=!s[1]&&Ns(s);return{c(){e=k("div");for(let o=0;o<n.length;o+=1)n[o].c();t=L(),a&&a.c(),this.h()},l(o){e=E(o,"DIV",{class:!0});var c=Y(e);for(let u=0;u<n.length;u+=1)n[u].l(c);t=F(c),a&&a.l(c),c.forEach(m),this.h()},h(){f(e,"class","list svelte-1qsn0qz")},m(o,c){j(o,e,c);for(let u=0;u<n.length;u+=1)n[u].m(e,null);v(e,t),a&&a.m(e,null),l=!0},p(o,[c]){if(c&17){i=o[0];let u;for(u=0;u<i.length;u+=1){const d=Is(o,i,u);n[u]?(n[u].p(d,c),P(n[u],1)):(n[u]=Ds(d),n[u].c(),P(n[u],1),n[u].m(e,t))}for(ae(),u=i.length;u<n.length;u+=1)r(u);oe()}o[1]?a&&(a.d(1),a=null):a?a.p(o,c):(a=Ns(o),a.c(),a.m(e,null))},i(o){if(!l){for(let c=0;c<i.length;c+=1)P(n[c]);l=!0}},o(o){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)C(n[c]);l=!1},d(o){o&&m(e),Re(n,o),a&&a.d()}}}function bn(s,e,t){let{$$slots:l={},$$scope:i}=e,{items:n=[]}=e,{hasData:r=!1}=e,{isLoading:a=!1}=e;const o=Qe(),c=()=>o("getMore");return s.$$set=u=>{"items"in u&&t(0,n=u.items),"hasData"in u&&t(1,r=u.hasData),"isLoading"in u&&t(2,a=u.isLoading),"$$scope"in u&&t(4,i=u.$$scope)},[n,r,a,o,i,l,c]}class yn extends ve{constructor(e){super(),ge(this,e,bn,gn,ke,{items:0,hasData:1,isLoading:2})}}function Ps(s,e,t){const l=s.slice();return l[63]=e[t],l[65]=t,l}function Ss(s){let e,t,l,i,n,r,a,o,c,u,d,_,h,g,y,w,S,b,N,I,$,M,p,D,V,z,B,G,T,H,K,A,le,R=s[5]&&Vs(s),W=s[4]&&Cs(s),ie=s[14]&&Bs(),O=s[4]&&Ts(s);return V=new _n({props:{tabs:s[20],active:s[9],$$slots:{tab:[In,({isActive:q,tab:X})=>({59:q,60:X}),({isActive:q,tab:X})=>[0,(q?268435456:0)|(X?536870912:0)]]},$$scope:{ctx:s}}}),{c(){e=k("div"),t=k("div"),l=k("div"),R&&R.c(),i=L(),W&&W.c(),n=L(),r=k("div"),a=k("div"),ie&&ie.c(),o=L(),c=k("div"),u=k("img"),g=L(),O&&O.c(),y=L(),w=k("div"),S=k("hr"),b=L(),N=k("div"),I=k("div"),$=k("hr"),M=L(),p=k("span"),D=L(),J(V.$$.fragment),this.h()},l(q){e=E(q,"DIV",{class:!0});var X=Y(e);t=E(X,"DIV",{class:!0});var he=Y(t);l=E(he,"DIV",{class:!0});var fe=Y(l);R&&R.l(fe),i=F(fe),W&&W.l(fe),n=F(fe),r=E(fe,"DIV",{class:!0,style:!0});var me=Y(r);a=E(me,"DIV",{class:!0});var Ie=Y(a);ie&&ie.l(Ie),o=F(Ie),c=E(Ie,"DIV",{class:!0});var Ve=Y(c);u=E(Ve,"IMG",{id:!0,loading:!0,style:!0,width:!0,height:!0,src:!0,alt:!0,class:!0}),Ve.forEach(m),Ie.forEach(m),me.forEach(m),g=F(fe),O&&O.l(fe),fe.forEach(m),y=F(he),w=E(he,"DIV",{class:!0,style:!0});var Ce=Y(w);S=E(Ce,"HR",{class:!0}),Ce.forEach(m),b=F(he),N=E(he,"DIV",{class:!0,style:!0});var Ne=Y(N);I=E(Ne,"DIV",{class:!0});var Fe=Y(I);$=E(Fe,"HR",{class:!0}),M=F(Fe),p=E(Fe,"SPAN",{}),Y(p).forEach(m),Fe.forEach(m),D=F(Ne),ee(V.$$.fragment,Ne),Ne.forEach(m),he.forEach(m),X.forEach(m),this.h()},h(){var q,X,he,fe,me,Ie;f(u,"id","img"),f(u,"loading","lazy"),se(u,"aspect-ratio",((q=s[10])==null?void 0:q.width)+" / "+((X=s[10])==null?void 0:X.height)),f(u,"width",d=(he=s[10])==null?void 0:he.width),f(u,"height",_=(fe=s[10])==null?void 0:fe.height),Se(u.src,h=s[10]?(me=s[10])==null?void 0:me.url:(Ie=s[2])==null?void 0:Ie.thumbnail)||f(u,"src",h),f(u,"alt","thumbnail"),f(u,"class","svelte-mnzr5h"),f(c,"class","thumbnail svelte-mnzr5h"),f(a,"class","img-container svelte-mnzr5h"),f(r,"class","album-art svelte-mnzr5h"),se(r,"width",(s[4]?"100":s[13]?55:95)+"vw"),f(l,"class","column container"),f(S,"class","vertical svelte-mnzr5h"),f(w,"class","handle vertical svelte-mnzr5h"),se(w,"transform","translate3d("+(s[13]?53.5:91.5)+"vw, 0px, 0)",1),f($,"class","horz svelte-mnzr5h"),f(I,"class","handle horz svelte-mnzr5h"),f(N,"class","column container tracklist svelte-mnzr5h"),f(N,"style",z=s[4]?`transform: translate3d(0, ${s[15]}px, 0); top: ${s[1]-65}px; bottom:0; padding-bottom: calc(6.5em);`:`transform: translate3d(${s[13]?55:93}vw, 0px, 0) !important;`),Ee(()=>s[52].call(N)),f(t,"class","fullscreen-player-popup svelte-mnzr5h"),f(e,"class","backdrop svelte-mnzr5h"),Ee(()=>s[54].call(e)),be(e,"mobile",s[4]),se(e,"pointer-events",s[0]==="open"?"all":"none")},m(q,X){j(q,e,X),v(e,t),v(t,l),R&&R.m(l,null),v(l,i),W&&W.m(l,null),v(l,n),v(l,r),v(r,a),ie&&ie.m(a,null),v(a,o),v(a,c),v(c,u),v(l,g),O&&O.m(l,null),v(t,y),v(t,w),v(w,S),v(t,b),v(t,N),v(N,I),v(I,$),v(I,M),v(I,p),v(N,D),Q(V,N,null),B=Oe(N,s[52].bind(N)),s[53](N),H=Oe(e,s[54].bind(e)),K=!0,A||(le=[Be(ni.call(null,l)),Z(l,"pan",s[42]),Z(l,"panend",s[43]),Z(w,"pointerover",s[44]),Z(w,"click",s[45]),Be(el.call(null,I)),Z(I,"dragstart",pe(s[46]),!0),Z(I,"dragmove",pe(s[47]),!0),Z(I,"dragend",pe(s[48]),!0),Z(I,"pointerdown",s[49]),Z(I,"pointerup",s[50])],A=!0)},p(q,X){var fe,me,Ie,Ve,Ce,Ne;s=q,s[5]?R?R.p(s,X):(R=Vs(s),R.c(),R.m(l,i)):R&&(R.d(1),R=null),s[4]?W?(W.p(s,X),X[0]&16&&P(W,1)):(W=Cs(s),W.c(),P(W,1),W.m(l,n)):W&&(ae(),C(W,1,1,()=>{W=null}),oe()),s[14]?ie?X[0]&16384&&P(ie,1):(ie=Bs(),ie.c(),P(ie,1),ie.m(a,o)):ie&&(ae(),C(ie,1,1,()=>{ie=null}),oe()),(!K||X[0]&1024)&&se(u,"aspect-ratio",((fe=s[10])==null?void 0:fe.width)+" / "+((me=s[10])==null?void 0:me.height)),(!K||X[0]&1024&&d!==(d=(Ie=s[10])==null?void 0:Ie.width))&&f(u,"width",d),(!K||X[0]&1024&&_!==(_=(Ve=s[10])==null?void 0:Ve.height))&&f(u,"height",_),(!K||X[0]&1028&&!Se(u.src,h=s[10]?(Ce=s[10])==null?void 0:Ce.url:(Ne=s[2])==null?void 0:Ne.thumbnail))&&f(u,"src",h),(!K||X[0]&8208)&&se(r,"width",(s[4]?"100":s[13]?55:95)+"vw"),s[4]?O?(O.p(s,X),X[0]&16&&P(O,1)):(O=Ts(s),O.c(),P(O,1),O.m(l,null)):O&&(ae(),C(O,1,1,()=>{O=null}),oe()),(!K||X[0]&8192)&&se(w,"transform","translate3d("+(s[13]?53.5:91.5)+"vw, 0px, 0)",1);const he={};X[0]&512&&(he.active=s[9]),X[0]&65544|X[1]&805306368|X[2]&16&&(he.$$scope={dirty:X,ctx:s}),V.$set(he),(!K||X[0]&40978&&z!==(z=s[4]?`transform: translate3d(0, ${s[15]}px, 0); top: ${s[1]-65}px; bottom:0; padding-bottom: calc(6.5em);`:`transform: translate3d(${s[13]?55:93}vw, 0px, 0) !important;`))&&f(N,"style",z),(!K||X[0]&16)&&be(e,"mobile",s[4]),X[0]&1&&se(e,"pointer-events",s[0]==="open"?"all":"none")},i(q){K||(P(W),P(ie),P(O),P(V.$$.fragment,q),q&&Ee(()=>{T&&T.end(1),G=He(t,s[28],{delay:400,duration:400}),G.start()}),K=!0)},o(q){C(W),C(ie),C(O),C(V.$$.fragment,q),G&&G.invalidate(),q&&(T=Ke(t,s[28],{delay:200,duration:400,easing:Ll})),K=!1},d(q){q&&m(e),R&&R.d(),W&&W.d(),ie&&ie.d(),O&&O.d(),x(V),B(),s[53](null),q&&T&&T.end(),H(),A=!1,De(le)}}}function Vs(s){let e,t,l,i,n;return{c(){e=k("div"),t=k("img"),this.h()},l(r){e=E(r,"DIV",{class:!0});var a=Y(e);t=E(a,"IMG",{id:!0,loading:!0,decoding:!0,style:!0,width:!0,height:!0,src:!0,alt:!0,class:!0}),a.forEach(m),this.h()},h(){var r,a,o,c,u;f(t,"id","img"),f(t,"loading","eager"),f(t,"decoding","sync"),se(t,"aspect-ratio",((r=s[10])==null?void 0:r.width)+" / "+((a=s[10])==null?void 0:a.height)),f(t,"width",l=(o=s[10])==null?void 0:o.width),f(t,"height",i=(c=s[10])==null?void 0:c.height),Se(t.src,n=s[10]?(u=s[10])==null?void 0:u.url:"")||f(t,"src",n),f(t,"alt","thumbnail"),f(t,"class","svelte-mnzr5h"),f(e,"class","immersive svelte-mnzr5h")},m(r,a){j(r,e,a),v(e,t)},p(r,a){var o,c,u,d,_;a[0]&1024&&se(t,"aspect-ratio",((o=r[10])==null?void 0:o.width)+" / "+((c=r[10])==null?void 0:c.height)),a[0]&1024&&l!==(l=(u=r[10])==null?void 0:u.width)&&f(t,"width",l),a[0]&1024&&i!==(i=(d=r[10])==null?void 0:d.height)&&f(t,"height",i),a[0]&1024&&!Se(t.src,n=r[10]?(_=r[10])==null?void 0:_.url:"")&&f(t,"src",n)},d(r){r&&m(e)}}}function Cs(s){let e,t,l;return t=new Xs({props:{items:s[12],tabindex:-1,size:"2em"}}),{c(){e=k("div"),J(t.$$.fragment),this.h()},l(i){e=E(i,"DIV",{class:!0});var n=Y(e);ee(t.$$.fragment,n),n.forEach(m),this.h()},h(){f(e,"class","menu-mobile svelte-mnzr5h")},m(i,n){j(i,e,n),Q(t,e,null),l=!0},p(i,n){const r={};n[0]&4096&&(r.items=i[12]),t.$set(r)},i(i){l||(P(t.$$.fragment,i),l=!0)},o(i){C(t.$$.fragment,i),l=!1},d(i){i&&m(e),x(t)}}}function Bs(s){let e,t;return e=new Zl({props:{size:"3em"}}),{c(){J(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,i){Q(e,l,i),t=!0},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Ts(s){var V,z,B,G;let e,t,l,i,n,r=((V=s[2])==null?void 0:V.title)+"",a,o,c,u,d,_=((z=s[2])!=null&&z.artistInfo&&((B=s[2])!=null&&B.artistInfo.artist.at(0))?(G=s[2])==null?void 0:G.artistInfo.artist.at(0).text:"")+"",h,g,y,w,S,b,N,I,$;w=new sl({});function M(T){s[39](T)}function p(T){s[40](T)}let D={sizes:{main:"2.75em",skip:"1.75em"},isQueue:!0,pause:s[36],nextBtn:s[37],prevBtn:s[38]};return s[18]!==void 0&&(D.isPaused=s[18]),s[6]!==void 0&&(D.loading=s[6]),b=new tl({props:D}),ze.push(()=>tt(b,"isPaused",M,s[18])),ze.push(()=>tt(b,"loading",p,s[6])),b.$on("play",s[41]),{c(){e=k("div"),t=k("div"),l=k("div"),i=k("span"),n=k("span"),a=ne(r),u=L(),d=k("span"),h=ne(_),g=L(),y=k("div"),J(w.$$.fragment),S=L(),J(b.$$.fragment),this.h()},l(T){e=E(T,"DIV",{class:!0});var H=Y(e);t=E(H,"DIV",{class:!0,style:!0});var K=Y(t);l=E(K,"DIV",{class:!0});var A=Y(l);i=E(A,"SPAN",{class:!0,style:!0});var le=Y(i);n=E(le,"SPAN",{class:!0});var R=Y(n);a=re(R,r),R.forEach(m),le.forEach(m),A.forEach(m),u=F(K),d=E(K,"SPAN",{class:!0,style:!0});var W=Y(d);h=re(W,_),W.forEach(m),K.forEach(m),g=F(H),y=E(H,"DIV",{class:!0,style:!0});var ie=Y(y);ee(w.$$.fragment,ie),ie.forEach(m),S=F(H),ee(b.$$.fragment,H),H.forEach(m),this.h()},h(){f(n,"class","h5 marquee-text svelte-mnzr5h"),Ee(()=>s[35].call(n)),f(i,"class","marquee-wrapper svelte-mnzr5h"),f(i,"style",c="animation-play-state: "+(s[0]==="open"&&s[8]>s[17]?"running":"paused")+"; "+(s[8]<s[17]?"animation: none; transform: unset;":"")),f(l,"class","marquee svelte-mnzr5h"),f(d,"class","h6"),se(d,"text-align","center"),f(t,"class","container text-shadow svelte-mnzr5h"),se(t,"overflow","hidden"),f(y,"class","container"),se(y,"margin-bottom","1em"),se(y,"max-width","75vw"),se(y,"margin-inline","auto"),f(e,"class","container controls svelte-mnzr5h")},m(T,H){j(T,e,H),v(e,t),v(t,l),v(l,i),v(i,n),v(n,a),o=Oe(n,s[35].bind(n)),v(t,u),v(t,d),v(d,h),v(e,g),v(e,y),Q(w,y,null),v(e,S),Q(b,e,null),$=!0},p(T,H){var A,le,R,W;(!$||H[0]&4)&&r!==(r=((A=T[2])==null?void 0:A.title)+"")&&we(a,r),(!$||H[0]&131329&&c!==(c="animation-play-state: "+(T[0]==="open"&&T[8]>T[17]?"running":"paused")+"; "+(T[8]<T[17]?"animation: none; transform: unset;":"")))&&f(i,"style",c),(!$||H[0]&4)&&_!==(_=((le=T[2])!=null&&le.artistInfo&&((R=T[2])!=null&&R.artistInfo.artist.at(0))?(W=T[2])==null?void 0:W.artistInfo.artist.at(0).text:"")+"")&&we(h,_);const K={};H[0]&65536&&(K.nextBtn=T[37]),!N&&H[0]&262144&&(N=!0,K.isPaused=T[18],st(()=>N=!1)),!I&&H[0]&64&&(I=!0,K.loading=T[6],st(()=>I=!1)),b.$set(K)},i(T){$||(P(w.$$.fragment,T),P(b.$$.fragment,T),$=!0)},o(T){C(w.$$.fragment,T),C(b.$$.fragment,T),$=!1},d(T){T&&m(e),o(),x(w),x(b)}}}function wn(s){let e,t,l,i=Array.isArray(s[3].carousels),n,r=s[3].description.description&&zs(s),a=i&&Ms(s);return{c(){e=k("div"),t=k("div"),r&&r.c(),l=L(),a&&a.c(),this.h()},l(o){e=E(o,"DIV",{class:!0});var c=Y(e);t=E(c,"DIV",{class:!0});var u=Y(t);r&&r.l(u),l=F(u),a&&a.l(u),u.forEach(m),c.forEach(m),this.h()},h(){f(t,"class","pad svelte-mnzr5h"),f(e,"class","scroller svelte-mnzr5h")},m(o,c){j(o,e,c),v(e,t),r&&r.m(t,null),v(t,l),a&&a.m(t,null),n=!0},p(o,c){o[3].description.description?r?(r.p(o,c),c[0]&8&&P(r,1)):(r=zs(o),r.c(),P(r,1),r.m(t,l)):r&&(ae(),C(r,1,1,()=>{r=null}),oe()),c[0]&8&&(i=Array.isArray(o[3].carousels)),i?a?(a.p(o,c),c[0]&8&&P(a,1)):(a=Ms(o),a.c(),P(a,1),a.m(t,null)):a&&(ae(),C(a,1,1,()=>{a=null}),oe())},i(o){n||(P(r),P(a),n=!0)},o(o){C(r),C(a),n=!1},d(o){o&&m(e),r&&r.d(),a&&a.d()}}}function kn(s){let e,t,l=s[59]&&Ls(s);return{c(){l&&l.c(),e=de()},l(i){l&&l.l(i),e=de()},m(i,n){l&&l.m(i,n),j(i,e,n),t=!0},p(i,n){i[59]?l?(l.p(i,n),n[1]&268435456&&P(l,1)):(l=Ls(i),l.c(),P(l,1),l.m(e.parentNode,e)):l&&(ae(),C(l,1,1,()=>{l=null}),oe())},i(i){t||(P(l),t=!0)},o(i){C(l),t=!1},d(i){l&&l.d(i),i&&m(e)}}}function zs(s){var o,c;let e,t,l=((c=(o=s[3])==null?void 0:o.description)==null?void 0:c.header)+"",i,n,r,a;return r=new Ul({props:{description:s[3].description.description}}),{c(){e=k("div"),t=k("span"),i=ne(l),n=L(),J(r.$$.fragment),this.h()},l(u){e=E(u,"DIV",{class:!0});var d=Y(e);t=E(d,"SPAN",{class:!0});var _=Y(t);i=re(_,l),_.forEach(m),n=F(d),ee(r.$$.fragment,d),d.forEach(m),this.h()},h(){f(t,"class","h2"),f(e,"class","mb-2")},m(u,d){j(u,e,d),v(e,t),v(t,i),v(e,n),Q(r,e,null),a=!0},p(u,d){var h,g;(!a||d[0]&8)&&l!==(l=((g=(h=u[3])==null?void 0:h.description)==null?void 0:g.header)+"")&&we(i,l);const _={};d[0]&8&&(_.description=u[3].description.description),r.$set(_)},i(u){a||(P(r.$$.fragment,u),a=!0)},o(u){C(r.$$.fragment,u),a=!1},d(u){u&&m(e),x(r)}}}function Ms(s){let e=s[3].carousels,t,l,i=js(s);return{c(){i.c(),t=de()},l(n){i.l(n),t=de()},m(n,r){i.m(n,r),j(n,t,r),l=!0},p(n,r){r[0]&8&&ke(e,e=n[3].carousels)?(ae(),C(i,1,1,_e),oe(),i=js(n),i.c(),P(i,1),i.m(t.parentNode,t)):i.p(n,r)},i(n){l||(P(i),l=!0)},o(n){C(i),l=!1},d(n){n&&m(t),i.d(n)}}}function As(s){var l;let e,t;return e=new Wl({props:{header:s[63].header,items:s[63].items,type:"home",kind:(l=s[63].header)==null?void 0:l.type,isBrowseEndpoint:!1}}),{c(){J(e.$$.fragment)},l(i){ee(e.$$.fragment,i)},m(i,n){Q(e,i,n),t=!0},p(i,n){var a;const r={};n[0]&8&&(r.header=i[63].header),n[0]&8&&(r.items=i[63].items),n[0]&8&&(r.kind=(a=i[63].header)==null?void 0:a.type),e.$set(r)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){C(e.$$.fragment,i),t=!1},d(i){x(e,i)}}}function js(s){let e,t,l=s[3].carousels,i=[];for(let r=0;r<l.length;r+=1)i[r]=As(Ps(s,l,r));const n=r=>C(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=de()},l(r){for(let a=0;a<i.length;a+=1)i[a].l(r);e=de()},m(r,a){for(let o=0;o<i.length;o+=1)i[o].m(r,a);j(r,e,a),t=!0},p(r,a){if(a[0]&8){l=r[3].carousels;let o;for(o=0;o<l.length;o+=1){const c=Ps(r,l,o);i[o]?(i[o].p(c,a),P(i[o],1)):(i[o]=As(c),i[o].c(),P(i[o],1),i[o].m(e.parentNode,e))}for(ae(),o=l.length;o<i.length;o+=1)n(o);oe()}},i(r){if(!t){for(let a=0;a<l.length;a+=1)P(i[a]);t=!0}},o(r){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)C(i[a]);t=!1},d(r){Re(i,r),r&&m(e)}}}function Ls(s){let e,t,l;return t=new yn({props:{items:s[16],hasData:!0,$$slots:{default:[En,({index:i,item:n})=>({61:i,62:n}),({index:i,item:n})=>[0,i?1073741824:0,n?1:0]]},$$scope:{ctx:s}}}),{c(){e=k("div"),J(t.$$.fragment),this.h()},l(i){e=E(i,"DIV",{class:!0});var n=Y(e);ee(t.$$.fragment,n),n.forEach(m),this.h()},h(){f(e,"class","scroller svelte-mnzr5h")},m(i,n){j(i,e,n),Q(t,e,null),l=!0},p(i,n){const r={};n[0]&65536&&(r.items=i[16]),n[1]&1073741824|n[2]&17&&(r.$$scope={dirty:n,ctx:i}),t.$set(r)},i(i){l||(P(t.$$.fragment,i),l=!0)},o(i){C(t.$$.fragment,i),l=!1},d(i){i&&m(e),x(t)}}}function En(s){let e,t;return e=new Kl({props:{item:s[62],idx:s[61]}}),e.$on("setPageIsPlaying",s[51]),{c(){J(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,i){Q(e,l,i),t=!0},p(l,i){const n={};i[2]&1&&(n.item=l[62]),i[1]&1073741824&&(n.idx=l[61]),e.$set(n)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function In(s){let e,t,l,i;const n=[kn,wn],r=[];function a(o,c){return o[60].id==="UpNext"?0:o[59]?1:-1}return~(e=a(s))&&(t=r[e]=n[e](s)),{c(){t&&t.c(),l=de()},l(o){t&&t.l(o),l=de()},m(o,c){~e&&r[e].m(o,c),j(o,l,c),i=!0},p(o,c){let u=e;e=a(o),e===u?~e&&r[e].p(o,c):(t&&(ae(),C(r[u],1,1,()=>{r[u]=null}),oe()),~e?(t=r[e],t?t.p(o,c):(t=r[e]=n[e](o),t.c()),P(t,1),t.m(l.parentNode,l)):t=null)},i(o){i||(P(t),i=!0)},o(o){C(t),i=!1},d(o){~e&&r[e].d(o),o&&m(l)}}}function Yn(s){let e,t,l=s[16].length&&s[0]==="open"&&Ss(s);return{c(){l&&l.c(),e=de()},l(i){l&&l.l(i),e=de()},m(i,n){l&&l.m(i,n),j(i,e,n),t=!0},p(i,n){i[16].length&&i[0]==="open"?l?(l.p(i,n),n[0]&65537&&P(l,1)):(l=Ss(i),l.c(),P(l,1),l.m(e.parentNode,e)):l&&(ae(),C(l,1,1,()=>{l=null}),oe())},i(i){t||(P(l),t=!0)},o(i){C(l),t=!1},d(i){l&&l.d(i),i&&m(e)}}}function Dn(s,e,t){let l,i,n,r,a,o,c,u,d,_,h,g,y,w,S,b,N,I,$,M;te(s,zl,U=>t(3,a=U)),te(s,zt,U=>t(29,o=U)),te(s,Hs,U=>t(30,c=U)),te(s,Bt,U=>t(31,u=U)),te(s,Ks,U=>t(4,d=U)),te(s,Ml,U=>t(32,_=U)),te(s,Al,U=>t(33,h=U)),te(s,jl,U=>t(5,g=U)),te(s,ql,U=>t(34,S=U)),te(s,Ae,U=>t(58,b=U)),te(s,lt,U=>t(6,N=U)),te(s,ut,U=>t(16,I=U)),te(s,Tt,U=>t(17,$=U));let{state:p}=e;const{paused:D}=ce;te(s,D,U=>t(18,M=U));let V=0,z=0,B=!1,G=320,T="UpNext",H,K;const A=[{id:"UpNext",text:"Up Next",action:()=>{t(9,T=A[0].id)}},{id:"Related",text:"Related",action:async()=>{b.related&&t(9,T=A[1].id)}}],le=Vt(0,{duration:180,easing:Je});te(s,le,U=>t(15,w=U));const R=Vt(0,{duration:180,easing:Je});te(s,R,U=>t(57,y=U)),Fl.set({page:"queue"});function W(U,{detail:ue}){B=!0}function ie(U,ue){B&&(Math.sign(ue.deltaY)<0?q(U,ue):X(U,ue),B=!1)}function O(U,ue){U===1?le.set(Math.min(48,Math.max(n,ue.clientY-8)),{duration:180}):R.set(0-(ue.clientY*.7+ue.clientY*.3)/V,{duration:180})}function q(U,ue){const je=ue.deltaY/z,Le=(ue.velocityY>=0&&ue.velocityY>.2,1-je)*V;U===1?le.update(()=>n,{duration:Math.min(Le/Math.abs(ue.velocityY),640)}):R.update(dt=>0,{duration:Math.min(Le/Math.abs(ue.velocityY),640)})}function X(U,ue){const je=ue.deltaY/z,Le=(ue.velocityY>=0&&ue.velocityY>.2?1-je:je)*V;U===1?le.set(0,{duration:Math.min(Le/Math.abs(ue.velocityY),640)}):R.update(dt=>V,{duration:Math.min(Le/Math.abs(ue.velocityY),640)}),B=!1}function he(U,{duration:ue=400,delay:je=400,easing:Nt=pt}){const Le=getComputedStyle(U),dt=+Le.opacity,pl=Le.transform==="none"?"":Le.transform,_l=dt*(1-0);return{easing:Nt,duration:ue,delay:je,css(vl,gl){return`
				will-change: transform, opacity;
					transform: ${pl} translate3d(0vh, ${(1-vl)*100}vh, 0vh);
					opacity: ${dt-_l*gl};
				`}}}let fe;function me(){G=this.clientWidth,t(8,G)}const Ie=()=>ce.pause(),Ve=()=>{I.length!==0&&Ae.next(!0,!!Te.hasActiveSession)},Ce=()=>ce.previous(!0);function Ne(U){M=U,D.set(M)}function Fe(U){N=U,lt.set(N)}const qe=()=>ce.play(),ct=U=>{if(!d)return;const{detail:ue}=U;Math.abs(ue.deltaY)<105||O(0,ue)},ft=U=>{if(!d)return;const{detail:ue}=U,je=Math.sign(ue.deltaY)===-1?"up":"down";Math.abs(ue.deltaY)<105||(je==="down"?(X(0,ue),Ye.set("closed")):q(0,ue))},il=()=>{t(11,K.style.willChange="transform",K)},nl=()=>{Xt(()=>{t(13,r=!r),t(11,K.style.willChange="unset",K)})},rl=U=>W(1,U),al=U=>O(1,U.detail),ol=U=>ie(1,U.detail),ul=()=>{t(11,K.style.willChange="scroll-position, transform",K)},cl=()=>{Xt(()=>{t(11,K.style.willChange="unset",K)})},fl=()=>{Ft.has("player-queue")||Ft.add("player-queue")};function dl(){z=this.clientHeight,t(7,z)}function hl(U){ze[U?"unshift":"push"](()=>{K=U,t(11,K)})}function ml(){V=this.clientHeight,t(1,V)}return s.$$set=U=>{"state"in U&&t(0,p=U.state)},s.$$.update=()=>{s.$$.dirty[0]&64&&t(14,l=N),s.$$.dirty[1]&1&&t(2,i=u),s.$$.dirty[0]&2&&(n=-V+140),s.$$.dirty[0]&4&&t(10,H=Array.isArray(i==null?void 0:i.thumbnails)?i==null?void 0:i.thumbnails.at(-1):{width:0,height:0,url:"",placeholder:""}),s.$$.dirty[1]&8&&S!==null&&(Ye.set("closed"),bt(le,w=0,w),bt(R,y=0,y)),s.$$.dirty[0]&32|s.$$.dirty[1]&6&&console.log(g,h,_),s.$$.dirty[0]&1610612752|s.$$.dirty[1]&1&&(d?t(12,fe=ll(u,c,Te.hasActiveSession,o)):t(12,fe=void 0)),s.$$.dirty[0]&8&&console.log(a)},t(13,r=!0),[p,V,i,a,d,g,N,z,G,T,H,K,fe,r,l,w,I,$,M,D,A,le,R,W,ie,O,q,X,he,o,c,u,_,h,S,me,Ie,Ve,Ce,Ne,Fe,qe,ct,ft,il,nl,rl,al,ol,ul,cl,fl,dl,hl,ml]}class Nn extends ve{constructor(e){super(),ge(this,e,Dn,Yn,ke,{state:0},null,[-1,-1,-1])}}function Fs(s){let e,t,l,i,n,r,a,o,c,u,d;const _=[Pn,$n],h=[];function g(y,w){return y[0]===0?0:y[0]===1?1:-1}return~(i=g(s))&&(n=h[i]=_[i](s)),a=new Os({props:{class:"danger",$$slots:{default:[Vn]},$$scope:{ctx:s}}}),a.$on("click",s[9]),{c(){e=k("div"),t=k("div"),l=k("div"),n&&n.c(),r=L(),J(a.$$.fragment),this.h()},l(y){e=E(y,"DIV",{class:!0});var w=Y(e);t=E(w,"DIV",{class:!0});var S=Y(t);l=E(S,"DIV",{class:!0});var b=Y(l);n&&n.l(b),b.forEach(m),r=F(S),ee(a.$$.fragment,S),S.forEach(m),w.forEach(m),this.h()},h(){f(l,"class","modal-container svelte-q8yfvu"),f(t,"class","groupSessionCreator modal svelte-q8yfvu"),f(e,"class","backdrop")},m(y,w){j(y,e,w),v(e,t),v(t,l),~i&&h[i].m(l,null),v(t,r),Q(a,t,null),c=!0,u||(d=[Z(t,"click_outside",s[10]),Be(Dt.call(null,t))],u=!0)},p(y,w){let S=i;i=g(y),i===S?~i&&h[i].p(y,w):(n&&(ae(),C(h[S],1,1,()=>{h[S]=null}),oe()),~i?(n=h[i],n?n.p(y,w):(n=h[i]=_[i](y),n.c()),P(n,1),n.m(l,null)):n=null);const b={};w&8192&&(b.$$scope={dirty:w,ctx:y}),a.$set(b)},i(y){c||(P(n),P(a.$$.fragment,y),Ee(()=>{o||(o=Ge(e,Me,{},!0)),o.run(1)}),c=!0)},o(y){C(n),C(a.$$.fragment,y),o||(o=Ge(e,Me,{},!1)),o.run(0),c=!1},d(y){y&&m(e),~i&&h[i].d(),x(a),y&&o&&o.end(),u=!1,De(d)}}}function $n(s){let e,t,l,i,n,r,a,o,c,u,d,_,h,g,y,w,S,b,N,I,$,M;return{c(){e=k("div"),t=k("span"),l=ne("Created Group Session!"),i=L(),n=k("div"),r=k("p"),a=ne(`Your group session has been created! You can invite anyone to join your session by sending them the link\r
							found below!`),o=L(),c=k("p"),u=L(),d=k("p"),_=ne("Your Session URL:"),h=L(),g=k("div"),y=k("p"),w=ne(s[3]),S=L(),b=k("div"),N=k("span"),I=ne("Copy"),this.h()},l(p){e=E(p,"DIV",{class:!0});var D=Y(e);t=E(D,"SPAN",{class:!0});var V=Y(t);l=re(V,"Created Group Session!"),V.forEach(m),D.forEach(m),i=F(p),n=E(p,"DIV",{class:!0});var z=Y(n);r=E(z,"P",{});var B=Y(r);a=re(B,`Your group session has been created! You can invite anyone to join your session by sending them the link\r
							found below!`),B.forEach(m),o=F(z),c=E(z,"P",{}),Y(c).forEach(m),u=F(z),d=E(z,"P",{});var G=Y(d);_=re(G,"Your Session URL:"),G.forEach(m),h=F(z),g=E(z,"DIV",{class:!0});var T=Y(g);y=E(T,"P",{class:!0});var H=Y(y);w=re(H,s[3]),H.forEach(m),T.forEach(m),S=F(z),b=E(z,"DIV",{class:!0});var K=Y(b);N=E(K,"SPAN",{class:!0});var A=Y(N);I=re(A,"Copy"),A.forEach(m),K.forEach(m),z.forEach(m),this.h()},h(){f(t,"class","h2"),f(e,"class","modal-header"),f(y,"class","svelte-q8yfvu"),f(g,"class","url svelte-q8yfvu"),f(N,"class","copy link svelte-q8yfvu"),f(b,"class","container"),f(n,"class","modal-body")},m(p,D){j(p,e,D),v(e,t),v(t,l),j(p,i,D),j(p,n,D),v(n,r),v(r,a),v(n,o),v(n,c),v(n,u),v(n,d),v(d,_),v(n,h),v(n,g),v(g,y),v(y,w),v(n,S),v(n,b),v(b,N),v(N,I),$||(M=Z(N,"click",s[8]),$=!0)},p(p,D){D&8&&we(w,p[3])},i:_e,o:_e,d(p){p&&m(e),p&&m(i),p&&m(n),$=!1,M()}}}function Pn(s){let e,t,l,i,n,r,a,o,c,u,d,_,h,g,y,w,S,b,N,I,$,M,p,D,V,z,B,G,T,H,K,A,le;return G=new Os({props:{type:"submit",disabled:!s[1],$$slots:{default:[Sn]},$$scope:{ctx:s}}}),G.$on("click",s[5]),{c(){e=k("div"),t=k("span"),l=ne("New Group Session"),i=L(),n=k("br"),r=L(),a=k("div"),o=k("form"),c=k("div"),u=k("p"),d=ne("Enter your display name:"),_=L(),h=k("div"),g=k("input"),y=L(),w=k("div"),S=k("p"),b=ne("Settings"),N=L(),I=k("div"),$=k("p"),M=ne(`Force Sync\r
										`),p=k("input"),D=L(),V=k("br"),z=L(),B=k("div"),J(G.$$.fragment),T=L(),H=k("br"),this.h()},l(R){e=E(R,"DIV",{class:!0});var W=Y(e);t=E(W,"SPAN",{class:!0});var ie=Y(t);l=re(ie,"New Group Session"),ie.forEach(m),W.forEach(m),i=F(R),n=E(R,"BR",{}),r=F(R),a=E(R,"DIV",{class:!0});var O=Y(a);o=E(O,"FORM",{});var q=Y(o);c=E(q,"DIV",{class:!0});var X=Y(c);u=E(X,"P",{});var he=Y(u);d=re(he,"Enter your display name:"),he.forEach(m),_=F(X),h=E(X,"DIV",{class:!0});var fe=Y(h);g=E(fe,"INPUT",{type:!0,class:!0}),fe.forEach(m),X.forEach(m),y=F(q),w=E(q,"DIV",{class:!0});var me=Y(w);S=E(me,"P",{class:!0});var Ie=Y(S);b=re(Ie,"Settings"),Ie.forEach(m),N=F(me),I=E(me,"DIV",{});var Ve=Y(I);$=E(Ve,"P",{style:!0});var Ce=Y($);M=re(Ce,`Force Sync\r
										`),p=E(Ce,"INPUT",{type:!0,style:!0}),Ce.forEach(m),Ve.forEach(m),D=F(me),V=E(me,"BR",{}),z=F(me),B=E(me,"DIV",{});var Ne=Y(B);ee(G.$$.fragment,Ne),Ne.forEach(m),T=F(me),H=E(me,"BR",{}),me.forEach(m),q.forEach(m),O.forEach(m),this.h()},h(){f(t,"class","h2"),f(e,"class","modal-header"),f(g,"type",""),f(g,"class","input"),f(h,"class","input"),f(c,"class","container"),f(S,"class","h4 my-2"),f(p,"type","checkbox"),se(p,"vertical-align","middle"),se(p,"margin-left","1em"),se($,"display","inline-block"),f(w,"class","container"),f(a,"class","modal-body")},m(R,W){j(R,e,W),v(e,t),v(t,l),j(R,i,W),j(R,n,W),j(R,r,W),j(R,a,W),v(a,o),v(o,c),v(c,u),v(u,d),v(c,_),v(c,h),v(h,g),Ue(g,s[1]),v(o,y),v(o,w),v(w,S),v(S,b),v(w,N),v(w,I),v(I,$),v($,M),v($,p),p.checked=s[2],v(w,D),v(w,V),v(w,z),v(w,B),Q(G,B,null),v(w,T),v(w,H),K=!0,A||(le=[Z(g,"input",s[6]),Z(p,"change",s[7]),Z(o,"submit",s[5])],A=!0)},p(R,W){W&2&&g.value!==R[1]&&Ue(g,R[1]),W&4&&(p.checked=R[2]);const ie={};W&2&&(ie.disabled=!R[1]),W&8192&&(ie.$$scope={dirty:W,ctx:R}),G.$set(ie)},i(R){K||(P(G.$$.fragment,R),K=!0)},o(R){C(G.$$.fragment,R),K=!1},d(R){R&&m(e),R&&m(i),R&&m(n),R&&m(r),R&&m(a),x(G),A=!1,De(le)}}}function Sn(s){let e;return{c(){e=ne("Create Group Session")},l(t){e=re(t,"Create Group Session")},m(t,l){j(t,e,l)},d(t){t&&m(e)}}}function Vn(s){let e;return{c(){e=ne("Close")},l(t){e=re(t,"Close")},m(t,l){j(t,e,l)},d(t){t&&m(e)}}}function Cn(s){let e,t,l=s[4]&&Fs(s);return{c(){l&&l.c(),e=de()},l(i){l&&l.l(i),e=de()},m(i,n){l&&l.m(i,n),j(i,e,n),t=!0},p(i,[n]){i[4]?l?(l.p(i,n),n&16&&P(l,1)):(l=Fs(i),l.c(),P(l,1),l.m(e.parentNode,e)):l&&(ae(),C(l,1,1,()=>{l=null}),oe())},i(i){t||(P(l),t=!0)},o(i){C(l),t=!1},d(i){l&&l.d(i),i&&m(e)}}}function Bn(s,e,t){let l,i;te(s,zt,y=>t(11,l=y)),te(s,Us,y=>t(12,y)),te(s,_t,y=>t(4,i=y));let n=0,r="",a=!0,o="";async function c(){r&&(t(1,r=Ol(r)),Te.init(r,"host",{forceSync:a}),await Zs(),t(0,n++,n),t(3,o=`${l}/session?token=${Ws.toBase64(JSON.stringify({clientId:Te.client.clientId,displayName:Te.client.displayName}))}`))}function u(){r=this.value,t(1,r)}function d(){a=this.checked,t(2,a)}return[n,r,a,o,i,c,u,d,async y=>{const w=y.currentTarget;await navigator.clipboard.writeText(o),w.innerText="Copied!",setTimeout(()=>{w.innerText="Copy"},1500)},()=>{_t.set(!1)},()=>bt(_t,i=!1,i)]}class Tn extends ve{constructor(e){super(),ge(this,e,Bn,Cn,ke,{})}}const{window:zn}=Yl;function Mn(s){let e;const t=s[8].default,l=nt(t,s,s[12],null);return{c(){l&&l.c()},l(i){l&&l.l(i)},m(i,n){l&&l.m(i,n),e=!0},p(i,n){l&&l.p&&(!e||n&4096)&&rt(l,t,i,i[12],e?ot(t,i[12],n,null):at(i[12]),null)},i(i){e||(P(l,i),e=!0)},o(i){C(l,i),e=!1},d(i){l&&l.d(i)}}}function An(s){let e,t,l,i,n,r,a,o,c,u,d,_,h,g,y,w,S,b,N,I,$,M;return e=new ii({props:{key:s[4]}}),l=new bi({props:{main:s[1]}}),r=new Xi({props:{key:s[4],main:s[1],$$slots:{default:[Mn]},$$scope:{ctx:s}}}),o=new on({}),o.$on("close",s[11]),u=new Tn({}),_=new Oi({}),w=new Nn({props:{state:s[2]?"open":"closed"}}),N=new Hi({}),{c(){J(e.$$.fragment),t=L(),J(l.$$.fragment),i=L(),n=k("div"),J(r.$$.fragment),a=L(),J(o.$$.fragment),c=L(),J(u.$$.fragment),d=L(),h=k("div"),J(_.$$.fragment),y=L(),J(w.$$.fragment),S=L(),b=k("footer"),J(N.$$.fragment),this.h()},l(p){ee(e.$$.fragment,p),t=F(p),ee(l.$$.fragment,p),i=F(p),n=E(p,"DIV",{class:!0,hasplayer:!0,id:!0});var D=Y(n);ee(r.$$.fragment,D),D.forEach(m),a=F(p),ee(o.$$.fragment,p),c=F(p),ee(u.$$.fragment,p),d=F(p),h=E(p,"DIV",{style:!0});var V=Y(h);ee(_.$$.fragment,V),y=F(p),ee(w.$$.fragment,p),S=F(p),b=E(p,"FOOTER",{class:!0});var z=Y(b);ee(N.$$.fragment,z),z.forEach(m),this.h()},h(){f(n,"class","wrapper app-content-m"),f(n,"hasplayer",s[3]),f(n,"id","wrapper"),se(n,"overflow-y",s[0].route.id==="/search/[slug]"&&!s[0].url.search.includes("all")?"hidden":"auto"),se(h,"display","contents"),se(h,"--alert-bottom",g=s[3]?"5.75em":"0rem"),f(b,"class","footer-container"),be(b,"show-player",s[3])},m(p,D){Q(e,p,D),j(p,t,D),Q(l,p,D),j(p,i,D),j(p,n,D),Q(r,n,null),s[10](n),j(p,a,D),Q(o,p,D),j(p,c,D),Q(u,p,D),j(p,d,D),j(p,h,D),Q(_,h,null),j(p,y,D),Q(w,p,D),j(p,S,D),j(p,b,D),Q(N,b,null),I=!0,$||(M=Z(zn,"beforeunload",s[9]),$=!0)},p(p,[D]){const V={};D&16&&(V.key=p[4]),e.$set(V);const z={};D&2&&(z.main=p[1]),l.$set(z);const B={};D&16&&(B.key=p[4]),D&2&&(B.main=p[1]),D&4096&&(B.$$scope={dirty:D,ctx:p}),r.$set(B),(!I||D&8)&&f(n,"hasplayer",p[3]),D&1&&se(n,"overflow-y",p[0].route.id==="/search/[slug]"&&!p[0].url.search.includes("all")?"hidden":"auto"),D&8&&g!==(g=p[3]?"5.75em":"0rem")&&se(h,"--alert-bottom",g);const G={};D&4&&(G.state=p[2]?"open":"closed"),w.$set(G),(!I||D&8)&&be(b,"show-player",p[3])},i(p){I||(P(e.$$.fragment,p),P(l.$$.fragment,p),P(r.$$.fragment,p),P(o.$$.fragment,p),P(u.$$.fragment,p),P(_.$$.fragment,p),P(w.$$.fragment,p),P(N.$$.fragment,p),I=!0)},o(p){C(e.$$.fragment,p),C(l.$$.fragment,p),C(r.$$.fragment,p),C(o.$$.fragment,p),C(u.$$.fragment,p),C(_.$$.fragment,p),C(w.$$.fragment,p),C(N.$$.fragment,p),I=!1},d(p){x(e,p),p&&m(t),x(l,p),p&&m(i),p&&m(n),x(r),s[10](null),p&&m(a),x(o,p),p&&m(c),x(u,p),p&&m(d),p&&_&&m(h),x(_,p),p&&m(y),x(w,p),p&&m(S),p&&m(b),x(N),$=!1,M()}}}function jn(s,e,t){let l,i,n,r,a,o;te(s,Ae,w=>t(5,n=w)),te(s,ut,w=>t(6,r=w)),te(s,Ye,w=>t(7,a=w)),te(s,Us,w=>t(0,o=w));let{$$slots:c={},$$scope:u}=e,d,_=!1;Dl(({from:w,to:S})=>{d&&t(1,d.scrollTop=0,d)});const h=()=>{Te.initialized&&Te.hasActiveSession&&Te.disconnect(),ce.dispose()};function g(w){ze[w?"unshift":"push"](()=>{d=w,t(1,d)})}const y=()=>{yt.set({state:!1,item:{}})};return s.$$set=w=>{"$$scope"in w&&t(12,u=w.$$scope)},s.$$.update=()=>{s.$$.dirty&1&&t(4,l=o.data.key),s.$$.dirty&128&&(a==="open"?setTimeout(()=>{t(2,_=!0)},425):setTimeout(()=>{t(2,_=!1)},0)),s.$$.dirty&64&&t(3,i=r.length!==0),s.$$.dirty&32},[o,d,_,i,l,n,r,a,c,h,g,y,u]}class ir extends ve{constructor(e){super(),ge(this,e,jn,An,ke,{})}}export{ir as default};
